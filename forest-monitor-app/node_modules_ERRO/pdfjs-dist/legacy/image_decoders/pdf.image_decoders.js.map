{"version":3,"file":"pdf.image_decoders.js","mappings":"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","sources":["webpack://pdfjs-dist/image_decoders/pdf.image_decoders/webpack/universalModuleDefinition","webpack://pdfjs-dist/image_decoders/pdf.image_decoders/src/shared/util.js","webpack://pdfjs-dist/image_decoders/pdf.image_decoders/src/shared/compatibility.js","webpack://pdfjs-dist/image_decoders/pdf.image_decoders/src/shared/is_node.js","webpack://pdfjs-dist/image_decoders/pdf.image_decoders/node_modules/dommatrix/dist/dommatrix.js","webpack://pdfjs-dist/image_decoders/pdf.image_decoders/src/core/jbig2.js","webpack://pdfjs-dist/image_decoders/pdf.image_decoders/src/core/core_utils.js","webpack://pdfjs-dist/image_decoders/pdf.image_decoders/src/core/primitives.js","webpack://pdfjs-dist/image_decoders/pdf.image_decoders/node_modules/@babel/runtime/regenerator/index.js","webpack://pdfjs-dist/image_decoders/pdf.image_decoders/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js","webpack://pdfjs-dist/image_decoders/pdf.image_decoders/src/core/base_stream.js","webpack://pdfjs-dist/image_decoders/pdf.image_decoders/src/core/arithmetic_decoder.js","webpack://pdfjs-dist/image_decoders/pdf.image_decoders/src/core/ccitt.js","webpack://pdfjs-dist/image_decoders/pdf.image_decoders/src/core/jpg.js","webpack://pdfjs-dist/image_decoders/pdf.image_decoders/src/core/jpx.js","webpack://pdfjs-dist/image_decoders/pdf.image_decoders/webpack/bootstrap","webpack://pdfjs-dist/image_decoders/pdf.image_decoders/webpack/runtime/node module decorator","webpack://pdfjs-dist/image_decoders/pdf.image_decoders/src/pdf.image_decoders.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"pdfjs-dist/image_decoders/pdf.image_decoders\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"pdfjs-dist/image_decoders/pdf.image_decoders\"] = factory();\n\telse\n\t\troot[\"pdfjs-dist/image_decoders/pdf.image_decoders\"] = factory();\n})(this, function() {\nreturn ","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport \"./compatibility.js\";\n\nconst IDENTITY_MATRIX = [1, 0, 0, 1, 0, 0];\nconst FONT_IDENTITY_MATRIX = [0.001, 0, 0, 0.001, 0, 0];\n\n/**\n * Refer to the `WorkerTransport.getRenderingIntent`-method in the API, to see\n * how these flags are being used:\n *  - ANY, DISPLAY, and PRINT are the normal rendering intents, note the\n *    `PDFPageProxy.{render, getOperatorList, getAnnotations}`-methods.\n *  - ANNOTATIONS_FORMS, ANNOTATIONS_STORAGE, ANNOTATIONS_DISABLE control which\n *    annotations are rendered onto the canvas (i.e. by being included in the\n *    operatorList), note the `PDFPageProxy.{render, getOperatorList}`-methods\n *    and their `annotationMode`-option.\n *  - OPLIST is used with the `PDFPageProxy.getOperatorList`-method, note the\n *    `OperatorList`-constructor (on the worker-thread).\n */\nconst RenderingIntentFlag = {\n  ANY: 0x01,\n  DISPLAY: 0x02,\n  PRINT: 0x04,\n  ANNOTATIONS_FORMS: 0x10,\n  ANNOTATIONS_STORAGE: 0x20,\n  ANNOTATIONS_DISABLE: 0x40,\n  OPLIST: 0x100,\n};\n\nconst AnnotationMode = {\n  DISABLE: 0,\n  ENABLE: 1,\n  ENABLE_FORMS: 2,\n  ENABLE_STORAGE: 3,\n};\n\n// Permission flags from Table 22, Section 7.6.3.2 of the PDF specification.\nconst PermissionFlag = {\n  PRINT: 0x04,\n  MODIFY_CONTENTS: 0x08,\n  COPY: 0x10,\n  MODIFY_ANNOTATIONS: 0x20,\n  FILL_INTERACTIVE_FORMS: 0x100,\n  COPY_FOR_ACCESSIBILITY: 0x200,\n  ASSEMBLE: 0x400,\n  PRINT_HIGH_QUALITY: 0x800,\n};\n\nconst TextRenderingMode = {\n  FILL: 0,\n  STROKE: 1,\n  FILL_STROKE: 2,\n  INVISIBLE: 3,\n  FILL_ADD_TO_PATH: 4,\n  STROKE_ADD_TO_PATH: 5,\n  FILL_STROKE_ADD_TO_PATH: 6,\n  ADD_TO_PATH: 7,\n  FILL_STROKE_MASK: 3,\n  ADD_TO_PATH_FLAG: 4,\n};\n\nconst ImageKind = {\n  GRAYSCALE_1BPP: 1,\n  RGB_24BPP: 2,\n  RGBA_32BPP: 3,\n};\n\nconst AnnotationType = {\n  TEXT: 1,\n  LINK: 2,\n  FREETEXT: 3,\n  LINE: 4,\n  SQUARE: 5,\n  CIRCLE: 6,\n  POLYGON: 7,\n  POLYLINE: 8,\n  HIGHLIGHT: 9,\n  UNDERLINE: 10,\n  SQUIGGLY: 11,\n  STRIKEOUT: 12,\n  STAMP: 13,\n  CARET: 14,\n  INK: 15,\n  POPUP: 16,\n  FILEATTACHMENT: 17,\n  SOUND: 18,\n  MOVIE: 19,\n  WIDGET: 20,\n  SCREEN: 21,\n  PRINTERMARK: 22,\n  TRAPNET: 23,\n  WATERMARK: 24,\n  THREED: 25,\n  REDACT: 26,\n};\n\nconst AnnotationStateModelType = {\n  MARKED: \"Marked\",\n  REVIEW: \"Review\",\n};\n\nconst AnnotationMarkedState = {\n  MARKED: \"Marked\",\n  UNMARKED: \"Unmarked\",\n};\n\nconst AnnotationReviewState = {\n  ACCEPTED: \"Accepted\",\n  REJECTED: \"Rejected\",\n  CANCELLED: \"Cancelled\",\n  COMPLETED: \"Completed\",\n  NONE: \"None\",\n};\n\nconst AnnotationReplyType = {\n  GROUP: \"Group\",\n  REPLY: \"R\",\n};\n\nconst AnnotationFlag = {\n  INVISIBLE: 0x01,\n  HIDDEN: 0x02,\n  PRINT: 0x04,\n  NOZOOM: 0x08,\n  NOROTATE: 0x10,\n  NOVIEW: 0x20,\n  READONLY: 0x40,\n  LOCKED: 0x80,\n  TOGGLENOVIEW: 0x100,\n  LOCKEDCONTENTS: 0x200,\n};\n\nconst AnnotationFieldFlag = {\n  READONLY: 0x0000001,\n  REQUIRED: 0x0000002,\n  NOEXPORT: 0x0000004,\n  MULTILINE: 0x0001000,\n  PASSWORD: 0x0002000,\n  NOTOGGLETOOFF: 0x0004000,\n  RADIO: 0x0008000,\n  PUSHBUTTON: 0x0010000,\n  COMBO: 0x0020000,\n  EDIT: 0x0040000,\n  SORT: 0x0080000,\n  FILESELECT: 0x0100000,\n  MULTISELECT: 0x0200000,\n  DONOTSPELLCHECK: 0x0400000,\n  DONOTSCROLL: 0x0800000,\n  COMB: 0x1000000,\n  RICHTEXT: 0x2000000,\n  RADIOSINUNISON: 0x2000000,\n  COMMITONSELCHANGE: 0x4000000,\n};\n\nconst AnnotationBorderStyleType = {\n  SOLID: 1,\n  DASHED: 2,\n  BEVELED: 3,\n  INSET: 4,\n  UNDERLINE: 5,\n};\n\nconst AnnotationActionEventType = {\n  E: \"Mouse Enter\",\n  X: \"Mouse Exit\",\n  D: \"Mouse Down\",\n  U: \"Mouse Up\",\n  Fo: \"Focus\",\n  Bl: \"Blur\",\n  PO: \"PageOpen\",\n  PC: \"PageClose\",\n  PV: \"PageVisible\",\n  PI: \"PageInvisible\",\n  K: \"Keystroke\",\n  F: \"Format\",\n  V: \"Validate\",\n  C: \"Calculate\",\n};\n\nconst DocumentActionEventType = {\n  WC: \"WillClose\",\n  WS: \"WillSave\",\n  DS: \"DidSave\",\n  WP: \"WillPrint\",\n  DP: \"DidPrint\",\n};\n\nconst PageActionEventType = {\n  O: \"PageOpen\",\n  C: \"PageClose\",\n};\n\nconst StreamType = {\n  UNKNOWN: \"UNKNOWN\",\n  FLATE: \"FLATE\",\n  LZW: \"LZW\",\n  DCT: \"DCT\",\n  JPX: \"JPX\",\n  JBIG: \"JBIG\",\n  A85: \"A85\",\n  AHX: \"AHX\",\n  CCF: \"CCF\",\n  RLX: \"RLX\", // PDF short name is 'RL', but telemetry requires three chars.\n};\n\nconst FontType = {\n  UNKNOWN: \"UNKNOWN\",\n  TYPE1: \"TYPE1\",\n  TYPE1STANDARD: \"TYPE1STANDARD\",\n  TYPE1C: \"TYPE1C\",\n  CIDFONTTYPE0: \"CIDFONTTYPE0\",\n  CIDFONTTYPE0C: \"CIDFONTTYPE0C\",\n  TRUETYPE: \"TRUETYPE\",\n  CIDFONTTYPE2: \"CIDFONTTYPE2\",\n  TYPE3: \"TYPE3\",\n  OPENTYPE: \"OPENTYPE\",\n  TYPE0: \"TYPE0\",\n  MMTYPE1: \"MMTYPE1\",\n};\n\nconst VerbosityLevel = {\n  ERRORS: 0,\n  WARNINGS: 1,\n  INFOS: 5,\n};\n\nconst CMapCompressionType = {\n  NONE: 0,\n  BINARY: 1,\n  STREAM: 2,\n};\n\n// All the possible operations for an operator list.\nconst OPS = {\n  // Intentionally start from 1 so it is easy to spot bad operators that will be\n  // 0's.\n  dependency: 1,\n  setLineWidth: 2,\n  setLineCap: 3,\n  setLineJoin: 4,\n  setMiterLimit: 5,\n  setDash: 6,\n  setRenderingIntent: 7,\n  setFlatness: 8,\n  setGState: 9,\n  save: 10,\n  restore: 11,\n  transform: 12,\n  moveTo: 13,\n  lineTo: 14,\n  curveTo: 15,\n  curveTo2: 16,\n  curveTo3: 17,\n  closePath: 18,\n  rectangle: 19,\n  stroke: 20,\n  closeStroke: 21,\n  fill: 22,\n  eoFill: 23,\n  fillStroke: 24,\n  eoFillStroke: 25,\n  closeFillStroke: 26,\n  closeEOFillStroke: 27,\n  endPath: 28,\n  clip: 29,\n  eoClip: 30,\n  beginText: 31,\n  endText: 32,\n  setCharSpacing: 33,\n  setWordSpacing: 34,\n  setHScale: 35,\n  setLeading: 36,\n  setFont: 37,\n  setTextRenderingMode: 38,\n  setTextRise: 39,\n  moveText: 40,\n  setLeadingMoveText: 41,\n  setTextMatrix: 42,\n  nextLine: 43,\n  showText: 44,\n  showSpacedText: 45,\n  nextLineShowText: 46,\n  nextLineSetSpacingShowText: 47,\n  setCharWidth: 48,\n  setCharWidthAndBounds: 49,\n  setStrokeColorSpace: 50,\n  setFillColorSpace: 51,\n  setStrokeColor: 52,\n  setStrokeColorN: 53,\n  setFillColor: 54,\n  setFillColorN: 55,\n  setStrokeGray: 56,\n  setFillGray: 57,\n  setStrokeRGBColor: 58,\n  setFillRGBColor: 59,\n  setStrokeCMYKColor: 60,\n  setFillCMYKColor: 61,\n  shadingFill: 62,\n  beginInlineImage: 63,\n  beginImageData: 64,\n  endInlineImage: 65,\n  paintXObject: 66,\n  markPoint: 67,\n  markPointProps: 68,\n  beginMarkedContent: 69,\n  beginMarkedContentProps: 70,\n  endMarkedContent: 71,\n  beginCompat: 72,\n  endCompat: 73,\n  paintFormXObjectBegin: 74,\n  paintFormXObjectEnd: 75,\n  beginGroup: 76,\n  endGroup: 77,\n  beginAnnotations: 78,\n  endAnnotations: 79,\n  beginAnnotation: 80,\n  endAnnotation: 81,\n  /** @deprecated unused */\n  paintJpegXObject: 82,\n  paintImageMaskXObject: 83,\n  paintImageMaskXObjectGroup: 84,\n  paintImageXObject: 85,\n  paintInlineImageXObject: 86,\n  paintInlineImageXObjectGroup: 87,\n  paintImageXObjectRepeat: 88,\n  paintImageMaskXObjectRepeat: 89,\n  paintSolidColorImageMask: 90,\n  constructPath: 91,\n};\n\nconst UNSUPPORTED_FEATURES = {\n  /** @deprecated unused */\n  unknown: \"unknown\",\n  forms: \"forms\",\n  javaScript: \"javaScript\",\n  signatures: \"signatures\",\n  smask: \"smask\",\n  shadingPattern: \"shadingPattern\",\n  /** @deprecated unused */\n  font: \"font\",\n  errorTilingPattern: \"errorTilingPattern\",\n  errorExtGState: \"errorExtGState\",\n  errorXObject: \"errorXObject\",\n  errorFontLoadType3: \"errorFontLoadType3\",\n  errorFontState: \"errorFontState\",\n  errorFontMissing: \"errorFontMissing\",\n  errorFontTranslate: \"errorFontTranslate\",\n  errorColorSpace: \"errorColorSpace\",\n  errorOperatorList: \"errorOperatorList\",\n  errorFontToUnicode: \"errorFontToUnicode\",\n  errorFontLoadNative: \"errorFontLoadNative\",\n  errorFontBuildPath: \"errorFontBuildPath\",\n  errorFontGetPath: \"errorFontGetPath\",\n  errorMarkedContent: \"errorMarkedContent\",\n  errorContentSubStream: \"errorContentSubStream\",\n};\n\nconst PasswordResponses = {\n  NEED_PASSWORD: 1,\n  INCORRECT_PASSWORD: 2,\n};\n\nlet verbosity = VerbosityLevel.WARNINGS;\n\nfunction setVerbosityLevel(level) {\n  if (Number.isInteger(level)) {\n    verbosity = level;\n  }\n}\n\nfunction getVerbosityLevel() {\n  return verbosity;\n}\n\n// A notice for devs. These are good for things that are helpful to devs, such\n// as warning that Workers were disabled, which is important to devs but not\n// end users.\nfunction info(msg) {\n  if (verbosity >= VerbosityLevel.INFOS) {\n    console.log(`Info: ${msg}`);\n  }\n}\n\n// Non-fatal warnings.\nfunction warn(msg) {\n  if (verbosity >= VerbosityLevel.WARNINGS) {\n    console.log(`Warning: ${msg}`);\n  }\n}\n\nfunction unreachable(msg) {\n  throw new Error(msg);\n}\n\nfunction assert(cond, msg) {\n  if (!cond) {\n    unreachable(msg);\n  }\n}\n\n// Checks if URLs have the same origin. For non-HTTP based URLs, returns false.\nfunction isSameOrigin(baseUrl, otherUrl) {\n  let base;\n  try {\n    base = new URL(baseUrl);\n    if (!base.origin || base.origin === \"null\") {\n      return false; // non-HTTP url\n    }\n  } catch (e) {\n    return false;\n  }\n\n  const other = new URL(otherUrl, base);\n  return base.origin === other.origin;\n}\n\n// Checks if URLs use one of the allowed protocols, e.g. to avoid XSS.\nfunction _isValidProtocol(url) {\n  if (!url) {\n    return false;\n  }\n  switch (url.protocol) {\n    case \"http:\":\n    case \"https:\":\n    case \"ftp:\":\n    case \"mailto:\":\n    case \"tel:\":\n      return true;\n    default:\n      return false;\n  }\n}\n\n/**\n * Attempts to create a valid absolute URL.\n *\n * @param {URL|string} url - An absolute, or relative, URL.\n * @param {URL|string} [baseUrl] - An absolute URL.\n * @param {Object} [options]\n * @returns Either a valid {URL}, or `null` otherwise.\n */\nfunction createValidAbsoluteUrl(url, baseUrl = null, options = null) {\n  if (!url) {\n    return null;\n  }\n  try {\n    if (options && typeof url === \"string\") {\n      // Let URLs beginning with \"www.\" default to using the \"http://\" protocol.\n      if (options.addDefaultProtocol && url.startsWith(\"www.\")) {\n        const dots = url.match(/\\./g);\n        // Avoid accidentally matching a *relative* URL pointing to a file named\n        // e.g. \"www.pdf\" or similar.\n        if (dots && dots.length >= 2) {\n          url = `http://${url}`;\n        }\n      }\n\n      // According to ISO 32000-1:2008, section 12.6.4.7, URIs should be encoded\n      // in 7-bit ASCII. Some bad PDFs use UTF-8 encoding; see bug 1122280.\n      if (options.tryConvertEncoding) {\n        try {\n          url = stringToUTF8String(url);\n        } catch (ex) {}\n      }\n    }\n\n    const absoluteUrl = baseUrl ? new URL(url, baseUrl) : new URL(url);\n    if (_isValidProtocol(absoluteUrl)) {\n      return absoluteUrl;\n    }\n  } catch (ex) {\n    /* `new URL()` will throw on incorrect data. */\n  }\n  return null;\n}\n\nfunction shadow(obj, prop, value) {\n  if (\n    typeof PDFJSDev === \"undefined\" ||\n    PDFJSDev.test(\"!PRODUCTION || TESTING\")\n  ) {\n    assert(\n      prop in obj,\n      `shadow: Property \"${prop && prop.toString()}\" not found in object.`\n    );\n  }\n  Object.defineProperty(obj, prop, {\n    value,\n    enumerable: true,\n    configurable: true,\n    writable: false,\n  });\n  return value;\n}\n\n/**\n * @type {any}\n */\nconst BaseException = (function BaseExceptionClosure() {\n  // eslint-disable-next-line no-shadow\n  function BaseException(message, name) {\n    if (this.constructor === BaseException) {\n      unreachable(\"Cannot initialize BaseException.\");\n    }\n    this.message = message;\n    this.name = name;\n  }\n  BaseException.prototype = new Error();\n  BaseException.constructor = BaseException;\n\n  return BaseException;\n})();\n\nclass PasswordException extends BaseException {\n  constructor(msg, code) {\n    super(msg, \"PasswordException\");\n    this.code = code;\n  }\n}\n\nclass UnknownErrorException extends BaseException {\n  constructor(msg, details) {\n    super(msg, \"UnknownErrorException\");\n    this.details = details;\n  }\n}\n\nclass InvalidPDFException extends BaseException {\n  constructor(msg) {\n    super(msg, \"InvalidPDFException\");\n  }\n}\n\nclass MissingPDFException extends BaseException {\n  constructor(msg) {\n    super(msg, \"MissingPDFException\");\n  }\n}\n\nclass UnexpectedResponseException extends BaseException {\n  constructor(msg, status) {\n    super(msg, \"UnexpectedResponseException\");\n    this.status = status;\n  }\n}\n\n/**\n * Error caused during parsing PDF data.\n */\nclass FormatError extends BaseException {\n  constructor(msg) {\n    super(msg, \"FormatError\");\n  }\n}\n\n/**\n * Error used to indicate task cancellation.\n */\nclass AbortException extends BaseException {\n  constructor(msg) {\n    super(msg, \"AbortException\");\n  }\n}\n\nfunction bytesToString(bytes) {\n  if (\n    typeof bytes !== \"object\" ||\n    bytes === null ||\n    bytes.length === undefined\n  ) {\n    unreachable(\"Invalid argument for bytesToString\");\n  }\n  const length = bytes.length;\n  const MAX_ARGUMENT_COUNT = 8192;\n  if (length < MAX_ARGUMENT_COUNT) {\n    return String.fromCharCode.apply(null, bytes);\n  }\n  const strBuf = [];\n  for (let i = 0; i < length; i += MAX_ARGUMENT_COUNT) {\n    const chunkEnd = Math.min(i + MAX_ARGUMENT_COUNT, length);\n    const chunk = bytes.subarray(i, chunkEnd);\n    strBuf.push(String.fromCharCode.apply(null, chunk));\n  }\n  return strBuf.join(\"\");\n}\n\nfunction stringToBytes(str) {\n  if (typeof str !== \"string\") {\n    unreachable(\"Invalid argument for stringToBytes\");\n  }\n  const length = str.length;\n  const bytes = new Uint8Array(length);\n  for (let i = 0; i < length; ++i) {\n    bytes[i] = str.charCodeAt(i) & 0xff;\n  }\n  return bytes;\n}\n\n/**\n * Gets length of the array (Array, Uint8Array, or string) in bytes.\n * @param {Array<any>|Uint8Array|string} arr\n * @returns {number}\n */\n// eslint-disable-next-line consistent-return\nfunction arrayByteLength(arr) {\n  if (arr.length !== undefined) {\n    return arr.length;\n  }\n  if (arr.byteLength !== undefined) {\n    return arr.byteLength;\n  }\n  unreachable(\"Invalid argument for arrayByteLength\");\n}\n\n/**\n * Combines array items (arrays) into single Uint8Array object.\n * @param {Array<Array<any>|Uint8Array|string>} arr - the array of the arrays\n *   (Array, Uint8Array, or string).\n * @returns {Uint8Array}\n */\nfunction arraysToBytes(arr) {\n  const length = arr.length;\n  // Shortcut: if first and only item is Uint8Array, return it.\n  if (length === 1 && arr[0] instanceof Uint8Array) {\n    return arr[0];\n  }\n  let resultLength = 0;\n  for (let i = 0; i < length; i++) {\n    resultLength += arrayByteLength(arr[i]);\n  }\n  let pos = 0;\n  const data = new Uint8Array(resultLength);\n  for (let i = 0; i < length; i++) {\n    let item = arr[i];\n    if (!(item instanceof Uint8Array)) {\n      if (typeof item === \"string\") {\n        item = stringToBytes(item);\n      } else {\n        item = new Uint8Array(item);\n      }\n    }\n    const itemLength = item.byteLength;\n    data.set(item, pos);\n    pos += itemLength;\n  }\n  return data;\n}\n\nfunction string32(value) {\n  if (\n    typeof PDFJSDev === \"undefined\" ||\n    PDFJSDev.test(\"!PRODUCTION || TESTING\")\n  ) {\n    assert(\n      typeof value === \"number\" && Math.abs(value) < 2 ** 32,\n      `string32: Unexpected input \"${value}\".`\n    );\n  }\n  return String.fromCharCode(\n    (value >> 24) & 0xff,\n    (value >> 16) & 0xff,\n    (value >> 8) & 0xff,\n    value & 0xff\n  );\n}\n\nfunction objectSize(obj) {\n  return Object.keys(obj).length;\n}\n\n// Ensure that the returned Object has a `null` prototype; hence why\n// `Object.fromEntries(...)` is not used.\nfunction objectFromMap(map) {\n  const obj = Object.create(null);\n  for (const [key, value] of map) {\n    obj[key] = value;\n  }\n  return obj;\n}\n\n// Checks the endianness of the platform.\nfunction isLittleEndian() {\n  const buffer8 = new Uint8Array(4);\n  buffer8[0] = 1;\n  const view32 = new Uint32Array(buffer8.buffer, 0, 1);\n  return view32[0] === 1;\n}\nconst IsLittleEndianCached = {\n  get value() {\n    return shadow(this, \"value\", isLittleEndian());\n  },\n};\n\n// Checks if it's possible to eval JS expressions.\nfunction isEvalSupported() {\n  try {\n    new Function(\"\"); // eslint-disable-line no-new, no-new-func\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nconst IsEvalSupportedCached = {\n  get value() {\n    return shadow(this, \"value\", isEvalSupported());\n  },\n};\n\nconst hexNumbers = [...Array(256).keys()].map(n =>\n  n.toString(16).padStart(2, \"0\")\n);\n\nclass Util {\n  static makeHexColor(r, g, b) {\n    return `#${hexNumbers[r]}${hexNumbers[g]}${hexNumbers[b]}`;\n  }\n\n  // Concatenates two transformation matrices together and returns the result.\n  static transform(m1, m2) {\n    return [\n      m1[0] * m2[0] + m1[2] * m2[1],\n      m1[1] * m2[0] + m1[3] * m2[1],\n      m1[0] * m2[2] + m1[2] * m2[3],\n      m1[1] * m2[2] + m1[3] * m2[3],\n      m1[0] * m2[4] + m1[2] * m2[5] + m1[4],\n      m1[1] * m2[4] + m1[3] * m2[5] + m1[5],\n    ];\n  }\n\n  // For 2d affine transforms\n  static applyTransform(p, m) {\n    const xt = p[0] * m[0] + p[1] * m[2] + m[4];\n    const yt = p[0] * m[1] + p[1] * m[3] + m[5];\n    return [xt, yt];\n  }\n\n  static applyInverseTransform(p, m) {\n    const d = m[0] * m[3] - m[1] * m[2];\n    const xt = (p[0] * m[3] - p[1] * m[2] + m[2] * m[5] - m[4] * m[3]) / d;\n    const yt = (-p[0] * m[1] + p[1] * m[0] + m[4] * m[1] - m[5] * m[0]) / d;\n    return [xt, yt];\n  }\n\n  // Applies the transform to the rectangle and finds the minimum axially\n  // aligned bounding box.\n  static getAxialAlignedBoundingBox(r, m) {\n    const p1 = Util.applyTransform(r, m);\n    const p2 = Util.applyTransform(r.slice(2, 4), m);\n    const p3 = Util.applyTransform([r[0], r[3]], m);\n    const p4 = Util.applyTransform([r[2], r[1]], m);\n    return [\n      Math.min(p1[0], p2[0], p3[0], p4[0]),\n      Math.min(p1[1], p2[1], p3[1], p4[1]),\n      Math.max(p1[0], p2[0], p3[0], p4[0]),\n      Math.max(p1[1], p2[1], p3[1], p4[1]),\n    ];\n  }\n\n  static inverseTransform(m) {\n    const d = m[0] * m[3] - m[1] * m[2];\n    return [\n      m[3] / d,\n      -m[1] / d,\n      -m[2] / d,\n      m[0] / d,\n      (m[2] * m[5] - m[4] * m[3]) / d,\n      (m[4] * m[1] - m[5] * m[0]) / d,\n    ];\n  }\n\n  // Apply a generic 3d matrix M on a 3-vector v:\n  //   | a b c |   | X |\n  //   | d e f | x | Y |\n  //   | g h i |   | Z |\n  // M is assumed to be serialized as [a,b,c,d,e,f,g,h,i],\n  // with v as [X,Y,Z]\n  static apply3dTransform(m, v) {\n    return [\n      m[0] * v[0] + m[1] * v[1] + m[2] * v[2],\n      m[3] * v[0] + m[4] * v[1] + m[5] * v[2],\n      m[6] * v[0] + m[7] * v[1] + m[8] * v[2],\n    ];\n  }\n\n  // This calculation uses Singular Value Decomposition.\n  // The SVD can be represented with formula A = USV. We are interested in the\n  // matrix S here because it represents the scale values.\n  static singularValueDecompose2dScale(m) {\n    const transpose = [m[0], m[2], m[1], m[3]];\n\n    // Multiply matrix m with its transpose.\n    const a = m[0] * transpose[0] + m[1] * transpose[2];\n    const b = m[0] * transpose[1] + m[1] * transpose[3];\n    const c = m[2] * transpose[0] + m[3] * transpose[2];\n    const d = m[2] * transpose[1] + m[3] * transpose[3];\n\n    // Solve the second degree polynomial to get roots.\n    const first = (a + d) / 2;\n    const second = Math.sqrt((a + d) ** 2 - 4 * (a * d - c * b)) / 2;\n    const sx = first + second || 1;\n    const sy = first - second || 1;\n\n    // Scale values are the square roots of the eigenvalues.\n    return [Math.sqrt(sx), Math.sqrt(sy)];\n  }\n\n  // Normalize rectangle rect=[x1, y1, x2, y2] so that (x1,y1) < (x2,y2)\n  // For coordinate systems whose origin lies in the bottom-left, this\n  // means normalization to (BL,TR) ordering. For systems with origin in the\n  // top-left, this means (TL,BR) ordering.\n  static normalizeRect(rect) {\n    const r = rect.slice(0); // clone rect\n    if (rect[0] > rect[2]) {\n      r[0] = rect[2];\n      r[2] = rect[0];\n    }\n    if (rect[1] > rect[3]) {\n      r[1] = rect[3];\n      r[3] = rect[1];\n    }\n    return r;\n  }\n\n  // Returns a rectangle [x1, y1, x2, y2] corresponding to the\n  // intersection of rect1 and rect2. If no intersection, returns 'false'\n  // The rectangle coordinates of rect1, rect2 should be [x1, y1, x2, y2]\n  static intersect(rect1, rect2) {\n    function compare(a, b) {\n      return a - b;\n    }\n\n    // Order points along the axes\n    const orderedX = [rect1[0], rect1[2], rect2[0], rect2[2]].sort(compare);\n    const orderedY = [rect1[1], rect1[3], rect2[1], rect2[3]].sort(compare);\n    const result = [];\n\n    rect1 = Util.normalizeRect(rect1);\n    rect2 = Util.normalizeRect(rect2);\n\n    // X: first and second points belong to different rectangles?\n    if (\n      (orderedX[0] === rect1[0] && orderedX[1] === rect2[0]) ||\n      (orderedX[0] === rect2[0] && orderedX[1] === rect1[0])\n    ) {\n      // Intersection must be between second and third points\n      result[0] = orderedX[1];\n      result[2] = orderedX[2];\n    } else {\n      return null;\n    }\n\n    // Y: first and second points belong to different rectangles?\n    if (\n      (orderedY[0] === rect1[1] && orderedY[1] === rect2[1]) ||\n      (orderedY[0] === rect2[1] && orderedY[1] === rect1[1])\n    ) {\n      // Intersection must be between second and third points\n      result[1] = orderedY[1];\n      result[3] = orderedY[2];\n    } else {\n      return null;\n    }\n\n    return result;\n  }\n\n  // From https://github.com/adobe-webplatform/Snap.svg/blob/b365287722a72526000ac4bfcf0ce4cac2faa015/src/path.js#L852\n  static bezierBoundingBox(x0, y0, x1, y1, x2, y2, x3, y3) {\n    const tvalues = [],\n      bounds = [[], []];\n    let a, b, c, t, t1, t2, b2ac, sqrtb2ac;\n    for (let i = 0; i < 2; ++i) {\n      if (i === 0) {\n        b = 6 * x0 - 12 * x1 + 6 * x2;\n        a = -3 * x0 + 9 * x1 - 9 * x2 + 3 * x3;\n        c = 3 * x1 - 3 * x0;\n      } else {\n        b = 6 * y0 - 12 * y1 + 6 * y2;\n        a = -3 * y0 + 9 * y1 - 9 * y2 + 3 * y3;\n        c = 3 * y1 - 3 * y0;\n      }\n      if (Math.abs(a) < 1e-12) {\n        if (Math.abs(b) < 1e-12) {\n          continue;\n        }\n        t = -c / b;\n        if (0 < t && t < 1) {\n          tvalues.push(t);\n        }\n        continue;\n      }\n      b2ac = b * b - 4 * c * a;\n      sqrtb2ac = Math.sqrt(b2ac);\n      if (b2ac < 0) {\n        continue;\n      }\n      t1 = (-b + sqrtb2ac) / (2 * a);\n      if (0 < t1 && t1 < 1) {\n        tvalues.push(t1);\n      }\n      t2 = (-b - sqrtb2ac) / (2 * a);\n      if (0 < t2 && t2 < 1) {\n        tvalues.push(t2);\n      }\n    }\n\n    let j = tvalues.length,\n      mt;\n    const jlen = j;\n    while (j--) {\n      t = tvalues[j];\n      mt = 1 - t;\n      bounds[0][j] =\n        mt * mt * mt * x0 +\n        3 * mt * mt * t * x1 +\n        3 * mt * t * t * x2 +\n        t * t * t * x3;\n      bounds[1][j] =\n        mt * mt * mt * y0 +\n        3 * mt * mt * t * y1 +\n        3 * mt * t * t * y2 +\n        t * t * t * y3;\n    }\n\n    bounds[0][jlen] = x0;\n    bounds[1][jlen] = y0;\n    bounds[0][jlen + 1] = x3;\n    bounds[1][jlen + 1] = y3;\n    bounds[0].length = bounds[1].length = jlen + 2;\n\n    return [\n      Math.min(...bounds[0]),\n      Math.min(...bounds[1]),\n      Math.max(...bounds[0]),\n      Math.max(...bounds[1]),\n    ];\n  }\n}\n\nconst PDFStringTranslateTable = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2d8,\n  0x2c7, 0x2c6, 0x2d9, 0x2dd, 0x2db, 0x2da, 0x2dc, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0x2022, 0x2020, 0x2021, 0x2026, 0x2014, 0x2013, 0x192,\n  0x2044, 0x2039, 0x203a, 0x2212, 0x2030, 0x201e, 0x201c, 0x201d, 0x2018,\n  0x2019, 0x201a, 0x2122, 0xfb01, 0xfb02, 0x141, 0x152, 0x160, 0x178, 0x17d,\n  0x131, 0x142, 0x153, 0x161, 0x17e, 0, 0x20ac,\n];\n\nfunction stringToPDFString(str) {\n  if (str[0] >= \"\\xEF\") {\n    let encoding;\n    if (str[0] === \"\\xFE\" && str[1] === \"\\xFF\") {\n      encoding = \"utf-16be\";\n    } else if (str[0] === \"\\xFF\" && str[1] === \"\\xFE\") {\n      encoding = \"utf-16le\";\n    } else if (str[0] === \"\\xEF\" && str[1] === \"\\xBB\" && str[2] === \"\\xBF\") {\n      encoding = \"utf-8\";\n    }\n\n    if (encoding) {\n      try {\n        const decoder = new TextDecoder(encoding, { fatal: true });\n        const buffer = stringToBytes(str);\n        return decoder.decode(buffer);\n      } catch (ex) {\n        warn(`stringToPDFString: \"${ex}\".`);\n      }\n    }\n  }\n  // ISO Latin 1\n  const strBuf = [];\n  for (let i = 0, ii = str.length; i < ii; i++) {\n    const code = PDFStringTranslateTable[str.charCodeAt(i)];\n    strBuf.push(code ? String.fromCharCode(code) : str.charAt(i));\n  }\n  return strBuf.join(\"\");\n}\n\nfunction escapeString(str) {\n  // replace \"(\", \")\", \"\\n\", \"\\r\" and \"\\\"\n  // by \"\\(\", \"\\)\", \"\\\\n\", \"\\\\r\" and \"\\\\\"\n  // in order to write it in a PDF file.\n  return str.replace(/([()\\\\\\n\\r])/g, match => {\n    if (match === \"\\n\") {\n      return \"\\\\n\";\n    } else if (match === \"\\r\") {\n      return \"\\\\r\";\n    }\n    return `\\\\${match}`;\n  });\n}\n\nfunction isAscii(str) {\n  return /^[\\x00-\\x7F]*$/.test(str);\n}\n\nfunction stringToUTF16BEString(str) {\n  const buf = [\"\\xFE\\xFF\"];\n  for (let i = 0, ii = str.length; i < ii; i++) {\n    const char = str.charCodeAt(i);\n    buf.push(\n      String.fromCharCode((char >> 8) & 0xff),\n      String.fromCharCode(char & 0xff)\n    );\n  }\n  return buf.join(\"\");\n}\n\nfunction stringToUTF8String(str) {\n  return decodeURIComponent(escape(str));\n}\n\nfunction utf8StringToString(str) {\n  return unescape(encodeURIComponent(str));\n}\n\nfunction isArrayBuffer(v) {\n  return typeof v === \"object\" && v !== null && v.byteLength !== undefined;\n}\n\nfunction isArrayEqual(arr1, arr2) {\n  if (arr1.length !== arr2.length) {\n    return false;\n  }\n  for (let i = 0, ii = arr1.length; i < ii; i++) {\n    if (arr1[i] !== arr2[i]) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction getModificationDate(date = new Date()) {\n  const buffer = [\n    date.getUTCFullYear().toString(),\n    (date.getUTCMonth() + 1).toString().padStart(2, \"0\"),\n    date.getUTCDate().toString().padStart(2, \"0\"),\n    date.getUTCHours().toString().padStart(2, \"0\"),\n    date.getUTCMinutes().toString().padStart(2, \"0\"),\n    date.getUTCSeconds().toString().padStart(2, \"0\"),\n  ];\n\n  return buffer.join(\"\");\n}\n\n/**\n * Promise Capability object.\n *\n * @typedef {Object} PromiseCapability\n * @property {Promise<any>} promise - A Promise object.\n * @property {boolean} settled - If the Promise has been fulfilled/rejected.\n * @property {function} resolve - Fulfills the Promise.\n * @property {function} reject - Rejects the Promise.\n */\n\n/**\n * Creates a promise capability object.\n * @alias createPromiseCapability\n *\n * @returns {PromiseCapability}\n */\nfunction createPromiseCapability() {\n  const capability = Object.create(null);\n  let isSettled = false;\n\n  Object.defineProperty(capability, \"settled\", {\n    get() {\n      return isSettled;\n    },\n  });\n  capability.promise = new Promise(function (resolve, reject) {\n    capability.resolve = function (data) {\n      isSettled = true;\n      resolve(data);\n    };\n    capability.reject = function (reason) {\n      isSettled = true;\n      reject(reason);\n    };\n  });\n  return capability;\n}\n\nexport {\n  AbortException,\n  AnnotationActionEventType,\n  AnnotationBorderStyleType,\n  AnnotationFieldFlag,\n  AnnotationFlag,\n  AnnotationMarkedState,\n  AnnotationMode,\n  AnnotationReplyType,\n  AnnotationReviewState,\n  AnnotationStateModelType,\n  AnnotationType,\n  arrayByteLength,\n  arraysToBytes,\n  assert,\n  BaseException,\n  bytesToString,\n  CMapCompressionType,\n  createPromiseCapability,\n  createValidAbsoluteUrl,\n  DocumentActionEventType,\n  escapeString,\n  FONT_IDENTITY_MATRIX,\n  FontType,\n  FormatError,\n  getModificationDate,\n  getVerbosityLevel,\n  IDENTITY_MATRIX,\n  ImageKind,\n  info,\n  InvalidPDFException,\n  isArrayBuffer,\n  isArrayEqual,\n  isAscii,\n  IsEvalSupportedCached,\n  IsLittleEndianCached,\n  isSameOrigin,\n  MissingPDFException,\n  objectFromMap,\n  objectSize,\n  OPS,\n  PageActionEventType,\n  PasswordException,\n  PasswordResponses,\n  PermissionFlag,\n  RenderingIntentFlag,\n  setVerbosityLevel,\n  shadow,\n  StreamType,\n  string32,\n  stringToBytes,\n  stringToPDFString,\n  stringToUTF16BEString,\n  stringToUTF8String,\n  TextRenderingMode,\n  UnexpectedResponseException,\n  UnknownErrorException,\n  unreachable,\n  UNSUPPORTED_FEATURES,\n  utf8StringToString,\n  Util,\n  VerbosityLevel,\n  warn,\n};\n","/* Copyright 2017 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* globals __non_webpack_require__ */\n\nimport { isNodeJS } from \"./is_node.js\";\n\n// Skip compatibility checks for modern builds and if we already ran the module.\nif (\n  (typeof PDFJSDev === \"undefined\" || !PDFJSDev.test(\"SKIP_BABEL\")) &&\n  !globalThis._pdfjsCompatibilityChecked\n) {\n  globalThis._pdfjsCompatibilityChecked = true;\n\n  // Support: Node.js\n  (function checkNodeBtoa() {\n    if (globalThis.btoa || !isNodeJS) {\n      return;\n    }\n    globalThis.btoa = function (chars) {\n      // eslint-disable-next-line no-undef\n      return Buffer.from(chars, \"binary\").toString(\"base64\");\n    };\n  })();\n\n  // Support: Node.js\n  (function checkNodeAtob() {\n    if (globalThis.atob || !isNodeJS) {\n      return;\n    }\n    globalThis.atob = function (input) {\n      // eslint-disable-next-line no-undef\n      return Buffer.from(input, \"base64\").toString(\"binary\");\n    };\n  })();\n\n  // Support: Node.js\n  (function checkDOMMatrix() {\n    if (globalThis.DOMMatrix || !isNodeJS) {\n      return;\n    }\n    globalThis.DOMMatrix = require(\"dommatrix/dist/dommatrix.js\");\n  })();\n\n  // Provides support for *recent* additions to the Promise specification,\n  // however basic Promise support is assumed to be available natively.\n  // Support: Firefox<71, Chrome<76, Safari<13, Node.js<12.9.0\n  (function checkPromise() {\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"IMAGE_DECODERS\")) {\n      // The current image decoders are synchronous, hence `Promise` shouldn't\n      // need to be polyfilled for the IMAGE_DECODERS build target.\n      return;\n    }\n    if (globalThis.Promise.allSettled) {\n      return;\n    }\n    globalThis.Promise = require(\"core-js/es/promise/index.js\");\n  })();\n\n  // Support: Node.js\n  (function checkReadableStream() {\n    if (globalThis.ReadableStream || !isNodeJS) {\n      return;\n    }\n    globalThis.ReadableStream = __non_webpack_require__(\n      \"web-streams-polyfill/dist/ponyfill.js\"\n    ).ReadableStream;\n  })();\n\n  // Support: Firefox<94, Chrome<98, Safari<15.4, Node.js<17.0.0\n  (function checkStructuredClone() {\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"IMAGE_DECODERS\")) {\n      // The current image decoders are synchronous, hence `structuredClone`\n      // shouldn't need to be polyfilled for the IMAGE_DECODERS build target.\n      return;\n    }\n    if (globalThis.structuredClone) {\n      return;\n    }\n    require(\"core-js/web/structured-clone.js\");\n  })();\n}\n","/* Copyright 2018 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* globals process */\n\n// NW.js / Electron is a browser context, but copies some Node.js objects; see\n// http://docs.nwjs.io/en/latest/For%20Users/Advanced/JavaScript%20Contexts%20in%20NW.js/#access-nodejs-and-nwjs-api-in-browser-context\n// https://www.electronjs.org/docs/api/process#processversionselectron-readonly\n// https://www.electronjs.org/docs/api/process#processtype-readonly\nconst isNodeJS =\n  typeof process === \"object\" &&\n  process + \"\" === \"[object process]\" &&\n  !process.versions.nw &&\n  !(process.versions.electron && process.type && process.type !== \"browser\");\n\nexport { isNodeJS };\n","/*!\n* DOMMatrix v0.0.24 (https://thednp.github.io/DOMMatrix/)\n* Copyright 2021 © thednp\n* Licensed under MIT (https://github.com/thednp/DOMMatrix/blob/master/LICENSE)\n*/\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.CSSMatrix = factory());\n})(this, (function () { 'use strict';\n\n  // DOMMatrix Static methods\n  // * `fromFloat64Array` and `fromFloat32Array are not implemented;\n  // * `fromArray` is a more simple implementation, should also accept Float[32/64]Array;\n  // * `fromMatrix` load values from another CSSMatrix/DOMMatrix instance or JSON object;\n  // * `fromString` parses and loads values from any valid CSS transform string (TransformList).\n\n  /**\n   * Creates a new mutable `CSSMatrix` instance given an array of 16/6 floating point values.\n   * This static method invalidates arrays that contain non-number elements.\n   *\n   * If the array has six values, the result is a 2D matrix; if the array has 16 values,\n   * the result is a 3D matrix. Otherwise, a TypeError exception is thrown.\n   *\n   * @param {number[]} array an `Array` to feed values from.\n   * @return {CSSMatrix} the resulted matrix.\n   */\n  function fromArray(array) {\n    var m = new CSSMatrix();\n    var a = Array.from(array);\n\n    if (!a.every(function (n) { return !Number.isNaN(n); })) {\n      throw TypeError((\"CSSMatrix: \\\"\" + array + \"\\\" must only have numbers.\"));\n    }\n    if (a.length === 16) {\n      var m11 = a[0];\n      var m12 = a[1];\n      var m13 = a[2];\n      var m14 = a[3];\n      var m21 = a[4];\n      var m22 = a[5];\n      var m23 = a[6];\n      var m24 = a[7];\n      var m31 = a[8];\n      var m32 = a[9];\n      var m33 = a[10];\n      var m34 = a[11];\n      var m41 = a[12];\n      var m42 = a[13];\n      var m43 = a[14];\n      var m44 = a[15];\n\n      m.m11 = m11;\n      m.a = m11;\n\n      m.m21 = m21;\n      m.c = m21;\n\n      m.m31 = m31;\n\n      m.m41 = m41;\n      m.e = m41;\n\n      m.m12 = m12;\n      m.b = m12;\n\n      m.m22 = m22;\n      m.d = m22;\n\n      m.m32 = m32;\n\n      m.m42 = m42;\n      m.f = m42;\n\n      m.m13 = m13;\n      m.m23 = m23;\n      m.m33 = m33;\n      m.m43 = m43;\n      m.m14 = m14;\n      m.m24 = m24;\n      m.m34 = m34;\n      m.m44 = m44;\n    } else if (a.length === 6) {\n      var M11 = a[0];\n      var M12 = a[1];\n      var M21 = a[2];\n      var M22 = a[3];\n      var M41 = a[4];\n      var M42 = a[5];\n\n      m.m11 = M11;\n      m.a = M11;\n\n      m.m12 = M12;\n      m.b = M12;\n\n      m.m21 = M21;\n      m.c = M21;\n\n      m.m22 = M22;\n      m.d = M22;\n\n      m.m41 = M41;\n      m.e = M41;\n\n      m.m42 = M42;\n      m.f = M42;\n    } else {\n      throw new TypeError('CSSMatrix: expecting an Array of 6/16 values.');\n    }\n    return m;\n  }\n\n  /**\n   * Creates a new mutable `CSSMatrix` instance given an existing matrix or a\n   * `DOMMatrix` instance which provides the values for its properties.\n   *\n   * @param {CSSMatrix | DOMMatrix | CSSMatrix.JSONMatrix} m the source matrix to feed values from.\n   * @return {CSSMatrix} the resulted matrix.\n   */\n  function fromMatrix(m) {\n    var keys = Object.keys(new CSSMatrix());\n    if (typeof m === 'object' && keys.every(function (k) { return k in m; })) {\n      return fromArray(\n        [m.m11, m.m12, m.m13, m.m14,\n          m.m21, m.m22, m.m23, m.m24,\n          m.m31, m.m32, m.m33, m.m34,\n          m.m41, m.m42, m.m43, m.m44]\n      );\n    }\n    throw TypeError((\"CSSMatrix: \\\"\" + m + \"\\\" is not a DOMMatrix / CSSMatrix / JSON compatible object.\"));\n  }\n\n  /**\n   * Creates a new mutable `CSSMatrix` given any valid CSS transform string,\n   * or what we call `TransformList`:\n   *\n   * * `matrix(a, b, c, d, e, f)` - valid matrix() transform function\n   * * `matrix3d(m11, m12, m13, ...m44)` - valid matrix3d() transform function\n   * * `translate(tx, ty) rotateX(alpha)` - any valid transform function(s)\n   *\n   * @copyright thednp © 2021\n   *\n   * @param {string} source valid CSS transform string syntax.\n   * @return {CSSMatrix} the resulted matrix.\n   */\n  function fromString(source) {\n    if (typeof source !== 'string') {\n      throw TypeError((\"CSSMatrix: \\\"\" + source + \"\\\" is not a string.\"));\n    }\n    var str = String(source).replace(/\\s/g, '');\n    var m = new CSSMatrix();\n    var invalidStringError = \"CSSMatrix: invalid transform string \\\"\" + source + \"\\\"\";\n\n    // const px = ['perspective'];\n    // const length = ['translate', 'translate3d', 'translateX', 'translateY', 'translateZ'];\n    // const deg = ['rotate', 'rotate3d', 'rotateX', 'rotateY', 'rotateZ', 'skew', 'skewX', 'skewY'];\n    // const abs = ['scale', 'scale3d', 'matrix', 'matrix3d'];\n    // const transformFunctions = px.concat(length, deg, abs);\n\n    str.split(')').filter(function (f) { return f; }).forEach(function (tf) {\n      var ref = tf.split('(');\n      var prop = ref[0];\n      var value = ref[1];\n\n      // invalidate empty string\n      if (!value) { throw TypeError(invalidStringError); }\n\n      var components = value.split(',')\n        .map(function (n) { return (n.includes('rad') ? parseFloat(n) * (180 / Math.PI) : parseFloat(n)); });\n\n      var x = components[0];\n      var y = components[1];\n      var z = components[2];\n      var a = components[3];\n      var xyz = [x, y, z];\n      var xyza = [x, y, z, a];\n\n      // single number value expected\n      if (prop === 'perspective' && x && [y, z].every(function (n) { return n === undefined; })) {\n        m.m34 = -1 / x;\n      // 6/16 number values expected\n      } else if (prop.includes('matrix') && [6, 16].includes(components.length)\n        && components.every(function (n) { return !Number.isNaN(+n); })) {\n        var values = components.map(function (n) { return (Math.abs(n) < 1e-6 ? 0 : n); });\n        m = m.multiply(fromArray(values));\n      // 3 values expected\n      } else if (prop === 'translate3d' && xyz.every(function (n) { return !Number.isNaN(+n); })) {\n        m = m.translate(x, y, z);\n      // single/double number value(s) expected\n      } else if (prop === 'translate' && x && z === undefined) {\n        m = m.translate(x, y || 0, 0);\n      // all 4 values expected\n      } else if (prop === 'rotate3d' && xyza.every(function (n) { return !Number.isNaN(+n); }) && a) {\n        m = m.rotateAxisAngle(x, y, z, a);\n      // single value expected\n      } else if (prop === 'rotate' && x && [y, z].every(function (n) { return n === undefined; })) {\n        m = m.rotate(0, 0, x);\n      // 4 values expected\n      } else if (prop === 'scale3d' && xyz.every(function (n) { return !Number.isNaN(+n); }) && xyz.some(function (n) { return n !== 1; })) {\n        m = m.scale(x, y, z);\n      // single value expected\n      } else if (prop === 'scale' && !Number.isNaN(x) && x !== 1 && z === undefined) {\n        var nosy = Number.isNaN(+y);\n        var sy = nosy ? x : y;\n        m = m.scale(x, sy, 1);\n      // single/double value expected\n      } else if (prop === 'skew' && x && z === undefined) {\n        m = m.skewX(x);\n        m = y ? m.skewY(y) : m;\n      } else if (/[XYZ]/.test(prop) && x && [y, z].every(function (n) { return n === undefined; }) // a single value expected\n        && ['translate', 'rotate', 'scale', 'skew'].some(function (p) { return prop.includes(p); })) {\n        if (['skewX', 'skewY'].includes(prop)) {\n          // @ts-ignore unfortunately\n          m = m[prop](x);\n        } else {\n          var fn = prop.replace(/[XYZ]/, '');\n          var axis = prop.replace(fn, '');\n          var idx = ['X', 'Y', 'Z'].indexOf(axis);\n          var axeValues = [\n            idx === 0 ? x : 0,\n            idx === 1 ? x : 0,\n            idx === 2 ? x : 0];\n          // @ts-ignore unfortunately\n          m = m[fn].apply(m, axeValues);\n        }\n      } else {\n        throw TypeError(invalidStringError);\n      }\n    });\n\n    return m;\n  }\n\n  // Transform Functions\n  // https://www.w3.org/TR/css-transforms-1/#transform-functions\n\n  /**\n   * Creates a new `CSSMatrix` for the translation matrix and returns it.\n   * This method is equivalent to the CSS `translate3d()` function.\n   *\n   * https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/translate3d\n   *\n   * @param {number} x the `x-axis` position.\n   * @param {number} y the `y-axis` position.\n   * @param {number} z the `z-axis` position.\n   * @return {CSSMatrix} the resulted matrix.\n   */\n  function Translate(x, y, z) {\n    var m = new CSSMatrix();\n    m.m41 = x;\n    m.e = x;\n    m.m42 = y;\n    m.f = y;\n    m.m43 = z;\n    return m;\n  }\n\n  /**\n   * Creates a new `CSSMatrix` for the rotation matrix and returns it.\n   *\n   * http://en.wikipedia.org/wiki/Rotation_matrix\n   *\n   * @param {number} rx the `x-axis` rotation.\n   * @param {number} ry the `y-axis` rotation.\n   * @param {number} rz the `z-axis` rotation.\n   * @return {CSSMatrix} the resulted matrix.\n   */\n  function Rotate(rx, ry, rz) {\n    var m = new CSSMatrix();\n    var degToRad = Math.PI / 180;\n    var radX = rx * degToRad;\n    var radY = ry * degToRad;\n    var radZ = rz * degToRad;\n\n    // minus sin() because of right-handed system\n    var cosx = Math.cos(radX);\n    var sinx = -Math.sin(radX);\n    var cosy = Math.cos(radY);\n    var siny = -Math.sin(radY);\n    var cosz = Math.cos(radZ);\n    var sinz = -Math.sin(radZ);\n\n    var m11 = cosy * cosz;\n    var m12 = -cosy * sinz;\n\n    m.m11 = m11;\n    m.a = m11;\n\n    m.m12 = m12;\n    m.b = m12;\n\n    m.m13 = siny;\n\n    var m21 = sinx * siny * cosz + cosx * sinz;\n    m.m21 = m21;\n    m.c = m21;\n\n    var m22 = cosx * cosz - sinx * siny * sinz;\n    m.m22 = m22;\n    m.d = m22;\n\n    m.m23 = -sinx * cosy;\n\n    m.m31 = sinx * sinz - cosx * siny * cosz;\n    m.m32 = sinx * cosz + cosx * siny * sinz;\n    m.m33 = cosx * cosy;\n\n    return m;\n  }\n\n  /**\n   * Creates a new `CSSMatrix` for the rotation matrix and returns it.\n   * This method is equivalent to the CSS `rotate3d()` function.\n   *\n   * https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/rotate3d\n   *\n   * @param {number} x the `x-axis` vector length.\n   * @param {number} y the `y-axis` vector length.\n   * @param {number} z the `z-axis` vector length.\n   * @param {number} alpha the value in degrees of the rotation.\n   * @return {CSSMatrix} the resulted matrix.\n   */\n  function RotateAxisAngle(x, y, z, alpha) {\n    var m = new CSSMatrix();\n    var angle = alpha * (Math.PI / 360);\n    var sinA = Math.sin(angle);\n    var cosA = Math.cos(angle);\n    var sinA2 = sinA * sinA;\n    var length = Math.sqrt(x * x + y * y + z * z);\n    var X = x;\n    var Y = y;\n    var Z = z;\n\n    if (length === 0) {\n      // bad vector length, use something reasonable\n      X = 0;\n      Y = 0;\n      Z = 1;\n    } else {\n      X /= length;\n      Y /= length;\n      Z /= length;\n    }\n\n    var x2 = X * X;\n    var y2 = Y * Y;\n    var z2 = Z * Z;\n\n    var m11 = 1 - 2 * (y2 + z2) * sinA2;\n    m.m11 = m11;\n    m.a = m11;\n\n    var m12 = 2 * (X * Y * sinA2 + Z * sinA * cosA);\n    m.m12 = m12;\n    m.b = m12;\n\n    m.m13 = 2 * (X * Z * sinA2 - Y * sinA * cosA);\n\n    var m21 = 2 * (Y * X * sinA2 - Z * sinA * cosA);\n    m.m21 = m21;\n    m.c = m21;\n\n    var m22 = 1 - 2 * (z2 + x2) * sinA2;\n    m.m22 = m22;\n    m.d = m22;\n\n    m.m23 = 2 * (Y * Z * sinA2 + X * sinA * cosA);\n    m.m31 = 2 * (Z * X * sinA2 + Y * sinA * cosA);\n    m.m32 = 2 * (Z * Y * sinA2 - X * sinA * cosA);\n    m.m33 = 1 - 2 * (x2 + y2) * sinA2;\n\n    return m;\n  }\n\n  /**\n   * Creates a new `CSSMatrix` for the scale matrix and returns it.\n   * This method is equivalent to the CSS `scale3d()` function, except it doesn't\n   * accept {x, y, z} transform origin parameters.\n   *\n   * https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/scale3d\n   *\n   * @param {number} x the `x-axis` scale.\n   * @param {number} y the `y-axis` scale.\n   * @param {number} z the `z-axis` scale.\n   * @return {CSSMatrix} the resulted matrix.\n   */\n  function Scale(x, y, z) {\n    var m = new CSSMatrix();\n    m.m11 = x;\n    m.a = x;\n\n    m.m22 = y;\n    m.d = y;\n\n    m.m33 = z;\n    return m;\n  }\n\n  /**\n   * Creates a new `CSSMatrix` for the shear of the `x-axis` rotation matrix and\n   * returns it. This method is equivalent to the CSS `skewX()` function.\n   *\n   * https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/skewX\n   *\n   * @param {number} angle the angle in degrees.\n   * @return {CSSMatrix} the resulted matrix.\n   */\n  function SkewX(angle) {\n    var m = new CSSMatrix();\n    var radA = (angle * Math.PI) / 180;\n    var t = Math.tan(radA);\n    m.m21 = t;\n    m.c = t;\n    return m;\n  }\n\n  /**\n   * Creates a new `CSSMatrix` for the shear of the `y-axis` rotation matrix and\n   * returns it. This method is equivalent to the CSS `skewY()` function.\n   *\n   * https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/skewY\n   *\n   * @param {number} angle the angle in degrees.\n   * @return {CSSMatrix} the resulted matrix.\n   */\n  function SkewY(angle) {\n    var m = new CSSMatrix();\n    var radA = (angle * Math.PI) / 180;\n    var t = Math.tan(radA);\n    m.m12 = t;\n    m.b = t;\n    return m;\n  }\n\n  /**\n   * Creates a new `CSSMatrix` resulted from the multiplication of two matrixes\n   * and returns it. Both matrixes are not changed.\n   *\n   * @param {CSSMatrix} m1 the first matrix.\n   * @param {CSSMatrix} m2 the second matrix.\n   * @return {CSSMatrix} the resulted matrix.\n   */\n  function Multiply(m1, m2) {\n    var m11 = m2.m11 * m1.m11 + m2.m12 * m1.m21 + m2.m13 * m1.m31 + m2.m14 * m1.m41;\n    var m12 = m2.m11 * m1.m12 + m2.m12 * m1.m22 + m2.m13 * m1.m32 + m2.m14 * m1.m42;\n    var m13 = m2.m11 * m1.m13 + m2.m12 * m1.m23 + m2.m13 * m1.m33 + m2.m14 * m1.m43;\n    var m14 = m2.m11 * m1.m14 + m2.m12 * m1.m24 + m2.m13 * m1.m34 + m2.m14 * m1.m44;\n\n    var m21 = m2.m21 * m1.m11 + m2.m22 * m1.m21 + m2.m23 * m1.m31 + m2.m24 * m1.m41;\n    var m22 = m2.m21 * m1.m12 + m2.m22 * m1.m22 + m2.m23 * m1.m32 + m2.m24 * m1.m42;\n    var m23 = m2.m21 * m1.m13 + m2.m22 * m1.m23 + m2.m23 * m1.m33 + m2.m24 * m1.m43;\n    var m24 = m2.m21 * m1.m14 + m2.m22 * m1.m24 + m2.m23 * m1.m34 + m2.m24 * m1.m44;\n\n    var m31 = m2.m31 * m1.m11 + m2.m32 * m1.m21 + m2.m33 * m1.m31 + m2.m34 * m1.m41;\n    var m32 = m2.m31 * m1.m12 + m2.m32 * m1.m22 + m2.m33 * m1.m32 + m2.m34 * m1.m42;\n    var m33 = m2.m31 * m1.m13 + m2.m32 * m1.m23 + m2.m33 * m1.m33 + m2.m34 * m1.m43;\n    var m34 = m2.m31 * m1.m14 + m2.m32 * m1.m24 + m2.m33 * m1.m34 + m2.m34 * m1.m44;\n\n    var m41 = m2.m41 * m1.m11 + m2.m42 * m1.m21 + m2.m43 * m1.m31 + m2.m44 * m1.m41;\n    var m42 = m2.m41 * m1.m12 + m2.m42 * m1.m22 + m2.m43 * m1.m32 + m2.m44 * m1.m42;\n    var m43 = m2.m41 * m1.m13 + m2.m42 * m1.m23 + m2.m43 * m1.m33 + m2.m44 * m1.m43;\n    var m44 = m2.m41 * m1.m14 + m2.m42 * m1.m24 + m2.m43 * m1.m34 + m2.m44 * m1.m44;\n\n    return fromArray(\n      [m11, m12, m13, m14,\n        m21, m22, m23, m24,\n        m31, m32, m33, m34,\n        m41, m42, m43, m44]\n    );\n  }\n\n  /**\n   * Creates and returns a new `DOMMatrix` compatible instance\n   * with equivalent instance.\n   * @class CSSMatrix\n   *\n   * @author thednp <https://github.com/thednp/DOMMatrix/>\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMMatrix\n   */\n\n  var CSSMatrix = function CSSMatrix() {\n    var args = [], len = arguments.length;\n    while ( len-- ) args[ len ] = arguments[ len ];\n\n    var m = this;\n    // array 6\n    m.a = 1; m.b = 0;\n    m.c = 0; m.d = 1;\n    m.e = 0; m.f = 0;\n    // array 16\n    m.m11 = 1; m.m12 = 0; m.m13 = 0; m.m14 = 0;\n    m.m21 = 0; m.m22 = 1; m.m23 = 0; m.m24 = 0;\n    m.m31 = 0; m.m32 = 0; m.m33 = 1; m.m34 = 0;\n    m.m41 = 0; m.m42 = 0; m.m43 = 0; m.m44 = 1;\n\n    if (args && args.length) {\n      var ARGS = [16, 6].some(function (l) { return l === args.length; }) ? args : args[0];\n\n      return m.setMatrixValue(ARGS);\n    }\n    return m;\n  };\n\n  var prototypeAccessors = { isIdentity: { configurable: true },is2D: { configurable: true } };\n\n  /**\n   * Sets a new `Boolean` flag value for `this.isIdentity` matrix property.\n   *\n   * @param {boolean} value sets a new flag for this property\n   */\n  prototypeAccessors.isIdentity.set = function (value) {\n    this.isIdentity = value;\n  };\n\n  /**\n   * A `Boolean` whose value is `true` if the matrix is the identity matrix. The identity\n   * matrix is one in which every value is 0 except those on the main diagonal from top-left\n   * to bottom-right corner (in other words, where the offsets in each direction are equal).\n   *\n   * @return {boolean} the current property value\n   */\n  prototypeAccessors.isIdentity.get = function () {\n    var m = this;\n    return (m.m11 === 1 && m.m12 === 0 && m.m13 === 0 && m.m14 === 0\n            && m.m21 === 0 && m.m22 === 1 && m.m23 === 0 && m.m24 === 0\n            && m.m31 === 0 && m.m32 === 0 && m.m33 === 1 && m.m34 === 0\n            && m.m41 === 0 && m.m42 === 0 && m.m43 === 0 && m.m44 === 1);\n  };\n\n  /**\n   * A `Boolean` flag whose value is `true` if the matrix was initialized as a 2D matrix\n   * and `false` if the matrix is 3D.\n   *\n   * @return {boolean} the current property value\n   */\n  prototypeAccessors.is2D.get = function () {\n    var m = this;\n    return (m.m31 === 0 && m.m32 === 0 && m.m33 === 1 && m.m34 === 0 && m.m43 === 0 && m.m44 === 1);\n  };\n\n  /**\n   * Sets a new `Boolean` flag value for `this.is2D` matrix property.\n   *\n   * @param {boolean} value sets a new flag for this property\n   */\n  prototypeAccessors.is2D.set = function (value) {\n    this.is2D = value;\n  };\n\n  /**\n   * The `setMatrixValue` method replaces the existing matrix with one computed\n   * in the browser. EG: `matrix(1,0.25,-0.25,1,0,0)`\n   *\n   * The method accepts any *Array* values, the result of\n   * `DOMMatrix` instance method `toFloat64Array()` / `toFloat32Array()` calls\n   *or `CSSMatrix` instance method `toArray()`.\n   *\n   * This method expects valid *matrix()* / *matrix3d()* string values, as well\n   * as other transform functions like *translateX(10px)*.\n   *\n   * @param {string | number[] | CSSMatrix | DOMMatrix} source\n   * @return {CSSMatrix} the matrix instance\n   */\n  CSSMatrix.prototype.setMatrixValue = function setMatrixValue (source) {\n    var m = this;\n\n    // [Arguments list | Array] come here\n    if ([Array, Float64Array, Float32Array].some(function (a) { return source instanceof a; })) {\n      return fromArray(source);\n    }\n    // CSS transform string source - TransformList\n    if (typeof source === 'string' && source.length && source !== 'none') {\n      return fromString(source);\n    }\n    // new CSSMatrix(CSSMatrix | DOMMatrix | JSON)\n    if (typeof source === 'object') {\n      return fromMatrix(source);\n    }\n    return m;\n  };\n\n  /**\n   * Returns an *Array* containing elements which comprise the matrix.\n   * The method can return either the 16 elements or the 6 elements\n   * depending on the value of the `is2D` property.\n   *\n   * @return {number[]} an *Array* representation of the matrix\n   */\n  CSSMatrix.prototype.toArray = function toArray () {\n    var m = this;\n    var pow = (Math.pow( 10, 6 ));\n    var result;\n\n    if (m.is2D) {\n      result = [m.a, m.b, m.c, m.d, m.e, m.f];\n    } else {\n      result = [m.m11, m.m12, m.m13, m.m14,\n        m.m21, m.m22, m.m23, m.m24,\n        m.m31, m.m32, m.m33, m.m34,\n        m.m41, m.m42, m.m43, m.m44];\n    }\n    // clean up the numbers\n    // eslint-disable-next-line -- no-bitwise\n    return result.map(function (n) { return (Math.abs(n) < 1e-6 ? 0 : ((n * pow) >> 0) / pow); });\n  };\n\n  /**\n   * Creates and returns a string representation of the matrix in `CSS` matrix syntax,\n   * using the appropriate `CSS` matrix notation.\n   *\n   * matrix3d *matrix3d(m11, m12, m13, m14, m21, ...)*\n   * matrix *matrix(a, b, c, d, e, f)*\n   *\n   * @return {string} a string representation of the matrix\n   */\n  CSSMatrix.prototype.toString = function toString () {\n    var m = this;\n    var values = m.toArray();\n    var type = m.is2D ? 'matrix' : 'matrix3d';\n    return (type + \"(\" + values + \")\");\n  };\n\n  /**\n   * Returns a JSON representation of the `CSSMatrix` instance, a standard *Object*\n   * that includes `{a,b,c,d,e,f}` and `{m11,m12,m13,..m44}` properties as well\n   * as the `is2D` & `isIdentity` properties.\n   *\n   * The result can also be used as a second parameter for the `fromMatrix` static method\n   * to load values into another matrix instance.\n   *\n   * @return {CSSMatrix.JSONMatrix} an *Object* with all matrix values.\n   */\n  CSSMatrix.prototype.toJSON = function toJSON () {\n    var m = this;\n    var is2D = m.is2D;\n      var isIdentity = m.isIdentity;\n    return Object.assign({}, m, {is2D: is2D, isIdentity: isIdentity});\n  };\n\n  /**\n   * The Multiply method returns a new CSSMatrix which is the result of this\n   * matrix multiplied by the passed matrix, with the passed matrix to the right.\n   * This matrix is not modified.\n   *\n   * @param {CSSMatrix | DOMMatrix | CSSMatrix.JSONMatrix} m2 CSSMatrix\n   * @return {CSSMatrix} The resulted matrix.\n   */\n  CSSMatrix.prototype.multiply = function multiply (m2) {\n    return Multiply(this, m2);\n  };\n\n  /**\n   * The translate method returns a new matrix which is this matrix post\n   * multiplied by a translation matrix containing the passed values. If the z\n   * component is undefined, a 0 value is used in its place. This matrix is not\n   * modified.\n   *\n   * @param {number} x X component of the translation value.\n   * @param {number=} y Y component of the translation value.\n   * @param {number=} z Z component of the translation value.\n   * @return {CSSMatrix} The resulted matrix\n   */\n  CSSMatrix.prototype.translate = function translate (x, y, z) {\n    var X = x;\n    var Y = y;\n    var Z = z;\n    if (Z === undefined) { Z = 0; }\n    if (Y === undefined) { Y = 0; }\n    return Multiply(this, Translate(X, Y, Z));\n  };\n\n  /**\n   * The scale method returns a new matrix which is this matrix post multiplied by\n   * a scale matrix containing the passed values. If the z component is undefined,\n   * a 1 value is used in its place. If the y component is undefined, the x\n   * component value is used in its place. This matrix is not modified.\n   *\n   * @param {number} x The X component of the scale value.\n   * @param {number=} y The Y component of the scale value.\n   * @param {number=} z The Z component of the scale value.\n   * @return {CSSMatrix} The resulted matrix\n   */\n  CSSMatrix.prototype.scale = function scale (x, y, z) {\n    var X = x;\n    var Y = y;\n    var Z = z;\n    if (Y === undefined) { Y = x; }\n    if (Z === undefined) { Z = 1; } // Z must be 1 if undefined\n\n    return Multiply(this, Scale(X, Y, Z));\n  };\n\n  /**\n   * The rotate method returns a new matrix which is this matrix post multiplied\n   * by each of 3 rotation matrices about the major axes, first X, then Y, then Z.\n   * If the y and z components are undefined, the x value is used to rotate the\n   * object about the z axis, as though the vector (0,0,x) were passed. All\n   * rotation values are in degrees. This matrix is not modified.\n   *\n   * @param {number} rx The X component of the rotation, or Z if Y and Z are null.\n   * @param {number=} ry The (optional) Y component of the rotation value.\n   * @param {number=} rz The (optional) Z component of the rotation value.\n   * @return {CSSMatrix} The resulted matrix\n   */\n  CSSMatrix.prototype.rotate = function rotate (rx, ry, rz) {\n    var RX = rx;\n    var RY = ry;\n    var RZ = rz;\n    if (RY === undefined) { RY = 0; }\n    if (RZ === undefined) { RZ = RX; RX = 0; }\n    return Multiply(this, Rotate(RX, RY, RZ));\n  };\n\n  /**\n   * The rotateAxisAngle method returns a new matrix which is this matrix post\n   * multiplied by a rotation matrix with the given axis and `angle`. The right-hand\n   * rule is used to determine the direction of rotation. All rotation values are\n   * in degrees. This matrix is not modified.\n   *\n   * @param {number} x The X component of the axis vector.\n   * @param {number} y The Y component of the axis vector.\n   * @param {number} z The Z component of the axis vector.\n   * @param {number} angle The angle of rotation about the axis vector, in degrees.\n   * @return {CSSMatrix} The resulted matrix\n   */\n  CSSMatrix.prototype.rotateAxisAngle = function rotateAxisAngle (x, y, z, angle) {\n    if ([x, y, z, angle].some(function (n) { return Number.isNaN(n); })) {\n      throw new TypeError('CSSMatrix: expecting 4 values');\n    }\n    return Multiply(this, RotateAxisAngle(x, y, z, angle));\n  };\n\n  /**\n   * Specifies a skew transformation along the `x-axis` by the given angle.\n   * This matrix is not modified.\n   *\n   * @param {number} angle The angle amount in degrees to skew.\n   * @return {CSSMatrix} The resulted matrix\n   */\n  CSSMatrix.prototype.skewX = function skewX (angle) {\n    return Multiply(this, SkewX(angle));\n  };\n\n  /**\n   * Specifies a skew transformation along the `y-axis` by the given angle.\n   * This matrix is not modified.\n   *\n   * @param {number} angle The angle amount in degrees to skew.\n   * @return {CSSMatrix} The resulted matrix\n   */\n  CSSMatrix.prototype.skewY = function skewY (angle) {\n    return Multiply(this, SkewY(angle));\n  };\n\n  /**\n   * Transforms a specified point using the matrix, returning a new\n   * Tuple *Object* comprising of the transformed point.\n   * Neither the matrix nor the original point are altered.\n   *\n   * The method is equivalent with `transformPoint()` method\n   * of the `DOMMatrix` constructor.\n   *\n   * @copyright thednp © 2021\n   *\n   * @param {CSSMatrix.PointTuple | DOMPoint} v Tuple or DOMPoint\n   * @return {CSSMatrix.PointTuple} the resulting Tuple\n   */\n  CSSMatrix.prototype.transformPoint = function transformPoint (v) {\n    var M = this;\n    var m = Translate(v.x, v.y, v.z);\n\n    m.m44 = v.w || 1;\n    m = M.multiply(m);\n\n    return {\n      x: m.m41,\n      y: m.m42,\n      z: m.m43,\n      w: m.m44,\n    };\n  };\n\n  /**\n   * Transforms a specified vector using the matrix, returning a new\n   * {x,y,z,w} Tuple *Object* comprising the transformed vector.\n   * Neither the matrix nor the original vector are altered.\n   *\n   * @param {CSSMatrix.PointTuple} t Tuple with `{x,y,z,w}` components\n   * @return {CSSMatrix.PointTuple} the resulting Tuple\n   */\n  CSSMatrix.prototype.transform = function transform (t) {\n    var m = this;\n    var x = m.m11 * t.x + m.m12 * t.y + m.m13 * t.z + m.m14 * t.w;\n    var y = m.m21 * t.x + m.m22 * t.y + m.m23 * t.z + m.m24 * t.w;\n    var z = m.m31 * t.x + m.m32 * t.y + m.m33 * t.z + m.m34 * t.w;\n    var w = m.m41 * t.x + m.m42 * t.y + m.m43 * t.z + m.m44 * t.w;\n\n    return {\n      x: x / w,\n      y: y / w,\n      z: z / w,\n      w: w,\n    };\n  };\n\n  Object.defineProperties( CSSMatrix.prototype, prototypeAccessors );\n\n  // Add Transform Functions to CSSMatrix object\n  // without creating a TypeScript namespace.\n  Object.assign(CSSMatrix, {\n    Translate: Translate,\n    Rotate: Rotate,\n    RotateAxisAngle: RotateAxisAngle,\n    Scale: Scale,\n    SkewX: SkewX,\n    SkewY: SkewY,\n    Multiply: Multiply,\n    fromArray: fromArray,\n    fromMatrix: fromMatrix,\n    fromString: fromString,\n  });\n\n  var version = \"0.0.24\";\n\n  // @ts-ignore\n\n  /**\n   * A global namespace for library version.\n   * @type {string}\n   */\n  var Version = version;\n\n  Object.assign(CSSMatrix, { Version: Version });\n\n  return CSSMatrix;\n\n}));\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { BaseException, shadow } from \"../shared/util.js\";\nimport { log2, readInt8, readUint16, readUint32 } from \"./core_utils.js\";\nimport { ArithmeticDecoder } from \"./arithmetic_decoder.js\";\nimport { CCITTFaxDecoder } from \"./ccitt.js\";\n\nclass Jbig2Error extends BaseException {\n  constructor(msg) {\n    super(`JBIG2 error: ${msg}`, \"Jbig2Error\");\n  }\n}\n\n// Utility data structures\nclass ContextCache {\n  getContexts(id) {\n    if (id in this) {\n      return this[id];\n    }\n    return (this[id] = new Int8Array(1 << 16));\n  }\n}\n\nclass DecodingContext {\n  constructor(data, start, end) {\n    this.data = data;\n    this.start = start;\n    this.end = end;\n  }\n\n  get decoder() {\n    const decoder = new ArithmeticDecoder(this.data, this.start, this.end);\n    return shadow(this, \"decoder\", decoder);\n  }\n\n  get contextCache() {\n    const cache = new ContextCache();\n    return shadow(this, \"contextCache\", cache);\n  }\n}\n\n// Annex A. Arithmetic Integer Decoding Procedure\n// A.2 Procedure for decoding values\nfunction decodeInteger(contextCache, procedure, decoder) {\n  const contexts = contextCache.getContexts(procedure);\n  let prev = 1;\n\n  function readBits(length) {\n    let v = 0;\n    for (let i = 0; i < length; i++) {\n      const bit = decoder.readBit(contexts, prev);\n      prev = prev < 256 ? (prev << 1) | bit : (((prev << 1) | bit) & 511) | 256;\n      v = (v << 1) | bit;\n    }\n    return v >>> 0;\n  }\n\n  const sign = readBits(1);\n  // prettier-ignore\n  /* eslint-disable no-nested-ternary */\n  const value = readBits(1) ?\n                  (readBits(1) ?\n                    (readBits(1) ?\n                      (readBits(1) ?\n                        (readBits(1) ?\n                          (readBits(32) + 4436) :\n                        readBits(12) + 340) :\n                      readBits(8) + 84) :\n                    readBits(6) + 20) :\n                  readBits(4) + 4) :\n                readBits(2);\n  /* eslint-enable no-nested-ternary */\n  if (sign === 0) {\n    return value;\n  } else if (value > 0) {\n    return -value;\n  }\n  return null;\n}\n\n// A.3 The IAID decoding procedure\nfunction decodeIAID(contextCache, decoder, codeLength) {\n  const contexts = contextCache.getContexts(\"IAID\");\n\n  let prev = 1;\n  for (let i = 0; i < codeLength; i++) {\n    const bit = decoder.readBit(contexts, prev);\n    prev = (prev << 1) | bit;\n  }\n  if (codeLength < 31) {\n    return prev & ((1 << codeLength) - 1);\n  }\n  return prev & 0x7fffffff;\n}\n\n// 7.3 Segment types\nconst SegmentTypes = [\n  \"SymbolDictionary\",\n  null,\n  null,\n  null,\n  \"IntermediateTextRegion\",\n  null,\n  \"ImmediateTextRegion\",\n  \"ImmediateLosslessTextRegion\",\n  null,\n  null,\n  null,\n  null,\n  null,\n  null,\n  null,\n  null,\n  \"PatternDictionary\",\n  null,\n  null,\n  null,\n  \"IntermediateHalftoneRegion\",\n  null,\n  \"ImmediateHalftoneRegion\",\n  \"ImmediateLosslessHalftoneRegion\",\n  null,\n  null,\n  null,\n  null,\n  null,\n  null,\n  null,\n  null,\n  null,\n  null,\n  null,\n  null,\n  \"IntermediateGenericRegion\",\n  null,\n  \"ImmediateGenericRegion\",\n  \"ImmediateLosslessGenericRegion\",\n  \"IntermediateGenericRefinementRegion\",\n  null,\n  \"ImmediateGenericRefinementRegion\",\n  \"ImmediateLosslessGenericRefinementRegion\",\n  null,\n  null,\n  null,\n  null,\n  \"PageInformation\",\n  \"EndOfPage\",\n  \"EndOfStripe\",\n  \"EndOfFile\",\n  \"Profiles\",\n  \"Tables\",\n  null,\n  null,\n  null,\n  null,\n  null,\n  null,\n  null,\n  null,\n  \"Extension\",\n];\n\nconst CodingTemplates = [\n  [\n    { x: -1, y: -2 },\n    { x: 0, y: -2 },\n    { x: 1, y: -2 },\n    { x: -2, y: -1 },\n    { x: -1, y: -1 },\n    { x: 0, y: -1 },\n    { x: 1, y: -1 },\n    { x: 2, y: -1 },\n    { x: -4, y: 0 },\n    { x: -3, y: 0 },\n    { x: -2, y: 0 },\n    { x: -1, y: 0 },\n  ],\n  [\n    { x: -1, y: -2 },\n    { x: 0, y: -2 },\n    { x: 1, y: -2 },\n    { x: 2, y: -2 },\n    { x: -2, y: -1 },\n    { x: -1, y: -1 },\n    { x: 0, y: -1 },\n    { x: 1, y: -1 },\n    { x: 2, y: -1 },\n    { x: -3, y: 0 },\n    { x: -2, y: 0 },\n    { x: -1, y: 0 },\n  ],\n  [\n    { x: -1, y: -2 },\n    { x: 0, y: -2 },\n    { x: 1, y: -2 },\n    { x: -2, y: -1 },\n    { x: -1, y: -1 },\n    { x: 0, y: -1 },\n    { x: 1, y: -1 },\n    { x: -2, y: 0 },\n    { x: -1, y: 0 },\n  ],\n  [\n    { x: -3, y: -1 },\n    { x: -2, y: -1 },\n    { x: -1, y: -1 },\n    { x: 0, y: -1 },\n    { x: 1, y: -1 },\n    { x: -4, y: 0 },\n    { x: -3, y: 0 },\n    { x: -2, y: 0 },\n    { x: -1, y: 0 },\n  ],\n];\n\nconst RefinementTemplates = [\n  {\n    coding: [\n      { x: 0, y: -1 },\n      { x: 1, y: -1 },\n      { x: -1, y: 0 },\n    ],\n    reference: [\n      { x: 0, y: -1 },\n      { x: 1, y: -1 },\n      { x: -1, y: 0 },\n      { x: 0, y: 0 },\n      { x: 1, y: 0 },\n      { x: -1, y: 1 },\n      { x: 0, y: 1 },\n      { x: 1, y: 1 },\n    ],\n  },\n  {\n    coding: [\n      { x: -1, y: -1 },\n      { x: 0, y: -1 },\n      { x: 1, y: -1 },\n      { x: -1, y: 0 },\n    ],\n    reference: [\n      { x: 0, y: -1 },\n      { x: -1, y: 0 },\n      { x: 0, y: 0 },\n      { x: 1, y: 0 },\n      { x: 0, y: 1 },\n      { x: 1, y: 1 },\n    ],\n  },\n];\n\n// See 6.2.5.7 Decoding the bitmap.\nconst ReusedContexts = [\n  0x9b25, // 10011 0110010 0101\n  0x0795, // 0011 110010 101\n  0x00e5, // 001 11001 01\n  0x0195, // 011001 0101\n];\n\nconst RefinementReusedContexts = [\n  0x0020, // '000' + '0' (coding) + '00010000' + '0' (reference)\n  0x0008, // '0000' + '001000'\n];\n\nfunction decodeBitmapTemplate0(width, height, decodingContext) {\n  const decoder = decodingContext.decoder;\n  const contexts = decodingContext.contextCache.getContexts(\"GB\");\n  const bitmap = [];\n  let contextLabel, i, j, pixel, row, row1, row2;\n\n  // ...ooooo....\n  // ..ooooooo... Context template for current pixel (X)\n  // .ooooX...... (concatenate values of 'o'-pixels to get contextLabel)\n  const OLD_PIXEL_MASK = 0x7bf7; // 01111 0111111 0111\n\n  for (i = 0; i < height; i++) {\n    row = bitmap[i] = new Uint8Array(width);\n    row1 = i < 1 ? row : bitmap[i - 1];\n    row2 = i < 2 ? row : bitmap[i - 2];\n\n    // At the beginning of each row:\n    // Fill contextLabel with pixels that are above/right of (X)\n    contextLabel =\n      (row2[0] << 13) |\n      (row2[1] << 12) |\n      (row2[2] << 11) |\n      (row1[0] << 7) |\n      (row1[1] << 6) |\n      (row1[2] << 5) |\n      (row1[3] << 4);\n\n    for (j = 0; j < width; j++) {\n      row[j] = pixel = decoder.readBit(contexts, contextLabel);\n\n      // At each pixel: Clear contextLabel pixels that are shifted\n      // out of the context, then add new ones.\n      contextLabel =\n        ((contextLabel & OLD_PIXEL_MASK) << 1) |\n        (j + 3 < width ? row2[j + 3] << 11 : 0) |\n        (j + 4 < width ? row1[j + 4] << 4 : 0) |\n        pixel;\n    }\n  }\n\n  return bitmap;\n}\n\n// 6.2 Generic Region Decoding Procedure\nfunction decodeBitmap(\n  mmr,\n  width,\n  height,\n  templateIndex,\n  prediction,\n  skip,\n  at,\n  decodingContext\n) {\n  if (mmr) {\n    const input = new Reader(\n      decodingContext.data,\n      decodingContext.start,\n      decodingContext.end\n    );\n    return decodeMMRBitmap(input, width, height, false);\n  }\n\n  // Use optimized version for the most common case\n  if (\n    templateIndex === 0 &&\n    !skip &&\n    !prediction &&\n    at.length === 4 &&\n    at[0].x === 3 &&\n    at[0].y === -1 &&\n    at[1].x === -3 &&\n    at[1].y === -1 &&\n    at[2].x === 2 &&\n    at[2].y === -2 &&\n    at[3].x === -2 &&\n    at[3].y === -2\n  ) {\n    return decodeBitmapTemplate0(width, height, decodingContext);\n  }\n\n  const useskip = !!skip;\n  const template = CodingTemplates[templateIndex].concat(at);\n\n  // Sorting is non-standard, and it is not required. But sorting increases\n  // the number of template bits that can be reused from the previous\n  // contextLabel in the main loop.\n  template.sort(function (a, b) {\n    return a.y - b.y || a.x - b.x;\n  });\n\n  const templateLength = template.length;\n  const templateX = new Int8Array(templateLength);\n  const templateY = new Int8Array(templateLength);\n  const changingTemplateEntries = [];\n  let reuseMask = 0,\n    minX = 0,\n    maxX = 0,\n    minY = 0;\n  let c, k;\n\n  for (k = 0; k < templateLength; k++) {\n    templateX[k] = template[k].x;\n    templateY[k] = template[k].y;\n    minX = Math.min(minX, template[k].x);\n    maxX = Math.max(maxX, template[k].x);\n    minY = Math.min(minY, template[k].y);\n    // Check if the template pixel appears in two consecutive context labels,\n    // so it can be reused. Otherwise, we add it to the list of changing\n    // template entries.\n    if (\n      k < templateLength - 1 &&\n      template[k].y === template[k + 1].y &&\n      template[k].x === template[k + 1].x - 1\n    ) {\n      reuseMask |= 1 << (templateLength - 1 - k);\n    } else {\n      changingTemplateEntries.push(k);\n    }\n  }\n  const changingEntriesLength = changingTemplateEntries.length;\n\n  const changingTemplateX = new Int8Array(changingEntriesLength);\n  const changingTemplateY = new Int8Array(changingEntriesLength);\n  const changingTemplateBit = new Uint16Array(changingEntriesLength);\n  for (c = 0; c < changingEntriesLength; c++) {\n    k = changingTemplateEntries[c];\n    changingTemplateX[c] = template[k].x;\n    changingTemplateY[c] = template[k].y;\n    changingTemplateBit[c] = 1 << (templateLength - 1 - k);\n  }\n\n  // Get the safe bounding box edges from the width, height, minX, maxX, minY\n  const sbb_left = -minX;\n  const sbb_top = -minY;\n  const sbb_right = width - maxX;\n\n  const pseudoPixelContext = ReusedContexts[templateIndex];\n  let row = new Uint8Array(width);\n  const bitmap = [];\n\n  const decoder = decodingContext.decoder;\n  const contexts = decodingContext.contextCache.getContexts(\"GB\");\n\n  let ltp = 0,\n    j,\n    i0,\n    j0,\n    contextLabel = 0,\n    bit,\n    shift;\n  for (let i = 0; i < height; i++) {\n    if (prediction) {\n      const sltp = decoder.readBit(contexts, pseudoPixelContext);\n      ltp ^= sltp;\n      if (ltp) {\n        bitmap.push(row); // duplicate previous row\n        continue;\n      }\n    }\n    row = new Uint8Array(row);\n    bitmap.push(row);\n    for (j = 0; j < width; j++) {\n      if (useskip && skip[i][j]) {\n        row[j] = 0;\n        continue;\n      }\n      // Are we in the middle of a scanline, so we can reuse contextLabel\n      // bits?\n      if (j >= sbb_left && j < sbb_right && i >= sbb_top) {\n        // If yes, we can just shift the bits that are reusable and only\n        // fetch the remaining ones.\n        contextLabel = (contextLabel << 1) & reuseMask;\n        for (k = 0; k < changingEntriesLength; k++) {\n          i0 = i + changingTemplateY[k];\n          j0 = j + changingTemplateX[k];\n          bit = bitmap[i0][j0];\n          if (bit) {\n            bit = changingTemplateBit[k];\n            contextLabel |= bit;\n          }\n        }\n      } else {\n        // compute the contextLabel from scratch\n        contextLabel = 0;\n        shift = templateLength - 1;\n        for (k = 0; k < templateLength; k++, shift--) {\n          j0 = j + templateX[k];\n          if (j0 >= 0 && j0 < width) {\n            i0 = i + templateY[k];\n            if (i0 >= 0) {\n              bit = bitmap[i0][j0];\n              if (bit) {\n                contextLabel |= bit << shift;\n              }\n            }\n          }\n        }\n      }\n      const pixel = decoder.readBit(contexts, contextLabel);\n      row[j] = pixel;\n    }\n  }\n  return bitmap;\n}\n\n// 6.3.2 Generic Refinement Region Decoding Procedure\nfunction decodeRefinement(\n  width,\n  height,\n  templateIndex,\n  referenceBitmap,\n  offsetX,\n  offsetY,\n  prediction,\n  at,\n  decodingContext\n) {\n  let codingTemplate = RefinementTemplates[templateIndex].coding;\n  if (templateIndex === 0) {\n    codingTemplate = codingTemplate.concat([at[0]]);\n  }\n  const codingTemplateLength = codingTemplate.length;\n  const codingTemplateX = new Int32Array(codingTemplateLength);\n  const codingTemplateY = new Int32Array(codingTemplateLength);\n  let k;\n  for (k = 0; k < codingTemplateLength; k++) {\n    codingTemplateX[k] = codingTemplate[k].x;\n    codingTemplateY[k] = codingTemplate[k].y;\n  }\n\n  let referenceTemplate = RefinementTemplates[templateIndex].reference;\n  if (templateIndex === 0) {\n    referenceTemplate = referenceTemplate.concat([at[1]]);\n  }\n  const referenceTemplateLength = referenceTemplate.length;\n  const referenceTemplateX = new Int32Array(referenceTemplateLength);\n  const referenceTemplateY = new Int32Array(referenceTemplateLength);\n  for (k = 0; k < referenceTemplateLength; k++) {\n    referenceTemplateX[k] = referenceTemplate[k].x;\n    referenceTemplateY[k] = referenceTemplate[k].y;\n  }\n  const referenceWidth = referenceBitmap[0].length;\n  const referenceHeight = referenceBitmap.length;\n\n  const pseudoPixelContext = RefinementReusedContexts[templateIndex];\n  const bitmap = [];\n\n  const decoder = decodingContext.decoder;\n  const contexts = decodingContext.contextCache.getContexts(\"GR\");\n\n  let ltp = 0;\n  for (let i = 0; i < height; i++) {\n    if (prediction) {\n      const sltp = decoder.readBit(contexts, pseudoPixelContext);\n      ltp ^= sltp;\n      if (ltp) {\n        throw new Jbig2Error(\"prediction is not supported\");\n      }\n    }\n    const row = new Uint8Array(width);\n    bitmap.push(row);\n    for (let j = 0; j < width; j++) {\n      let i0, j0;\n      let contextLabel = 0;\n      for (k = 0; k < codingTemplateLength; k++) {\n        i0 = i + codingTemplateY[k];\n        j0 = j + codingTemplateX[k];\n        if (i0 < 0 || j0 < 0 || j0 >= width) {\n          contextLabel <<= 1; // out of bound pixel\n        } else {\n          contextLabel = (contextLabel << 1) | bitmap[i0][j0];\n        }\n      }\n      for (k = 0; k < referenceTemplateLength; k++) {\n        i0 = i + referenceTemplateY[k] - offsetY;\n        j0 = j + referenceTemplateX[k] - offsetX;\n        if (i0 < 0 || i0 >= referenceHeight || j0 < 0 || j0 >= referenceWidth) {\n          contextLabel <<= 1; // out of bound pixel\n        } else {\n          contextLabel = (contextLabel << 1) | referenceBitmap[i0][j0];\n        }\n      }\n      const pixel = decoder.readBit(contexts, contextLabel);\n      row[j] = pixel;\n    }\n  }\n\n  return bitmap;\n}\n\n// 6.5.5 Decoding the symbol dictionary\nfunction decodeSymbolDictionary(\n  huffman,\n  refinement,\n  symbols,\n  numberOfNewSymbols,\n  numberOfExportedSymbols,\n  huffmanTables,\n  templateIndex,\n  at,\n  refinementTemplateIndex,\n  refinementAt,\n  decodingContext,\n  huffmanInput\n) {\n  if (huffman && refinement) {\n    throw new Jbig2Error(\"symbol refinement with Huffman is not supported\");\n  }\n\n  const newSymbols = [];\n  let currentHeight = 0;\n  let symbolCodeLength = log2(symbols.length + numberOfNewSymbols);\n\n  const decoder = decodingContext.decoder;\n  const contextCache = decodingContext.contextCache;\n  let tableB1, symbolWidths;\n  if (huffman) {\n    tableB1 = getStandardTable(1); // standard table B.1\n    symbolWidths = [];\n    symbolCodeLength = Math.max(symbolCodeLength, 1); // 6.5.8.2.3\n  }\n\n  while (newSymbols.length < numberOfNewSymbols) {\n    const deltaHeight = huffman\n      ? huffmanTables.tableDeltaHeight.decode(huffmanInput)\n      : decodeInteger(contextCache, \"IADH\", decoder); // 6.5.6\n    currentHeight += deltaHeight;\n    let currentWidth = 0,\n      totalWidth = 0;\n    const firstSymbol = huffman ? symbolWidths.length : 0;\n    while (true) {\n      const deltaWidth = huffman\n        ? huffmanTables.tableDeltaWidth.decode(huffmanInput)\n        : decodeInteger(contextCache, \"IADW\", decoder); // 6.5.7\n      if (deltaWidth === null) {\n        break; // OOB\n      }\n      currentWidth += deltaWidth;\n      totalWidth += currentWidth;\n      let bitmap;\n      if (refinement) {\n        // 6.5.8.2 Refinement/aggregate-coded symbol bitmap\n        const numberOfInstances = decodeInteger(contextCache, \"IAAI\", decoder);\n        if (numberOfInstances > 1) {\n          bitmap = decodeTextRegion(\n            huffman,\n            refinement,\n            currentWidth,\n            currentHeight,\n            0,\n            numberOfInstances,\n            1, // strip size\n            symbols.concat(newSymbols),\n            symbolCodeLength,\n            0, // transposed\n            0, // ds offset\n            1, // top left 7.4.3.1.1\n            0, // OR operator\n            huffmanTables,\n            refinementTemplateIndex,\n            refinementAt,\n            decodingContext,\n            0,\n            huffmanInput\n          );\n        } else {\n          const symbolId = decodeIAID(contextCache, decoder, symbolCodeLength);\n          const rdx = decodeInteger(contextCache, \"IARDX\", decoder); // 6.4.11.3\n          const rdy = decodeInteger(contextCache, \"IARDY\", decoder); // 6.4.11.4\n          const symbol =\n            symbolId < symbols.length\n              ? symbols[symbolId]\n              : newSymbols[symbolId - symbols.length];\n          bitmap = decodeRefinement(\n            currentWidth,\n            currentHeight,\n            refinementTemplateIndex,\n            symbol,\n            rdx,\n            rdy,\n            false,\n            refinementAt,\n            decodingContext\n          );\n        }\n        newSymbols.push(bitmap);\n      } else if (huffman) {\n        // Store only symbol width and decode a collective bitmap when the\n        // height class is done.\n        symbolWidths.push(currentWidth);\n      } else {\n        // 6.5.8.1 Direct-coded symbol bitmap\n        bitmap = decodeBitmap(\n          false,\n          currentWidth,\n          currentHeight,\n          templateIndex,\n          false,\n          null,\n          at,\n          decodingContext\n        );\n        newSymbols.push(bitmap);\n      }\n    }\n    if (huffman && !refinement) {\n      // 6.5.9 Height class collective bitmap\n      const bitmapSize = huffmanTables.tableBitmapSize.decode(huffmanInput);\n      huffmanInput.byteAlign();\n      let collectiveBitmap;\n      if (bitmapSize === 0) {\n        // Uncompressed collective bitmap\n        collectiveBitmap = readUncompressedBitmap(\n          huffmanInput,\n          totalWidth,\n          currentHeight\n        );\n      } else {\n        // MMR collective bitmap\n        const originalEnd = huffmanInput.end;\n        const bitmapEnd = huffmanInput.position + bitmapSize;\n        huffmanInput.end = bitmapEnd;\n        collectiveBitmap = decodeMMRBitmap(\n          huffmanInput,\n          totalWidth,\n          currentHeight,\n          false\n        );\n        huffmanInput.end = originalEnd;\n        huffmanInput.position = bitmapEnd;\n      }\n      const numberOfSymbolsDecoded = symbolWidths.length;\n      if (firstSymbol === numberOfSymbolsDecoded - 1) {\n        // collectiveBitmap is a single symbol.\n        newSymbols.push(collectiveBitmap);\n      } else {\n        // Divide collectiveBitmap into symbols.\n        let i,\n          y,\n          xMin = 0,\n          xMax,\n          bitmapWidth,\n          symbolBitmap;\n        for (i = firstSymbol; i < numberOfSymbolsDecoded; i++) {\n          bitmapWidth = symbolWidths[i];\n          xMax = xMin + bitmapWidth;\n          symbolBitmap = [];\n          for (y = 0; y < currentHeight; y++) {\n            symbolBitmap.push(collectiveBitmap[y].subarray(xMin, xMax));\n          }\n          newSymbols.push(symbolBitmap);\n          xMin = xMax;\n        }\n      }\n    }\n  }\n\n  // 6.5.10 Exported symbols\n  const exportedSymbols = [],\n    flags = [];\n  let currentFlag = false,\n    i,\n    ii;\n  const totalSymbolsLength = symbols.length + numberOfNewSymbols;\n  while (flags.length < totalSymbolsLength) {\n    let runLength = huffman\n      ? tableB1.decode(huffmanInput)\n      : decodeInteger(contextCache, \"IAEX\", decoder);\n    while (runLength--) {\n      flags.push(currentFlag);\n    }\n    currentFlag = !currentFlag;\n  }\n  for (i = 0, ii = symbols.length; i < ii; i++) {\n    if (flags[i]) {\n      exportedSymbols.push(symbols[i]);\n    }\n  }\n  for (let j = 0; j < numberOfNewSymbols; i++, j++) {\n    if (flags[i]) {\n      exportedSymbols.push(newSymbols[j]);\n    }\n  }\n  return exportedSymbols;\n}\n\nfunction decodeTextRegion(\n  huffman,\n  refinement,\n  width,\n  height,\n  defaultPixelValue,\n  numberOfSymbolInstances,\n  stripSize,\n  inputSymbols,\n  symbolCodeLength,\n  transposed,\n  dsOffset,\n  referenceCorner,\n  combinationOperator,\n  huffmanTables,\n  refinementTemplateIndex,\n  refinementAt,\n  decodingContext,\n  logStripSize,\n  huffmanInput\n) {\n  if (huffman && refinement) {\n    throw new Jbig2Error(\"refinement with Huffman is not supported\");\n  }\n\n  // Prepare bitmap\n  const bitmap = [];\n  let i, row;\n  for (i = 0; i < height; i++) {\n    row = new Uint8Array(width);\n    if (defaultPixelValue) {\n      for (let j = 0; j < width; j++) {\n        row[j] = defaultPixelValue;\n      }\n    }\n    bitmap.push(row);\n  }\n\n  const decoder = decodingContext.decoder;\n  const contextCache = decodingContext.contextCache;\n\n  let stripT = huffman\n    ? -huffmanTables.tableDeltaT.decode(huffmanInput)\n    : -decodeInteger(contextCache, \"IADT\", decoder); // 6.4.6\n  let firstS = 0;\n  i = 0;\n  while (i < numberOfSymbolInstances) {\n    const deltaT = huffman\n      ? huffmanTables.tableDeltaT.decode(huffmanInput)\n      : decodeInteger(contextCache, \"IADT\", decoder); // 6.4.6\n    stripT += deltaT;\n\n    const deltaFirstS = huffman\n      ? huffmanTables.tableFirstS.decode(huffmanInput)\n      : decodeInteger(contextCache, \"IAFS\", decoder); // 6.4.7\n    firstS += deltaFirstS;\n    let currentS = firstS;\n    do {\n      let currentT = 0; // 6.4.9\n      if (stripSize > 1) {\n        currentT = huffman\n          ? huffmanInput.readBits(logStripSize)\n          : decodeInteger(contextCache, \"IAIT\", decoder);\n      }\n      const t = stripSize * stripT + currentT;\n      const symbolId = huffman\n        ? huffmanTables.symbolIDTable.decode(huffmanInput)\n        : decodeIAID(contextCache, decoder, symbolCodeLength);\n      const applyRefinement =\n        refinement &&\n        (huffman\n          ? huffmanInput.readBit()\n          : decodeInteger(contextCache, \"IARI\", decoder));\n      let symbolBitmap = inputSymbols[symbolId];\n      let symbolWidth = symbolBitmap[0].length;\n      let symbolHeight = symbolBitmap.length;\n      if (applyRefinement) {\n        const rdw = decodeInteger(contextCache, \"IARDW\", decoder); // 6.4.11.1\n        const rdh = decodeInteger(contextCache, \"IARDH\", decoder); // 6.4.11.2\n        const rdx = decodeInteger(contextCache, \"IARDX\", decoder); // 6.4.11.3\n        const rdy = decodeInteger(contextCache, \"IARDY\", decoder); // 6.4.11.4\n        symbolWidth += rdw;\n        symbolHeight += rdh;\n        symbolBitmap = decodeRefinement(\n          symbolWidth,\n          symbolHeight,\n          refinementTemplateIndex,\n          symbolBitmap,\n          (rdw >> 1) + rdx,\n          (rdh >> 1) + rdy,\n          false,\n          refinementAt,\n          decodingContext\n        );\n      }\n      const offsetT = t - (referenceCorner & 1 ? 0 : symbolHeight - 1);\n      const offsetS = currentS - (referenceCorner & 2 ? symbolWidth - 1 : 0);\n      let s2, t2, symbolRow;\n      if (transposed) {\n        // Place Symbol Bitmap from T1,S1\n        for (s2 = 0; s2 < symbolHeight; s2++) {\n          row = bitmap[offsetS + s2];\n          if (!row) {\n            continue;\n          }\n          symbolRow = symbolBitmap[s2];\n          // To ignore Parts of Symbol bitmap which goes\n          // outside bitmap region\n          const maxWidth = Math.min(width - offsetT, symbolWidth);\n          switch (combinationOperator) {\n            case 0: // OR\n              for (t2 = 0; t2 < maxWidth; t2++) {\n                row[offsetT + t2] |= symbolRow[t2];\n              }\n              break;\n            case 2: // XOR\n              for (t2 = 0; t2 < maxWidth; t2++) {\n                row[offsetT + t2] ^= symbolRow[t2];\n              }\n              break;\n            default:\n              throw new Jbig2Error(\n                `operator ${combinationOperator} is not supported`\n              );\n          }\n        }\n        currentS += symbolHeight - 1;\n      } else {\n        for (t2 = 0; t2 < symbolHeight; t2++) {\n          row = bitmap[offsetT + t2];\n          if (!row) {\n            continue;\n          }\n          symbolRow = symbolBitmap[t2];\n          switch (combinationOperator) {\n            case 0: // OR\n              for (s2 = 0; s2 < symbolWidth; s2++) {\n                row[offsetS + s2] |= symbolRow[s2];\n              }\n              break;\n            case 2: // XOR\n              for (s2 = 0; s2 < symbolWidth; s2++) {\n                row[offsetS + s2] ^= symbolRow[s2];\n              }\n              break;\n            default:\n              throw new Jbig2Error(\n                `operator ${combinationOperator} is not supported`\n              );\n          }\n        }\n        currentS += symbolWidth - 1;\n      }\n      i++;\n      const deltaS = huffman\n        ? huffmanTables.tableDeltaS.decode(huffmanInput)\n        : decodeInteger(contextCache, \"IADS\", decoder); // 6.4.8\n      if (deltaS === null) {\n        break; // OOB\n      }\n      currentS += deltaS + dsOffset;\n    } while (true);\n  }\n  return bitmap;\n}\n\nfunction decodePatternDictionary(\n  mmr,\n  patternWidth,\n  patternHeight,\n  maxPatternIndex,\n  template,\n  decodingContext\n) {\n  const at = [];\n  if (!mmr) {\n    at.push({\n      x: -patternWidth,\n      y: 0,\n    });\n    if (template === 0) {\n      at.push(\n        {\n          x: -3,\n          y: -1,\n        },\n        {\n          x: 2,\n          y: -2,\n        },\n        {\n          x: -2,\n          y: -2,\n        }\n      );\n    }\n  }\n  const collectiveWidth = (maxPatternIndex + 1) * patternWidth;\n  const collectiveBitmap = decodeBitmap(\n    mmr,\n    collectiveWidth,\n    patternHeight,\n    template,\n    false,\n    null,\n    at,\n    decodingContext\n  );\n  // Divide collective bitmap into patterns.\n  const patterns = [];\n  for (let i = 0; i <= maxPatternIndex; i++) {\n    const patternBitmap = [];\n    const xMin = patternWidth * i;\n    const xMax = xMin + patternWidth;\n    for (let y = 0; y < patternHeight; y++) {\n      patternBitmap.push(collectiveBitmap[y].subarray(xMin, xMax));\n    }\n    patterns.push(patternBitmap);\n  }\n  return patterns;\n}\n\nfunction decodeHalftoneRegion(\n  mmr,\n  patterns,\n  template,\n  regionWidth,\n  regionHeight,\n  defaultPixelValue,\n  enableSkip,\n  combinationOperator,\n  gridWidth,\n  gridHeight,\n  gridOffsetX,\n  gridOffsetY,\n  gridVectorX,\n  gridVectorY,\n  decodingContext\n) {\n  const skip = null;\n  if (enableSkip) {\n    throw new Jbig2Error(\"skip is not supported\");\n  }\n  if (combinationOperator !== 0) {\n    throw new Jbig2Error(\n      `operator \"${combinationOperator}\" is not supported in halftone region`\n    );\n  }\n\n  // Prepare bitmap.\n  const regionBitmap = [];\n  let i, j, row;\n  for (i = 0; i < regionHeight; i++) {\n    row = new Uint8Array(regionWidth);\n    if (defaultPixelValue) {\n      for (j = 0; j < regionWidth; j++) {\n        row[j] = defaultPixelValue;\n      }\n    }\n    regionBitmap.push(row);\n  }\n\n  const numberOfPatterns = patterns.length;\n  const pattern0 = patterns[0];\n  const patternWidth = pattern0[0].length,\n    patternHeight = pattern0.length;\n  const bitsPerValue = log2(numberOfPatterns);\n  const at = [];\n  if (!mmr) {\n    at.push({\n      x: template <= 1 ? 3 : 2,\n      y: -1,\n    });\n    if (template === 0) {\n      at.push(\n        {\n          x: -3,\n          y: -1,\n        },\n        {\n          x: 2,\n          y: -2,\n        },\n        {\n          x: -2,\n          y: -2,\n        }\n      );\n    }\n  }\n  // Annex C. Gray-scale Image Decoding Procedure.\n  const grayScaleBitPlanes = [];\n  let mmrInput, bitmap;\n  if (mmr) {\n    // MMR bit planes are in one continuous stream. Only EOFB codes indicate\n    // the end of each bitmap, so EOFBs must be decoded.\n    mmrInput = new Reader(\n      decodingContext.data,\n      decodingContext.start,\n      decodingContext.end\n    );\n  }\n  for (i = bitsPerValue - 1; i >= 0; i--) {\n    if (mmr) {\n      bitmap = decodeMMRBitmap(mmrInput, gridWidth, gridHeight, true);\n    } else {\n      bitmap = decodeBitmap(\n        false,\n        gridWidth,\n        gridHeight,\n        template,\n        false,\n        skip,\n        at,\n        decodingContext\n      );\n    }\n    grayScaleBitPlanes[i] = bitmap;\n  }\n  // 6.6.5.2 Rendering the patterns.\n  let mg, ng, bit, patternIndex, patternBitmap, x, y, patternRow, regionRow;\n  for (mg = 0; mg < gridHeight; mg++) {\n    for (ng = 0; ng < gridWidth; ng++) {\n      bit = 0;\n      patternIndex = 0;\n      for (j = bitsPerValue - 1; j >= 0; j--) {\n        bit ^= grayScaleBitPlanes[j][mg][ng]; // Gray decoding\n        patternIndex |= bit << j;\n      }\n      patternBitmap = patterns[patternIndex];\n      x = (gridOffsetX + mg * gridVectorY + ng * gridVectorX) >> 8;\n      y = (gridOffsetY + mg * gridVectorX - ng * gridVectorY) >> 8;\n      // Draw patternBitmap at (x, y).\n      if (\n        x >= 0 &&\n        x + patternWidth <= regionWidth &&\n        y >= 0 &&\n        y + patternHeight <= regionHeight\n      ) {\n        for (i = 0; i < patternHeight; i++) {\n          regionRow = regionBitmap[y + i];\n          patternRow = patternBitmap[i];\n          for (j = 0; j < patternWidth; j++) {\n            regionRow[x + j] |= patternRow[j];\n          }\n        }\n      } else {\n        let regionX, regionY;\n        for (i = 0; i < patternHeight; i++) {\n          regionY = y + i;\n          if (regionY < 0 || regionY >= regionHeight) {\n            continue;\n          }\n          regionRow = regionBitmap[regionY];\n          patternRow = patternBitmap[i];\n          for (j = 0; j < patternWidth; j++) {\n            regionX = x + j;\n            if (regionX >= 0 && regionX < regionWidth) {\n              regionRow[regionX] |= patternRow[j];\n            }\n          }\n        }\n      }\n    }\n  }\n  return regionBitmap;\n}\n\nfunction readSegmentHeader(data, start) {\n  const segmentHeader = {};\n  segmentHeader.number = readUint32(data, start);\n  const flags = data[start + 4];\n  const segmentType = flags & 0x3f;\n  if (!SegmentTypes[segmentType]) {\n    throw new Jbig2Error(\"invalid segment type: \" + segmentType);\n  }\n  segmentHeader.type = segmentType;\n  segmentHeader.typeName = SegmentTypes[segmentType];\n  segmentHeader.deferredNonRetain = !!(flags & 0x80);\n\n  const pageAssociationFieldSize = !!(flags & 0x40);\n  const referredFlags = data[start + 5];\n  let referredToCount = (referredFlags >> 5) & 7;\n  const retainBits = [referredFlags & 31];\n  let position = start + 6;\n  if (referredFlags === 7) {\n    referredToCount = readUint32(data, position - 1) & 0x1fffffff;\n    position += 3;\n    let bytes = (referredToCount + 7) >> 3;\n    retainBits[0] = data[position++];\n    while (--bytes > 0) {\n      retainBits.push(data[position++]);\n    }\n  } else if (referredFlags === 5 || referredFlags === 6) {\n    throw new Jbig2Error(\"invalid referred-to flags\");\n  }\n\n  segmentHeader.retainBits = retainBits;\n\n  let referredToSegmentNumberSize = 4;\n  if (segmentHeader.number <= 256) {\n    referredToSegmentNumberSize = 1;\n  } else if (segmentHeader.number <= 65536) {\n    referredToSegmentNumberSize = 2;\n  }\n  const referredTo = [];\n  let i, ii;\n  for (i = 0; i < referredToCount; i++) {\n    let number;\n    if (referredToSegmentNumberSize === 1) {\n      number = data[position];\n    } else if (referredToSegmentNumberSize === 2) {\n      number = readUint16(data, position);\n    } else {\n      number = readUint32(data, position);\n    }\n    referredTo.push(number);\n    position += referredToSegmentNumberSize;\n  }\n  segmentHeader.referredTo = referredTo;\n  if (!pageAssociationFieldSize) {\n    segmentHeader.pageAssociation = data[position++];\n  } else {\n    segmentHeader.pageAssociation = readUint32(data, position);\n    position += 4;\n  }\n  segmentHeader.length = readUint32(data, position);\n  position += 4;\n\n  if (segmentHeader.length === 0xffffffff) {\n    // 7.2.7 Segment data length, unknown segment length\n    if (segmentType === 38) {\n      // ImmediateGenericRegion\n      const genericRegionInfo = readRegionSegmentInformation(data, position);\n      const genericRegionSegmentFlags =\n        data[position + RegionSegmentInformationFieldLength];\n      const genericRegionMmr = !!(genericRegionSegmentFlags & 1);\n      // searching for the segment end\n      const searchPatternLength = 6;\n      const searchPattern = new Uint8Array(searchPatternLength);\n      if (!genericRegionMmr) {\n        searchPattern[0] = 0xff;\n        searchPattern[1] = 0xac;\n      }\n      searchPattern[2] = (genericRegionInfo.height >>> 24) & 0xff;\n      searchPattern[3] = (genericRegionInfo.height >> 16) & 0xff;\n      searchPattern[4] = (genericRegionInfo.height >> 8) & 0xff;\n      searchPattern[5] = genericRegionInfo.height & 0xff;\n      for (i = position, ii = data.length; i < ii; i++) {\n        let j = 0;\n        while (j < searchPatternLength && searchPattern[j] === data[i + j]) {\n          j++;\n        }\n        if (j === searchPatternLength) {\n          segmentHeader.length = i + searchPatternLength;\n          break;\n        }\n      }\n      if (segmentHeader.length === 0xffffffff) {\n        throw new Jbig2Error(\"segment end was not found\");\n      }\n    } else {\n      throw new Jbig2Error(\"invalid unknown segment length\");\n    }\n  }\n  segmentHeader.headerEnd = position;\n  return segmentHeader;\n}\n\nfunction readSegments(header, data, start, end) {\n  const segments = [];\n  let position = start;\n  while (position < end) {\n    const segmentHeader = readSegmentHeader(data, position);\n    position = segmentHeader.headerEnd;\n    const segment = {\n      header: segmentHeader,\n      data,\n    };\n    if (!header.randomAccess) {\n      segment.start = position;\n      position += segmentHeader.length;\n      segment.end = position;\n    }\n    segments.push(segment);\n    if (segmentHeader.type === 51) {\n      break; // end of file is found\n    }\n  }\n  if (header.randomAccess) {\n    for (let i = 0, ii = segments.length; i < ii; i++) {\n      segments[i].start = position;\n      position += segments[i].header.length;\n      segments[i].end = position;\n    }\n  }\n  return segments;\n}\n\n// 7.4.1 Region segment information field\nfunction readRegionSegmentInformation(data, start) {\n  return {\n    width: readUint32(data, start),\n    height: readUint32(data, start + 4),\n    x: readUint32(data, start + 8),\n    y: readUint32(data, start + 12),\n    combinationOperator: data[start + 16] & 7,\n  };\n}\nconst RegionSegmentInformationFieldLength = 17;\n\nfunction processSegment(segment, visitor) {\n  const header = segment.header;\n\n  const data = segment.data,\n    end = segment.end;\n  let position = segment.start;\n  let args, at, i, atLength;\n  switch (header.type) {\n    case 0: // SymbolDictionary\n      // 7.4.2 Symbol dictionary segment syntax\n      const dictionary = {};\n      const dictionaryFlags = readUint16(data, position); // 7.4.2.1.1\n      dictionary.huffman = !!(dictionaryFlags & 1);\n      dictionary.refinement = !!(dictionaryFlags & 2);\n      dictionary.huffmanDHSelector = (dictionaryFlags >> 2) & 3;\n      dictionary.huffmanDWSelector = (dictionaryFlags >> 4) & 3;\n      dictionary.bitmapSizeSelector = (dictionaryFlags >> 6) & 1;\n      dictionary.aggregationInstancesSelector = (dictionaryFlags >> 7) & 1;\n      dictionary.bitmapCodingContextUsed = !!(dictionaryFlags & 256);\n      dictionary.bitmapCodingContextRetained = !!(dictionaryFlags & 512);\n      dictionary.template = (dictionaryFlags >> 10) & 3;\n      dictionary.refinementTemplate = (dictionaryFlags >> 12) & 1;\n      position += 2;\n      if (!dictionary.huffman) {\n        atLength = dictionary.template === 0 ? 4 : 1;\n        at = [];\n        for (i = 0; i < atLength; i++) {\n          at.push({\n            x: readInt8(data, position),\n            y: readInt8(data, position + 1),\n          });\n          position += 2;\n        }\n        dictionary.at = at;\n      }\n      if (dictionary.refinement && !dictionary.refinementTemplate) {\n        at = [];\n        for (i = 0; i < 2; i++) {\n          at.push({\n            x: readInt8(data, position),\n            y: readInt8(data, position + 1),\n          });\n          position += 2;\n        }\n        dictionary.refinementAt = at;\n      }\n      dictionary.numberOfExportedSymbols = readUint32(data, position);\n      position += 4;\n      dictionary.numberOfNewSymbols = readUint32(data, position);\n      position += 4;\n      args = [\n        dictionary,\n        header.number,\n        header.referredTo,\n        data,\n        position,\n        end,\n      ];\n      break;\n    case 6: // ImmediateTextRegion\n    case 7: // ImmediateLosslessTextRegion\n      const textRegion = {};\n      textRegion.info = readRegionSegmentInformation(data, position);\n      position += RegionSegmentInformationFieldLength;\n      const textRegionSegmentFlags = readUint16(data, position);\n      position += 2;\n      textRegion.huffman = !!(textRegionSegmentFlags & 1);\n      textRegion.refinement = !!(textRegionSegmentFlags & 2);\n      textRegion.logStripSize = (textRegionSegmentFlags >> 2) & 3;\n      textRegion.stripSize = 1 << textRegion.logStripSize;\n      textRegion.referenceCorner = (textRegionSegmentFlags >> 4) & 3;\n      textRegion.transposed = !!(textRegionSegmentFlags & 64);\n      textRegion.combinationOperator = (textRegionSegmentFlags >> 7) & 3;\n      textRegion.defaultPixelValue = (textRegionSegmentFlags >> 9) & 1;\n      textRegion.dsOffset = (textRegionSegmentFlags << 17) >> 27;\n      textRegion.refinementTemplate = (textRegionSegmentFlags >> 15) & 1;\n      if (textRegion.huffman) {\n        const textRegionHuffmanFlags = readUint16(data, position);\n        position += 2;\n        textRegion.huffmanFS = textRegionHuffmanFlags & 3;\n        textRegion.huffmanDS = (textRegionHuffmanFlags >> 2) & 3;\n        textRegion.huffmanDT = (textRegionHuffmanFlags >> 4) & 3;\n        textRegion.huffmanRefinementDW = (textRegionHuffmanFlags >> 6) & 3;\n        textRegion.huffmanRefinementDH = (textRegionHuffmanFlags >> 8) & 3;\n        textRegion.huffmanRefinementDX = (textRegionHuffmanFlags >> 10) & 3;\n        textRegion.huffmanRefinementDY = (textRegionHuffmanFlags >> 12) & 3;\n        textRegion.huffmanRefinementSizeSelector = !!(\n          textRegionHuffmanFlags & 0x4000\n        );\n      }\n      if (textRegion.refinement && !textRegion.refinementTemplate) {\n        at = [];\n        for (i = 0; i < 2; i++) {\n          at.push({\n            x: readInt8(data, position),\n            y: readInt8(data, position + 1),\n          });\n          position += 2;\n        }\n        textRegion.refinementAt = at;\n      }\n      textRegion.numberOfSymbolInstances = readUint32(data, position);\n      position += 4;\n      args = [textRegion, header.referredTo, data, position, end];\n      break;\n    case 16: // PatternDictionary\n      // 7.4.4. Pattern dictionary segment syntax\n      const patternDictionary = {};\n      const patternDictionaryFlags = data[position++];\n      patternDictionary.mmr = !!(patternDictionaryFlags & 1);\n      patternDictionary.template = (patternDictionaryFlags >> 1) & 3;\n      patternDictionary.patternWidth = data[position++];\n      patternDictionary.patternHeight = data[position++];\n      patternDictionary.maxPatternIndex = readUint32(data, position);\n      position += 4;\n      args = [patternDictionary, header.number, data, position, end];\n      break;\n    case 22: // ImmediateHalftoneRegion\n    case 23: // ImmediateLosslessHalftoneRegion\n      // 7.4.5 Halftone region segment syntax\n      const halftoneRegion = {};\n      halftoneRegion.info = readRegionSegmentInformation(data, position);\n      position += RegionSegmentInformationFieldLength;\n      const halftoneRegionFlags = data[position++];\n      halftoneRegion.mmr = !!(halftoneRegionFlags & 1);\n      halftoneRegion.template = (halftoneRegionFlags >> 1) & 3;\n      halftoneRegion.enableSkip = !!(halftoneRegionFlags & 8);\n      halftoneRegion.combinationOperator = (halftoneRegionFlags >> 4) & 7;\n      halftoneRegion.defaultPixelValue = (halftoneRegionFlags >> 7) & 1;\n      halftoneRegion.gridWidth = readUint32(data, position);\n      position += 4;\n      halftoneRegion.gridHeight = readUint32(data, position);\n      position += 4;\n      halftoneRegion.gridOffsetX = readUint32(data, position) & 0xffffffff;\n      position += 4;\n      halftoneRegion.gridOffsetY = readUint32(data, position) & 0xffffffff;\n      position += 4;\n      halftoneRegion.gridVectorX = readUint16(data, position);\n      position += 2;\n      halftoneRegion.gridVectorY = readUint16(data, position);\n      position += 2;\n      args = [halftoneRegion, header.referredTo, data, position, end];\n      break;\n    case 38: // ImmediateGenericRegion\n    case 39: // ImmediateLosslessGenericRegion\n      const genericRegion = {};\n      genericRegion.info = readRegionSegmentInformation(data, position);\n      position += RegionSegmentInformationFieldLength;\n      const genericRegionSegmentFlags = data[position++];\n      genericRegion.mmr = !!(genericRegionSegmentFlags & 1);\n      genericRegion.template = (genericRegionSegmentFlags >> 1) & 3;\n      genericRegion.prediction = !!(genericRegionSegmentFlags & 8);\n      if (!genericRegion.mmr) {\n        atLength = genericRegion.template === 0 ? 4 : 1;\n        at = [];\n        for (i = 0; i < atLength; i++) {\n          at.push({\n            x: readInt8(data, position),\n            y: readInt8(data, position + 1),\n          });\n          position += 2;\n        }\n        genericRegion.at = at;\n      }\n      args = [genericRegion, data, position, end];\n      break;\n    case 48: // PageInformation\n      const pageInfo = {\n        width: readUint32(data, position),\n        height: readUint32(data, position + 4),\n        resolutionX: readUint32(data, position + 8),\n        resolutionY: readUint32(data, position + 12),\n      };\n      if (pageInfo.height === 0xffffffff) {\n        delete pageInfo.height;\n      }\n      const pageSegmentFlags = data[position + 16];\n      readUint16(data, position + 17); // pageStripingInformation\n      pageInfo.lossless = !!(pageSegmentFlags & 1);\n      pageInfo.refinement = !!(pageSegmentFlags & 2);\n      pageInfo.defaultPixelValue = (pageSegmentFlags >> 2) & 1;\n      pageInfo.combinationOperator = (pageSegmentFlags >> 3) & 3;\n      pageInfo.requiresBuffer = !!(pageSegmentFlags & 32);\n      pageInfo.combinationOperatorOverride = !!(pageSegmentFlags & 64);\n      args = [pageInfo];\n      break;\n    case 49: // EndOfPage\n      break;\n    case 50: // EndOfStripe\n      break;\n    case 51: // EndOfFile\n      break;\n    case 53: // Tables\n      args = [header.number, data, position, end];\n      break;\n    case 62: // 7.4.15 defines 2 extension types which\n      // are comments and can be ignored.\n      break;\n    default:\n      throw new Jbig2Error(\n        `segment type ${header.typeName}(${header.type})` +\n          \" is not implemented\"\n      );\n  }\n  const callbackName = \"on\" + header.typeName;\n  if (callbackName in visitor) {\n    visitor[callbackName].apply(visitor, args);\n  }\n}\n\nfunction processSegments(segments, visitor) {\n  for (let i = 0, ii = segments.length; i < ii; i++) {\n    processSegment(segments[i], visitor);\n  }\n}\n\nfunction parseJbig2Chunks(chunks) {\n  const visitor = new SimpleSegmentVisitor();\n  for (let i = 0, ii = chunks.length; i < ii; i++) {\n    const chunk = chunks[i];\n    const segments = readSegments({}, chunk.data, chunk.start, chunk.end);\n    processSegments(segments, visitor);\n  }\n  return visitor.buffer;\n}\n\nfunction parseJbig2(data) {\n  const end = data.length;\n  let position = 0;\n\n  if (\n    data[position] !== 0x97 ||\n    data[position + 1] !== 0x4a ||\n    data[position + 2] !== 0x42 ||\n    data[position + 3] !== 0x32 ||\n    data[position + 4] !== 0x0d ||\n    data[position + 5] !== 0x0a ||\n    data[position + 6] !== 0x1a ||\n    data[position + 7] !== 0x0a\n  ) {\n    throw new Jbig2Error(\"parseJbig2 - invalid header.\");\n  }\n\n  const header = Object.create(null);\n  position += 8;\n  const flags = data[position++];\n  header.randomAccess = !(flags & 1);\n  if (!(flags & 2)) {\n    header.numberOfPages = readUint32(data, position);\n    position += 4;\n  }\n\n  const segments = readSegments(header, data, position, end);\n  const visitor = new SimpleSegmentVisitor();\n  processSegments(segments, visitor);\n\n  const { width, height } = visitor.currentPageInfo;\n  const bitPacked = visitor.buffer;\n  const imgData = new Uint8ClampedArray(width * height);\n  let q = 0,\n    k = 0;\n  for (let i = 0; i < height; i++) {\n    let mask = 0,\n      buffer;\n    for (let j = 0; j < width; j++) {\n      if (!mask) {\n        mask = 128;\n        buffer = bitPacked[k++];\n      }\n      imgData[q++] = buffer & mask ? 0 : 255;\n      mask >>= 1;\n    }\n  }\n\n  return { imgData, width, height };\n}\n\nclass SimpleSegmentVisitor {\n  onPageInformation(info) {\n    this.currentPageInfo = info;\n    const rowSize = (info.width + 7) >> 3;\n    const buffer = new Uint8ClampedArray(rowSize * info.height);\n    // The contents of ArrayBuffers are initialized to 0.\n    // Fill the buffer with 0xFF only if info.defaultPixelValue is set\n    if (info.defaultPixelValue) {\n      for (let i = 0, ii = buffer.length; i < ii; i++) {\n        buffer[i] = 0xff;\n      }\n    }\n    this.buffer = buffer;\n  }\n\n  drawBitmap(regionInfo, bitmap) {\n    const pageInfo = this.currentPageInfo;\n    const width = regionInfo.width,\n      height = regionInfo.height;\n    const rowSize = (pageInfo.width + 7) >> 3;\n    const combinationOperator = pageInfo.combinationOperatorOverride\n      ? regionInfo.combinationOperator\n      : pageInfo.combinationOperator;\n    const buffer = this.buffer;\n    const mask0 = 128 >> (regionInfo.x & 7);\n    let offset0 = regionInfo.y * rowSize + (regionInfo.x >> 3);\n    let i, j, mask, offset;\n    switch (combinationOperator) {\n      case 0: // OR\n        for (i = 0; i < height; i++) {\n          mask = mask0;\n          offset = offset0;\n          for (j = 0; j < width; j++) {\n            if (bitmap[i][j]) {\n              buffer[offset] |= mask;\n            }\n            mask >>= 1;\n            if (!mask) {\n              mask = 128;\n              offset++;\n            }\n          }\n          offset0 += rowSize;\n        }\n        break;\n      case 2: // XOR\n        for (i = 0; i < height; i++) {\n          mask = mask0;\n          offset = offset0;\n          for (j = 0; j < width; j++) {\n            if (bitmap[i][j]) {\n              buffer[offset] ^= mask;\n            }\n            mask >>= 1;\n            if (!mask) {\n              mask = 128;\n              offset++;\n            }\n          }\n          offset0 += rowSize;\n        }\n        break;\n      default:\n        throw new Jbig2Error(\n          `operator ${combinationOperator} is not supported`\n        );\n    }\n  }\n\n  onImmediateGenericRegion(region, data, start, end) {\n    const regionInfo = region.info;\n    const decodingContext = new DecodingContext(data, start, end);\n    const bitmap = decodeBitmap(\n      region.mmr,\n      regionInfo.width,\n      regionInfo.height,\n      region.template,\n      region.prediction,\n      null,\n      region.at,\n      decodingContext\n    );\n    this.drawBitmap(regionInfo, bitmap);\n  }\n\n  onImmediateLosslessGenericRegion() {\n    this.onImmediateGenericRegion.apply(this, arguments);\n  }\n\n  onSymbolDictionary(\n    dictionary,\n    currentSegment,\n    referredSegments,\n    data,\n    start,\n    end\n  ) {\n    let huffmanTables, huffmanInput;\n    if (dictionary.huffman) {\n      huffmanTables = getSymbolDictionaryHuffmanTables(\n        dictionary,\n        referredSegments,\n        this.customTables\n      );\n      huffmanInput = new Reader(data, start, end);\n    }\n\n    // Combines exported symbols from all referred segments\n    let symbols = this.symbols;\n    if (!symbols) {\n      this.symbols = symbols = {};\n    }\n\n    let inputSymbols = [];\n    for (let i = 0, ii = referredSegments.length; i < ii; i++) {\n      const referredSymbols = symbols[referredSegments[i]];\n      // referredSymbols is undefined when we have a reference to a Tables\n      // segment instead of a SymbolDictionary.\n      if (referredSymbols) {\n        inputSymbols = inputSymbols.concat(referredSymbols);\n      }\n    }\n\n    const decodingContext = new DecodingContext(data, start, end);\n    symbols[currentSegment] = decodeSymbolDictionary(\n      dictionary.huffman,\n      dictionary.refinement,\n      inputSymbols,\n      dictionary.numberOfNewSymbols,\n      dictionary.numberOfExportedSymbols,\n      huffmanTables,\n      dictionary.template,\n      dictionary.at,\n      dictionary.refinementTemplate,\n      dictionary.refinementAt,\n      decodingContext,\n      huffmanInput\n    );\n  }\n\n  onImmediateTextRegion(region, referredSegments, data, start, end) {\n    const regionInfo = region.info;\n    let huffmanTables, huffmanInput;\n\n    // Combines exported symbols from all referred segments\n    const symbols = this.symbols;\n    let inputSymbols = [];\n    for (let i = 0, ii = referredSegments.length; i < ii; i++) {\n      const referredSymbols = symbols[referredSegments[i]];\n      // referredSymbols is undefined when we have a reference to a Tables\n      // segment instead of a SymbolDictionary.\n      if (referredSymbols) {\n        inputSymbols = inputSymbols.concat(referredSymbols);\n      }\n    }\n    const symbolCodeLength = log2(inputSymbols.length);\n    if (region.huffman) {\n      huffmanInput = new Reader(data, start, end);\n      huffmanTables = getTextRegionHuffmanTables(\n        region,\n        referredSegments,\n        this.customTables,\n        inputSymbols.length,\n        huffmanInput\n      );\n    }\n\n    const decodingContext = new DecodingContext(data, start, end);\n    const bitmap = decodeTextRegion(\n      region.huffman,\n      region.refinement,\n      regionInfo.width,\n      regionInfo.height,\n      region.defaultPixelValue,\n      region.numberOfSymbolInstances,\n      region.stripSize,\n      inputSymbols,\n      symbolCodeLength,\n      region.transposed,\n      region.dsOffset,\n      region.referenceCorner,\n      region.combinationOperator,\n      huffmanTables,\n      region.refinementTemplate,\n      region.refinementAt,\n      decodingContext,\n      region.logStripSize,\n      huffmanInput\n    );\n    this.drawBitmap(regionInfo, bitmap);\n  }\n\n  onImmediateLosslessTextRegion() {\n    this.onImmediateTextRegion.apply(this, arguments);\n  }\n\n  onPatternDictionary(dictionary, currentSegment, data, start, end) {\n    let patterns = this.patterns;\n    if (!patterns) {\n      this.patterns = patterns = {};\n    }\n    const decodingContext = new DecodingContext(data, start, end);\n    patterns[currentSegment] = decodePatternDictionary(\n      dictionary.mmr,\n      dictionary.patternWidth,\n      dictionary.patternHeight,\n      dictionary.maxPatternIndex,\n      dictionary.template,\n      decodingContext\n    );\n  }\n\n  onImmediateHalftoneRegion(region, referredSegments, data, start, end) {\n    // HalftoneRegion refers to exactly one PatternDictionary.\n    const patterns = this.patterns[referredSegments[0]];\n    const regionInfo = region.info;\n    const decodingContext = new DecodingContext(data, start, end);\n    const bitmap = decodeHalftoneRegion(\n      region.mmr,\n      patterns,\n      region.template,\n      regionInfo.width,\n      regionInfo.height,\n      region.defaultPixelValue,\n      region.enableSkip,\n      region.combinationOperator,\n      region.gridWidth,\n      region.gridHeight,\n      region.gridOffsetX,\n      region.gridOffsetY,\n      region.gridVectorX,\n      region.gridVectorY,\n      decodingContext\n    );\n    this.drawBitmap(regionInfo, bitmap);\n  }\n\n  onImmediateLosslessHalftoneRegion() {\n    this.onImmediateHalftoneRegion.apply(this, arguments);\n  }\n\n  onTables(currentSegment, data, start, end) {\n    let customTables = this.customTables;\n    if (!customTables) {\n      this.customTables = customTables = {};\n    }\n    customTables[currentSegment] = decodeTablesSegment(data, start, end);\n  }\n}\n\nclass HuffmanLine {\n  constructor(lineData) {\n    if (lineData.length === 2) {\n      // OOB line.\n      this.isOOB = true;\n      this.rangeLow = 0;\n      this.prefixLength = lineData[0];\n      this.rangeLength = 0;\n      this.prefixCode = lineData[1];\n      this.isLowerRange = false;\n    } else {\n      // Normal, upper range or lower range line.\n      // Upper range lines are processed like normal lines.\n      this.isOOB = false;\n      this.rangeLow = lineData[0];\n      this.prefixLength = lineData[1];\n      this.rangeLength = lineData[2];\n      this.prefixCode = lineData[3];\n      this.isLowerRange = lineData[4] === \"lower\";\n    }\n  }\n}\n\nclass HuffmanTreeNode {\n  constructor(line) {\n    this.children = [];\n    if (line) {\n      // Leaf node\n      this.isLeaf = true;\n      this.rangeLength = line.rangeLength;\n      this.rangeLow = line.rangeLow;\n      this.isLowerRange = line.isLowerRange;\n      this.isOOB = line.isOOB;\n    } else {\n      // Intermediate or root node\n      this.isLeaf = false;\n    }\n  }\n\n  buildTree(line, shift) {\n    const bit = (line.prefixCode >> shift) & 1;\n    if (shift <= 0) {\n      // Create a leaf node.\n      this.children[bit] = new HuffmanTreeNode(line);\n    } else {\n      // Create an intermediate node and continue recursively.\n      let node = this.children[bit];\n      if (!node) {\n        this.children[bit] = node = new HuffmanTreeNode(null);\n      }\n      node.buildTree(line, shift - 1);\n    }\n  }\n\n  decodeNode(reader) {\n    if (this.isLeaf) {\n      if (this.isOOB) {\n        return null;\n      }\n      const htOffset = reader.readBits(this.rangeLength);\n      return this.rangeLow + (this.isLowerRange ? -htOffset : htOffset);\n    }\n    const node = this.children[reader.readBit()];\n    if (!node) {\n      throw new Jbig2Error(\"invalid Huffman data\");\n    }\n    return node.decodeNode(reader);\n  }\n}\n\nclass HuffmanTable {\n  constructor(lines, prefixCodesDone) {\n    if (!prefixCodesDone) {\n      this.assignPrefixCodes(lines);\n    }\n    // Create Huffman tree.\n    this.rootNode = new HuffmanTreeNode(null);\n    for (let i = 0, ii = lines.length; i < ii; i++) {\n      const line = lines[i];\n      if (line.prefixLength > 0) {\n        this.rootNode.buildTree(line, line.prefixLength - 1);\n      }\n    }\n  }\n\n  decode(reader) {\n    return this.rootNode.decodeNode(reader);\n  }\n\n  assignPrefixCodes(lines) {\n    // Annex B.3 Assigning the prefix codes.\n    const linesLength = lines.length;\n    let prefixLengthMax = 0;\n    for (let i = 0; i < linesLength; i++) {\n      prefixLengthMax = Math.max(prefixLengthMax, lines[i].prefixLength);\n    }\n\n    const histogram = new Uint32Array(prefixLengthMax + 1);\n    for (let i = 0; i < linesLength; i++) {\n      histogram[lines[i].prefixLength]++;\n    }\n    let currentLength = 1,\n      firstCode = 0,\n      currentCode,\n      currentTemp,\n      line;\n    histogram[0] = 0;\n\n    while (currentLength <= prefixLengthMax) {\n      firstCode = (firstCode + histogram[currentLength - 1]) << 1;\n      currentCode = firstCode;\n      currentTemp = 0;\n      while (currentTemp < linesLength) {\n        line = lines[currentTemp];\n        if (line.prefixLength === currentLength) {\n          line.prefixCode = currentCode;\n          currentCode++;\n        }\n        currentTemp++;\n      }\n      currentLength++;\n    }\n  }\n}\n\nfunction decodeTablesSegment(data, start, end) {\n  // Decodes a Tables segment, i.e., a custom Huffman table.\n  // Annex B.2 Code table structure.\n  const flags = data[start];\n  const lowestValue = readUint32(data, start + 1) & 0xffffffff;\n  const highestValue = readUint32(data, start + 5) & 0xffffffff;\n  const reader = new Reader(data, start + 9, end);\n\n  const prefixSizeBits = ((flags >> 1) & 7) + 1;\n  const rangeSizeBits = ((flags >> 4) & 7) + 1;\n  const lines = [];\n  let prefixLength,\n    rangeLength,\n    currentRangeLow = lowestValue;\n\n  // Normal table lines\n  do {\n    prefixLength = reader.readBits(prefixSizeBits);\n    rangeLength = reader.readBits(rangeSizeBits);\n    lines.push(\n      new HuffmanLine([currentRangeLow, prefixLength, rangeLength, 0])\n    );\n    currentRangeLow += 1 << rangeLength;\n  } while (currentRangeLow < highestValue);\n\n  // Lower range table line\n  prefixLength = reader.readBits(prefixSizeBits);\n  lines.push(new HuffmanLine([lowestValue - 1, prefixLength, 32, 0, \"lower\"]));\n\n  // Upper range table line\n  prefixLength = reader.readBits(prefixSizeBits);\n  lines.push(new HuffmanLine([highestValue, prefixLength, 32, 0]));\n\n  if (flags & 1) {\n    // Out-of-band table line\n    prefixLength = reader.readBits(prefixSizeBits);\n    lines.push(new HuffmanLine([prefixLength, 0]));\n  }\n\n  return new HuffmanTable(lines, false);\n}\n\nconst standardTablesCache = {};\n\nfunction getStandardTable(number) {\n  // Annex B.5 Standard Huffman tables.\n  let table = standardTablesCache[number];\n  if (table) {\n    return table;\n  }\n  let lines;\n  switch (number) {\n    case 1:\n      lines = [\n        [0, 1, 4, 0x0],\n        [16, 2, 8, 0x2],\n        [272, 3, 16, 0x6],\n        [65808, 3, 32, 0x7], // upper\n      ];\n      break;\n    case 2:\n      lines = [\n        [0, 1, 0, 0x0],\n        [1, 2, 0, 0x2],\n        [2, 3, 0, 0x6],\n        [3, 4, 3, 0xe],\n        [11, 5, 6, 0x1e],\n        [75, 6, 32, 0x3e], // upper\n        [6, 0x3f], // OOB\n      ];\n      break;\n    case 3:\n      lines = [\n        [-256, 8, 8, 0xfe],\n        [0, 1, 0, 0x0],\n        [1, 2, 0, 0x2],\n        [2, 3, 0, 0x6],\n        [3, 4, 3, 0xe],\n        [11, 5, 6, 0x1e],\n        [-257, 8, 32, 0xff, \"lower\"],\n        [75, 7, 32, 0x7e], // upper\n        [6, 0x3e], // OOB\n      ];\n      break;\n    case 4:\n      lines = [\n        [1, 1, 0, 0x0],\n        [2, 2, 0, 0x2],\n        [3, 3, 0, 0x6],\n        [4, 4, 3, 0xe],\n        [12, 5, 6, 0x1e],\n        [76, 5, 32, 0x1f], // upper\n      ];\n      break;\n    case 5:\n      lines = [\n        [-255, 7, 8, 0x7e],\n        [1, 1, 0, 0x0],\n        [2, 2, 0, 0x2],\n        [3, 3, 0, 0x6],\n        [4, 4, 3, 0xe],\n        [12, 5, 6, 0x1e],\n        [-256, 7, 32, 0x7f, \"lower\"],\n        [76, 6, 32, 0x3e], // upper\n      ];\n      break;\n    case 6:\n      lines = [\n        [-2048, 5, 10, 0x1c],\n        [-1024, 4, 9, 0x8],\n        [-512, 4, 8, 0x9],\n        [-256, 4, 7, 0xa],\n        [-128, 5, 6, 0x1d],\n        [-64, 5, 5, 0x1e],\n        [-32, 4, 5, 0xb],\n        [0, 2, 7, 0x0],\n        [128, 3, 7, 0x2],\n        [256, 3, 8, 0x3],\n        [512, 4, 9, 0xc],\n        [1024, 4, 10, 0xd],\n        [-2049, 6, 32, 0x3e, \"lower\"],\n        [2048, 6, 32, 0x3f], // upper\n      ];\n      break;\n    case 7:\n      lines = [\n        [-1024, 4, 9, 0x8],\n        [-512, 3, 8, 0x0],\n        [-256, 4, 7, 0x9],\n        [-128, 5, 6, 0x1a],\n        [-64, 5, 5, 0x1b],\n        [-32, 4, 5, 0xa],\n        [0, 4, 5, 0xb],\n        [32, 5, 5, 0x1c],\n        [64, 5, 6, 0x1d],\n        [128, 4, 7, 0xc],\n        [256, 3, 8, 0x1],\n        [512, 3, 9, 0x2],\n        [1024, 3, 10, 0x3],\n        [-1025, 5, 32, 0x1e, \"lower\"],\n        [2048, 5, 32, 0x1f], // upper\n      ];\n      break;\n    case 8:\n      lines = [\n        [-15, 8, 3, 0xfc],\n        [-7, 9, 1, 0x1fc],\n        [-5, 8, 1, 0xfd],\n        [-3, 9, 0, 0x1fd],\n        [-2, 7, 0, 0x7c],\n        [-1, 4, 0, 0xa],\n        [0, 2, 1, 0x0],\n        [2, 5, 0, 0x1a],\n        [3, 6, 0, 0x3a],\n        [4, 3, 4, 0x4],\n        [20, 6, 1, 0x3b],\n        [22, 4, 4, 0xb],\n        [38, 4, 5, 0xc],\n        [70, 5, 6, 0x1b],\n        [134, 5, 7, 0x1c],\n        [262, 6, 7, 0x3c],\n        [390, 7, 8, 0x7d],\n        [646, 6, 10, 0x3d],\n        [-16, 9, 32, 0x1fe, \"lower\"],\n        [1670, 9, 32, 0x1ff], // upper\n        [2, 0x1], // OOB\n      ];\n      break;\n    case 9:\n      lines = [\n        [-31, 8, 4, 0xfc],\n        [-15, 9, 2, 0x1fc],\n        [-11, 8, 2, 0xfd],\n        [-7, 9, 1, 0x1fd],\n        [-5, 7, 1, 0x7c],\n        [-3, 4, 1, 0xa],\n        [-1, 3, 1, 0x2],\n        [1, 3, 1, 0x3],\n        [3, 5, 1, 0x1a],\n        [5, 6, 1, 0x3a],\n        [7, 3, 5, 0x4],\n        [39, 6, 2, 0x3b],\n        [43, 4, 5, 0xb],\n        [75, 4, 6, 0xc],\n        [139, 5, 7, 0x1b],\n        [267, 5, 8, 0x1c],\n        [523, 6, 8, 0x3c],\n        [779, 7, 9, 0x7d],\n        [1291, 6, 11, 0x3d],\n        [-32, 9, 32, 0x1fe, \"lower\"],\n        [3339, 9, 32, 0x1ff], // upper\n        [2, 0x0], // OOB\n      ];\n      break;\n    case 10:\n      lines = [\n        [-21, 7, 4, 0x7a],\n        [-5, 8, 0, 0xfc],\n        [-4, 7, 0, 0x7b],\n        [-3, 5, 0, 0x18],\n        [-2, 2, 2, 0x0],\n        [2, 5, 0, 0x19],\n        [3, 6, 0, 0x36],\n        [4, 7, 0, 0x7c],\n        [5, 8, 0, 0xfd],\n        [6, 2, 6, 0x1],\n        [70, 5, 5, 0x1a],\n        [102, 6, 5, 0x37],\n        [134, 6, 6, 0x38],\n        [198, 6, 7, 0x39],\n        [326, 6, 8, 0x3a],\n        [582, 6, 9, 0x3b],\n        [1094, 6, 10, 0x3c],\n        [2118, 7, 11, 0x7d],\n        [-22, 8, 32, 0xfe, \"lower\"],\n        [4166, 8, 32, 0xff], // upper\n        [2, 0x2], // OOB\n      ];\n      break;\n    case 11:\n      lines = [\n        [1, 1, 0, 0x0],\n        [2, 2, 1, 0x2],\n        [4, 4, 0, 0xc],\n        [5, 4, 1, 0xd],\n        [7, 5, 1, 0x1c],\n        [9, 5, 2, 0x1d],\n        [13, 6, 2, 0x3c],\n        [17, 7, 2, 0x7a],\n        [21, 7, 3, 0x7b],\n        [29, 7, 4, 0x7c],\n        [45, 7, 5, 0x7d],\n        [77, 7, 6, 0x7e],\n        [141, 7, 32, 0x7f], // upper\n      ];\n      break;\n    case 12:\n      lines = [\n        [1, 1, 0, 0x0],\n        [2, 2, 0, 0x2],\n        [3, 3, 1, 0x6],\n        [5, 5, 0, 0x1c],\n        [6, 5, 1, 0x1d],\n        [8, 6, 1, 0x3c],\n        [10, 7, 0, 0x7a],\n        [11, 7, 1, 0x7b],\n        [13, 7, 2, 0x7c],\n        [17, 7, 3, 0x7d],\n        [25, 7, 4, 0x7e],\n        [41, 8, 5, 0xfe],\n        [73, 8, 32, 0xff], // upper\n      ];\n      break;\n    case 13:\n      lines = [\n        [1, 1, 0, 0x0],\n        [2, 3, 0, 0x4],\n        [3, 4, 0, 0xc],\n        [4, 5, 0, 0x1c],\n        [5, 4, 1, 0xd],\n        [7, 3, 3, 0x5],\n        [15, 6, 1, 0x3a],\n        [17, 6, 2, 0x3b],\n        [21, 6, 3, 0x3c],\n        [29, 6, 4, 0x3d],\n        [45, 6, 5, 0x3e],\n        [77, 7, 6, 0x7e],\n        [141, 7, 32, 0x7f], // upper\n      ];\n      break;\n    case 14:\n      lines = [\n        [-2, 3, 0, 0x4],\n        [-1, 3, 0, 0x5],\n        [0, 1, 0, 0x0],\n        [1, 3, 0, 0x6],\n        [2, 3, 0, 0x7],\n      ];\n      break;\n    case 15:\n      lines = [\n        [-24, 7, 4, 0x7c],\n        [-8, 6, 2, 0x3c],\n        [-4, 5, 1, 0x1c],\n        [-2, 4, 0, 0xc],\n        [-1, 3, 0, 0x4],\n        [0, 1, 0, 0x0],\n        [1, 3, 0, 0x5],\n        [2, 4, 0, 0xd],\n        [3, 5, 1, 0x1d],\n        [5, 6, 2, 0x3d],\n        [9, 7, 4, 0x7d],\n        [-25, 7, 32, 0x7e, \"lower\"],\n        [25, 7, 32, 0x7f], // upper\n      ];\n      break;\n    default:\n      throw new Jbig2Error(`standard table B.${number} does not exist`);\n  }\n\n  for (let i = 0, ii = lines.length; i < ii; i++) {\n    lines[i] = new HuffmanLine(lines[i]);\n  }\n  table = new HuffmanTable(lines, true);\n  standardTablesCache[number] = table;\n  return table;\n}\n\nclass Reader {\n  constructor(data, start, end) {\n    this.data = data;\n    this.start = start;\n    this.end = end;\n    this.position = start;\n    this.shift = -1;\n    this.currentByte = 0;\n  }\n\n  readBit() {\n    if (this.shift < 0) {\n      if (this.position >= this.end) {\n        throw new Jbig2Error(\"end of data while reading bit\");\n      }\n      this.currentByte = this.data[this.position++];\n      this.shift = 7;\n    }\n    const bit = (this.currentByte >> this.shift) & 1;\n    this.shift--;\n    return bit;\n  }\n\n  readBits(numBits) {\n    let result = 0,\n      i;\n    for (i = numBits - 1; i >= 0; i--) {\n      result |= this.readBit() << i;\n    }\n    return result;\n  }\n\n  byteAlign() {\n    this.shift = -1;\n  }\n\n  next() {\n    if (this.position >= this.end) {\n      return -1;\n    }\n    return this.data[this.position++];\n  }\n}\n\nfunction getCustomHuffmanTable(index, referredTo, customTables) {\n  // Returns a Tables segment that has been earlier decoded.\n  // See 7.4.2.1.6 (symbol dictionary) or 7.4.3.1.6 (text region).\n  let currentIndex = 0;\n  for (let i = 0, ii = referredTo.length; i < ii; i++) {\n    const table = customTables[referredTo[i]];\n    if (table) {\n      if (index === currentIndex) {\n        return table;\n      }\n      currentIndex++;\n    }\n  }\n  throw new Jbig2Error(\"can't find custom Huffman table\");\n}\n\nfunction getTextRegionHuffmanTables(\n  textRegion,\n  referredTo,\n  customTables,\n  numberOfSymbols,\n  reader\n) {\n  // 7.4.3.1.7 Symbol ID Huffman table decoding\n\n  // Read code lengths for RUNCODEs 0...34.\n  const codes = [];\n  for (let i = 0; i <= 34; i++) {\n    const codeLength = reader.readBits(4);\n    codes.push(new HuffmanLine([i, codeLength, 0, 0]));\n  }\n  // Assign Huffman codes for RUNCODEs.\n  const runCodesTable = new HuffmanTable(codes, false);\n\n  // Read a Huffman code using the assignment above.\n  // Interpret the RUNCODE codes and the additional bits (if any).\n  codes.length = 0;\n  for (let i = 0; i < numberOfSymbols; ) {\n    const codeLength = runCodesTable.decode(reader);\n    if (codeLength >= 32) {\n      let repeatedLength, numberOfRepeats, j;\n      switch (codeLength) {\n        case 32:\n          if (i === 0) {\n            throw new Jbig2Error(\"no previous value in symbol ID table\");\n          }\n          numberOfRepeats = reader.readBits(2) + 3;\n          repeatedLength = codes[i - 1].prefixLength;\n          break;\n        case 33:\n          numberOfRepeats = reader.readBits(3) + 3;\n          repeatedLength = 0;\n          break;\n        case 34:\n          numberOfRepeats = reader.readBits(7) + 11;\n          repeatedLength = 0;\n          break;\n        default:\n          throw new Jbig2Error(\"invalid code length in symbol ID table\");\n      }\n      for (j = 0; j < numberOfRepeats; j++) {\n        codes.push(new HuffmanLine([i, repeatedLength, 0, 0]));\n        i++;\n      }\n    } else {\n      codes.push(new HuffmanLine([i, codeLength, 0, 0]));\n      i++;\n    }\n  }\n  reader.byteAlign();\n  const symbolIDTable = new HuffmanTable(codes, false);\n\n  // 7.4.3.1.6 Text region segment Huffman table selection\n\n  let customIndex = 0,\n    tableFirstS,\n    tableDeltaS,\n    tableDeltaT;\n\n  switch (textRegion.huffmanFS) {\n    case 0:\n    case 1:\n      tableFirstS = getStandardTable(textRegion.huffmanFS + 6);\n      break;\n    case 3:\n      tableFirstS = getCustomHuffmanTable(\n        customIndex,\n        referredTo,\n        customTables\n      );\n      customIndex++;\n      break;\n    default:\n      throw new Jbig2Error(\"invalid Huffman FS selector\");\n  }\n\n  switch (textRegion.huffmanDS) {\n    case 0:\n    case 1:\n    case 2:\n      tableDeltaS = getStandardTable(textRegion.huffmanDS + 8);\n      break;\n    case 3:\n      tableDeltaS = getCustomHuffmanTable(\n        customIndex,\n        referredTo,\n        customTables\n      );\n      customIndex++;\n      break;\n    default:\n      throw new Jbig2Error(\"invalid Huffman DS selector\");\n  }\n\n  switch (textRegion.huffmanDT) {\n    case 0:\n    case 1:\n    case 2:\n      tableDeltaT = getStandardTable(textRegion.huffmanDT + 11);\n      break;\n    case 3:\n      tableDeltaT = getCustomHuffmanTable(\n        customIndex,\n        referredTo,\n        customTables\n      );\n      customIndex++;\n      break;\n    default:\n      throw new Jbig2Error(\"invalid Huffman DT selector\");\n  }\n\n  if (textRegion.refinement) {\n    // Load tables RDW, RDH, RDX and RDY.\n    throw new Jbig2Error(\"refinement with Huffman is not supported\");\n  }\n\n  return {\n    symbolIDTable,\n    tableFirstS,\n    tableDeltaS,\n    tableDeltaT,\n  };\n}\n\nfunction getSymbolDictionaryHuffmanTables(\n  dictionary,\n  referredTo,\n  customTables\n) {\n  // 7.4.2.1.6 Symbol dictionary segment Huffman table selection\n\n  let customIndex = 0,\n    tableDeltaHeight,\n    tableDeltaWidth;\n  switch (dictionary.huffmanDHSelector) {\n    case 0:\n    case 1:\n      tableDeltaHeight = getStandardTable(dictionary.huffmanDHSelector + 4);\n      break;\n    case 3:\n      tableDeltaHeight = getCustomHuffmanTable(\n        customIndex,\n        referredTo,\n        customTables\n      );\n      customIndex++;\n      break;\n    default:\n      throw new Jbig2Error(\"invalid Huffman DH selector\");\n  }\n\n  switch (dictionary.huffmanDWSelector) {\n    case 0:\n    case 1:\n      tableDeltaWidth = getStandardTable(dictionary.huffmanDWSelector + 2);\n      break;\n    case 3:\n      tableDeltaWidth = getCustomHuffmanTable(\n        customIndex,\n        referredTo,\n        customTables\n      );\n      customIndex++;\n      break;\n    default:\n      throw new Jbig2Error(\"invalid Huffman DW selector\");\n  }\n\n  let tableBitmapSize, tableAggregateInstances;\n  if (dictionary.bitmapSizeSelector) {\n    tableBitmapSize = getCustomHuffmanTable(\n      customIndex,\n      referredTo,\n      customTables\n    );\n    customIndex++;\n  } else {\n    tableBitmapSize = getStandardTable(1);\n  }\n\n  if (dictionary.aggregationInstancesSelector) {\n    tableAggregateInstances = getCustomHuffmanTable(\n      customIndex,\n      referredTo,\n      customTables\n    );\n  } else {\n    tableAggregateInstances = getStandardTable(1);\n  }\n\n  return {\n    tableDeltaHeight,\n    tableDeltaWidth,\n    tableBitmapSize,\n    tableAggregateInstances,\n  };\n}\n\nfunction readUncompressedBitmap(reader, width, height) {\n  const bitmap = [];\n  for (let y = 0; y < height; y++) {\n    const row = new Uint8Array(width);\n    bitmap.push(row);\n    for (let x = 0; x < width; x++) {\n      row[x] = reader.readBit();\n    }\n    reader.byteAlign();\n  }\n  return bitmap;\n}\n\nfunction decodeMMRBitmap(input, width, height, endOfBlock) {\n  // MMR is the same compression algorithm as the PDF filter\n  // CCITTFaxDecode with /K -1.\n  const params = {\n    K: -1,\n    Columns: width,\n    Rows: height,\n    BlackIs1: true,\n    EndOfBlock: endOfBlock,\n  };\n  const decoder = new CCITTFaxDecoder(input, params);\n  const bitmap = [];\n  let currentByte,\n    eof = false;\n\n  for (let y = 0; y < height; y++) {\n    const row = new Uint8Array(width);\n    bitmap.push(row);\n    let shift = -1;\n    for (let x = 0; x < width; x++) {\n      if (shift < 0) {\n        currentByte = decoder.readNextChar();\n        if (currentByte === -1) {\n          // Set the rest of the bits to zero.\n          currentByte = 0;\n          eof = true;\n        }\n        shift = 7;\n      }\n      row[x] = (currentByte >> shift) & 1;\n      shift--;\n    }\n  }\n\n  if (endOfBlock && !eof) {\n    // Read until EOFB has been consumed.\n    const lookForEOFLimit = 5;\n    for (let i = 0; i < lookForEOFLimit; i++) {\n      if (decoder.readNextChar() === -1) {\n        break;\n      }\n    }\n  }\n\n  return bitmap;\n}\n\nclass Jbig2Image {\n  parseChunks(chunks) {\n    return parseJbig2Chunks(chunks);\n  }\n\n  parse(data) {\n    const { imgData, width, height } = parseJbig2(data);\n    this.width = width;\n    this.height = height;\n    return imgData;\n  }\n}\n\nexport { Jbig2Image };\n","/* Copyright 2019 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  assert,\n  BaseException,\n  FontType,\n  objectSize,\n  StreamType,\n  stringToPDFString,\n  warn,\n} from \"../shared/util.js\";\nimport { Dict, isName, Ref, RefSet } from \"./primitives.js\";\nimport { BaseStream } from \"./base_stream.js\";\n\nfunction getLookupTableFactory(initializer) {\n  let lookup;\n  return function () {\n    if (initializer) {\n      lookup = Object.create(null);\n      initializer(lookup);\n      initializer = null;\n    }\n    return lookup;\n  };\n}\n\nfunction getArrayLookupTableFactory(initializer) {\n  let lookup;\n  return function () {\n    if (initializer) {\n      let arr = initializer();\n      initializer = null;\n      lookup = Object.create(null);\n      for (let i = 0, ii = arr.length; i < ii; i += 2) {\n        lookup[arr[i]] = arr[i + 1];\n      }\n      arr = null;\n    }\n    return lookup;\n  };\n}\n\nclass MissingDataException extends BaseException {\n  constructor(begin, end) {\n    super(`Missing data [${begin}, ${end})`, \"MissingDataException\");\n    this.begin = begin;\n    this.end = end;\n  }\n}\n\nclass ParserEOFException extends BaseException {\n  constructor(msg) {\n    super(msg, \"ParserEOFException\");\n  }\n}\n\nclass XRefEntryException extends BaseException {\n  constructor(msg) {\n    super(msg, \"XRefEntryException\");\n  }\n}\n\nclass XRefParseException extends BaseException {\n  constructor(msg) {\n    super(msg, \"XRefParseException\");\n  }\n}\n\nclass DocStats {\n  constructor(handler) {\n    this._handler = handler;\n\n    this._streamTypes = new Set();\n    this._fontTypes = new Set();\n  }\n\n  _send() {\n    const streamTypes = Object.create(null),\n      fontTypes = Object.create(null);\n    for (const type of this._streamTypes) {\n      streamTypes[type] = true;\n    }\n    for (const type of this._fontTypes) {\n      fontTypes[type] = true;\n    }\n    this._handler.send(\"DocStats\", { streamTypes, fontTypes });\n  }\n\n  addStreamType(type) {\n    if (\n      typeof PDFJSDev === \"undefined\" ||\n      PDFJSDev.test(\"!PRODUCTION || TESTING\")\n    ) {\n      assert(StreamType[type] === type, 'addStreamType: Invalid \"type\" value.');\n    }\n    if (this._streamTypes.has(type)) {\n      return;\n    }\n    this._streamTypes.add(type);\n    this._send();\n  }\n\n  addFontType(type) {\n    if (\n      typeof PDFJSDev === \"undefined\" ||\n      PDFJSDev.test(\"!PRODUCTION || TESTING\")\n    ) {\n      assert(FontType[type] === type, 'addFontType: Invalid \"type\" value.');\n    }\n    if (this._fontTypes.has(type)) {\n      return;\n    }\n    this._fontTypes.add(type);\n    this._send();\n  }\n}\n\n/**\n * Get the value of an inheritable property.\n *\n * If the PDF specification explicitly lists a property in a dictionary as\n * inheritable, then the value of the property may be present in the dictionary\n * itself or in one or more parents of the dictionary.\n *\n * If the key is not found in the tree, `undefined` is returned. Otherwise,\n * the value for the key is returned or, if `stopWhenFound` is `false`, a list\n * of values is returned.\n *\n * @param {Dict} dict - Dictionary from where to start the traversal.\n * @param {string} key - The key of the property to find the value for.\n * @param {boolean} getArray - Whether or not the value should be fetched as an\n *   array. The default value is `false`.\n * @param {boolean} stopWhenFound - Whether or not to stop the traversal when\n *   the key is found. If set to `false`, we always walk up the entire parent\n *   chain, for example to be able to find `\\Resources` placed on multiple\n *   levels of the tree. The default value is `true`.\n */\nfunction getInheritableProperty({\n  dict,\n  key,\n  getArray = false,\n  stopWhenFound = true,\n}) {\n  let values;\n  const visited = new RefSet();\n\n  while (dict instanceof Dict && !(dict.objId && visited.has(dict.objId))) {\n    if (dict.objId) {\n      visited.put(dict.objId);\n    }\n    const value = getArray ? dict.getArray(key) : dict.get(key);\n    if (value !== undefined) {\n      if (stopWhenFound) {\n        return value;\n      }\n      if (!values) {\n        values = [];\n      }\n      values.push(value);\n    }\n    dict = dict.get(\"Parent\");\n  }\n  return values;\n}\n\n// prettier-ignore\nconst ROMAN_NUMBER_MAP = [\n  \"\", \"C\", \"CC\", \"CCC\", \"CD\", \"D\", \"DC\", \"DCC\", \"DCCC\", \"CM\",\n  \"\", \"X\", \"XX\", \"XXX\", \"XL\", \"L\", \"LX\", \"LXX\", \"LXXX\", \"XC\",\n  \"\", \"I\", \"II\", \"III\", \"IV\", \"V\", \"VI\", \"VII\", \"VIII\", \"IX\"\n];\n\n/**\n * Converts positive integers to (upper case) Roman numerals.\n * @param {number} number - The number that should be converted.\n * @param {boolean} lowerCase - Indicates if the result should be converted\n *   to lower case letters. The default value is `false`.\n * @returns {string} The resulting Roman number.\n */\nfunction toRomanNumerals(number, lowerCase = false) {\n  assert(\n    Number.isInteger(number) && number > 0,\n    \"The number should be a positive integer.\"\n  );\n  const romanBuf = [];\n  let pos;\n  // Thousands\n  while (number >= 1000) {\n    number -= 1000;\n    romanBuf.push(\"M\");\n  }\n  // Hundreds\n  pos = (number / 100) | 0;\n  number %= 100;\n  romanBuf.push(ROMAN_NUMBER_MAP[pos]);\n  // Tens\n  pos = (number / 10) | 0;\n  number %= 10;\n  romanBuf.push(ROMAN_NUMBER_MAP[10 + pos]);\n  // Ones\n  romanBuf.push(ROMAN_NUMBER_MAP[20 + number]); // eslint-disable-line unicorn/no-array-push-push\n\n  const romanStr = romanBuf.join(\"\");\n  return lowerCase ? romanStr.toLowerCase() : romanStr;\n}\n\n// Calculate the base 2 logarithm of the number `x`. This differs from the\n// native function in the sense that it returns the ceiling value and that it\n// returns 0 instead of `Infinity`/`NaN` for `x` values smaller than/equal to 0.\nfunction log2(x) {\n  if (x <= 0) {\n    return 0;\n  }\n  return Math.ceil(Math.log2(x));\n}\n\nfunction readInt8(data, offset) {\n  return (data[offset] << 24) >> 24;\n}\n\nfunction readUint16(data, offset) {\n  return (data[offset] << 8) | data[offset + 1];\n}\n\nfunction readUint32(data, offset) {\n  return (\n    ((data[offset] << 24) |\n      (data[offset + 1] << 16) |\n      (data[offset + 2] << 8) |\n      data[offset + 3]) >>>\n    0\n  );\n}\n\n// Checks if ch is one of the following characters: SPACE, TAB, CR or LF.\nfunction isWhiteSpace(ch) {\n  return ch === 0x20 || ch === 0x09 || ch === 0x0d || ch === 0x0a;\n}\n\n/**\n * AcroForm field names use an array like notation to refer to\n * repeated XFA elements e.g. foo.bar[nnn].\n * see: XFA Spec Chapter 3 - Repeated Elements\n *\n * @param {string} path - XFA path name.\n * @returns {Array} - Array of Objects with the name and pos of\n * each part of the path.\n */\nfunction parseXFAPath(path) {\n  const positionPattern = /(.+)\\[(\\d+)\\]$/;\n  return path.split(\".\").map(component => {\n    const m = component.match(positionPattern);\n    if (m) {\n      return { name: m[1], pos: parseInt(m[2], 10) };\n    }\n    return { name: component, pos: 0 };\n  });\n}\n\nfunction escapePDFName(str) {\n  const buffer = [];\n  let start = 0;\n  for (let i = 0, ii = str.length; i < ii; i++) {\n    const char = str.charCodeAt(i);\n    // Whitespace or delimiters aren't regular chars, so escape them.\n    if (\n      char < 0x21 ||\n      char > 0x7e ||\n      char === 0x23 /* # */ ||\n      char === 0x28 /* ( */ ||\n      char === 0x29 /* ) */ ||\n      char === 0x3c /* < */ ||\n      char === 0x3e /* > */ ||\n      char === 0x5b /* [ */ ||\n      char === 0x5d /* ] */ ||\n      char === 0x7b /* { */ ||\n      char === 0x7d /* } */ ||\n      char === 0x2f /* / */ ||\n      char === 0x25 /* % */\n    ) {\n      if (start < i) {\n        buffer.push(str.substring(start, i));\n      }\n      buffer.push(`#${char.toString(16)}`);\n      start = i + 1;\n    }\n  }\n\n  if (buffer.length === 0) {\n    return str;\n  }\n\n  if (start < str.length) {\n    buffer.push(str.substring(start, str.length));\n  }\n\n  return buffer.join(\"\");\n}\n\nfunction _collectJS(entry, xref, list, parents) {\n  if (!entry) {\n    return;\n  }\n\n  let parent = null;\n  if (entry instanceof Ref) {\n    if (parents.has(entry)) {\n      // If we've already found entry then we've a cycle.\n      return;\n    }\n    parent = entry;\n    parents.put(parent);\n    entry = xref.fetch(entry);\n  }\n  if (Array.isArray(entry)) {\n    for (const element of entry) {\n      _collectJS(element, xref, list, parents);\n    }\n  } else if (entry instanceof Dict) {\n    if (isName(entry.get(\"S\"), \"JavaScript\")) {\n      const js = entry.get(\"JS\");\n      let code;\n      if (js instanceof BaseStream) {\n        code = js.getString();\n      } else if (typeof js === \"string\") {\n        code = js;\n      }\n      code = code && stringToPDFString(code);\n      if (code) {\n        list.push(code);\n      }\n    }\n    _collectJS(entry.getRaw(\"Next\"), xref, list, parents);\n  }\n\n  if (parent) {\n    parents.remove(parent);\n  }\n}\n\nfunction collectActions(xref, dict, eventType) {\n  const actions = Object.create(null);\n  const additionalActionsDicts = getInheritableProperty({\n    dict,\n    key: \"AA\",\n    stopWhenFound: false,\n  });\n  if (additionalActionsDicts) {\n    // additionalActionsDicts contains dicts from ancestors\n    // as they're found in the tree from bottom to top.\n    // So the dicts are visited in reverse order to guarantee\n    // that actions from elder ancestors will be overwritten\n    // by ones from younger ancestors.\n    for (let i = additionalActionsDicts.length - 1; i >= 0; i--) {\n      const additionalActions = additionalActionsDicts[i];\n      if (!(additionalActions instanceof Dict)) {\n        continue;\n      }\n      for (const key of additionalActions.getKeys()) {\n        const action = eventType[key];\n        if (!action) {\n          continue;\n        }\n        const actionDict = additionalActions.getRaw(key);\n        const parents = new RefSet();\n        const list = [];\n        _collectJS(actionDict, xref, list, parents);\n        if (list.length > 0) {\n          actions[action] = list;\n        }\n      }\n    }\n  }\n  // Collect the Action if any (we may have one on pushbutton).\n  if (dict.has(\"A\")) {\n    const actionDict = dict.get(\"A\");\n    const parents = new RefSet();\n    const list = [];\n    _collectJS(actionDict, xref, list, parents);\n    if (list.length > 0) {\n      actions.Action = list;\n    }\n  }\n  return objectSize(actions) > 0 ? actions : null;\n}\n\nconst XMLEntities = {\n  /* < */ 0x3c: \"&lt;\",\n  /* > */ 0x3e: \"&gt;\",\n  /* & */ 0x26: \"&amp;\",\n  /* \" */ 0x22: \"&quot;\",\n  /* ' */ 0x27: \"&apos;\",\n};\n\nfunction encodeToXmlString(str) {\n  const buffer = [];\n  let start = 0;\n  for (let i = 0, ii = str.length; i < ii; i++) {\n    const char = str.codePointAt(i);\n    if (0x20 <= char && char <= 0x7e) {\n      // ascii\n      const entity = XMLEntities[char];\n      if (entity) {\n        if (start < i) {\n          buffer.push(str.substring(start, i));\n        }\n        buffer.push(entity);\n        start = i + 1;\n      }\n    } else {\n      if (start < i) {\n        buffer.push(str.substring(start, i));\n      }\n      buffer.push(`&#x${char.toString(16).toUpperCase()};`);\n      if (char > 0xd7ff && (char < 0xe000 || char > 0xfffd)) {\n        // char is represented by two u16\n        i++;\n      }\n      start = i + 1;\n    }\n  }\n\n  if (buffer.length === 0) {\n    return str;\n  }\n  if (start < str.length) {\n    buffer.push(str.substring(start, str.length));\n  }\n  return buffer.join(\"\");\n}\n\nfunction validateCSSFont(cssFontInfo) {\n  // See https://developer.mozilla.org/en-US/docs/Web/CSS/font-style.\n  const DEFAULT_CSS_FONT_OBLIQUE = \"14\";\n  // See https://developer.mozilla.org/en-US/docs/Web/CSS/font-weight.\n  const DEFAULT_CSS_FONT_WEIGHT = \"400\";\n  const CSS_FONT_WEIGHT_VALUES = new Set([\n    \"100\",\n    \"200\",\n    \"300\",\n    \"400\",\n    \"500\",\n    \"600\",\n    \"700\",\n    \"800\",\n    \"900\",\n    \"1000\",\n    \"normal\",\n    \"bold\",\n    \"bolder\",\n    \"lighter\",\n  ]);\n\n  const { fontFamily, fontWeight, italicAngle } = cssFontInfo;\n\n  // See https://developer.mozilla.org/en-US/docs/Web/CSS/string.\n  if (/^\".*\"$/.test(fontFamily)) {\n    if (/[^\\\\]\"/.test(fontFamily.slice(1, fontFamily.length - 1))) {\n      warn(`XFA - FontFamily contains some unescaped \": ${fontFamily}.`);\n      return false;\n    }\n  } else if (/^'.*'$/.test(fontFamily)) {\n    if (/[^\\\\]'/.test(fontFamily.slice(1, fontFamily.length - 1))) {\n      warn(`XFA - FontFamily contains some unescaped ': ${fontFamily}.`);\n      return false;\n    }\n  } else {\n    // See https://developer.mozilla.org/en-US/docs/Web/CSS/custom-ident.\n    for (const ident of fontFamily.split(/[ \\t]+/)) {\n      if (/^(\\d|(-(\\d|-)))/.test(ident) || !/^[\\w-\\\\]+$/.test(ident)) {\n        warn(\n          `XFA - FontFamily contains some invalid <custom-ident>: ${fontFamily}.`\n        );\n        return false;\n      }\n    }\n  }\n\n  const weight = fontWeight ? fontWeight.toString() : \"\";\n  cssFontInfo.fontWeight = CSS_FONT_WEIGHT_VALUES.has(weight)\n    ? weight\n    : DEFAULT_CSS_FONT_WEIGHT;\n\n  const angle = parseFloat(italicAngle);\n  cssFontInfo.italicAngle =\n    isNaN(angle) || angle < -90 || angle > 90\n      ? DEFAULT_CSS_FONT_OBLIQUE\n      : italicAngle.toString();\n\n  return true;\n}\n\nfunction recoverJsURL(str) {\n  // Attempt to recover valid URLs from `JS` entries with certain\n  // white-listed formats:\n  //  - window.open('http://example.com')\n  //  - app.launchURL('http://example.com', true)\n  //  - xfa.host.gotoURL('http://example.com')\n  const URL_OPEN_METHODS = [\"app.launchURL\", \"window.open\", \"xfa.host.gotoURL\"];\n  const regex = new RegExp(\n    \"^\\\\s*(\" +\n      URL_OPEN_METHODS.join(\"|\").split(\".\").join(\"\\\\.\") +\n      \")\\\\((?:'|\\\")([^'\\\"]*)(?:'|\\\")(?:,\\\\s*(\\\\w+)\\\\)|\\\\))\",\n    \"i\"\n  );\n\n  const jsUrl = regex.exec(str);\n  if (jsUrl && jsUrl[2]) {\n    const url = jsUrl[2];\n    let newWindow = false;\n\n    if (jsUrl[3] === \"true\" && jsUrl[1] === \"app.launchURL\") {\n      newWindow = true;\n    }\n    return { url, newWindow };\n  }\n\n  return null;\n}\n\nexport {\n  collectActions,\n  DocStats,\n  encodeToXmlString,\n  escapePDFName,\n  getArrayLookupTableFactory,\n  getInheritableProperty,\n  getLookupTableFactory,\n  isWhiteSpace,\n  log2,\n  MissingDataException,\n  ParserEOFException,\n  parseXFAPath,\n  readInt8,\n  readUint16,\n  readUint32,\n  recoverJsURL,\n  toRomanNumerals,\n  validateCSSFont,\n  XRefEntryException,\n  XRefParseException,\n};\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { assert, shadow, unreachable } from \"../shared/util.js\";\n\nconst CIRCULAR_REF = Symbol(\"CIRCULAR_REF\");\nconst EOF = Symbol(\"EOF\");\n\nconst Name = (function NameClosure() {\n  let nameCache = Object.create(null);\n\n  // eslint-disable-next-line no-shadow\n  class Name {\n    constructor(name) {\n      if (\n        (typeof PDFJSDev === \"undefined\" ||\n          PDFJSDev.test(\"!PRODUCTION || TESTING\")) &&\n        typeof name !== \"string\"\n      ) {\n        unreachable('Name: The \"name\" must be a string.');\n      }\n      this.name = name;\n    }\n\n    static get(name) {\n      const nameValue = nameCache[name];\n      // eslint-disable-next-line no-restricted-syntax\n      return nameValue ? nameValue : (nameCache[name] = new Name(name));\n    }\n\n    static _clearCache() {\n      nameCache = Object.create(null);\n    }\n  }\n\n  return Name;\n})();\n\nconst Cmd = (function CmdClosure() {\n  let cmdCache = Object.create(null);\n\n  // eslint-disable-next-line no-shadow\n  class Cmd {\n    constructor(cmd) {\n      if (\n        (typeof PDFJSDev === \"undefined\" ||\n          PDFJSDev.test(\"!PRODUCTION || TESTING\")) &&\n        typeof cmd !== \"string\"\n      ) {\n        unreachable('Cmd: The \"cmd\" must be a string.');\n      }\n      this.cmd = cmd;\n    }\n\n    static get(cmd) {\n      const cmdValue = cmdCache[cmd];\n      // eslint-disable-next-line no-restricted-syntax\n      return cmdValue ? cmdValue : (cmdCache[cmd] = new Cmd(cmd));\n    }\n\n    static _clearCache() {\n      cmdCache = Object.create(null);\n    }\n  }\n\n  return Cmd;\n})();\n\nconst nonSerializable = function nonSerializableClosure() {\n  return nonSerializable; // Creating closure on some variable.\n};\n\nclass Dict {\n  constructor(xref = null) {\n    // Map should only be used internally, use functions below to access.\n    this._map = Object.create(null);\n    this.xref = xref;\n    this.objId = null;\n    this.suppressEncryption = false;\n    this.__nonSerializable__ = nonSerializable; // Disable cloning of the Dict.\n  }\n\n  assignXref(newXref) {\n    this.xref = newXref;\n  }\n\n  get size() {\n    return Object.keys(this._map).length;\n  }\n\n  // Automatically dereferences Ref objects.\n  get(key1, key2, key3) {\n    let value = this._map[key1];\n    if (value === undefined && key2 !== undefined) {\n      if (\n        (typeof PDFJSDev === \"undefined\" ||\n          PDFJSDev.test(\"!PRODUCTION || TESTING\")) &&\n        key2.length < key1.length\n      ) {\n        unreachable(\"Dict.get: Expected keys to be ordered by length.\");\n      }\n      value = this._map[key2];\n      if (value === undefined && key3 !== undefined) {\n        if (\n          (typeof PDFJSDev === \"undefined\" ||\n            PDFJSDev.test(\"!PRODUCTION || TESTING\")) &&\n          key3.length < key2.length\n        ) {\n          unreachable(\"Dict.get: Expected keys to be ordered by length.\");\n        }\n        value = this._map[key3];\n      }\n    }\n    if (value instanceof Ref && this.xref) {\n      return this.xref.fetch(value, this.suppressEncryption);\n    }\n    return value;\n  }\n\n  // Same as get(), but returns a promise and uses fetchIfRefAsync().\n  async getAsync(key1, key2, key3) {\n    let value = this._map[key1];\n    if (value === undefined && key2 !== undefined) {\n      if (\n        (typeof PDFJSDev === \"undefined\" ||\n          PDFJSDev.test(\"!PRODUCTION || TESTING\")) &&\n        key2.length < key1.length\n      ) {\n        unreachable(\"Dict.getAsync: Expected keys to be ordered by length.\");\n      }\n      value = this._map[key2];\n      if (value === undefined && key3 !== undefined) {\n        if (\n          (typeof PDFJSDev === \"undefined\" ||\n            PDFJSDev.test(\"!PRODUCTION || TESTING\")) &&\n          key3.length < key2.length\n        ) {\n          unreachable(\"Dict.getAsync: Expected keys to be ordered by length.\");\n        }\n        value = this._map[key3];\n      }\n    }\n    if (value instanceof Ref && this.xref) {\n      return this.xref.fetchAsync(value, this.suppressEncryption);\n    }\n    return value;\n  }\n\n  // Same as get(), but dereferences all elements if the result is an Array.\n  getArray(key1, key2, key3) {\n    let value = this._map[key1];\n    if (value === undefined && key2 !== undefined) {\n      if (\n        (typeof PDFJSDev === \"undefined\" ||\n          PDFJSDev.test(\"!PRODUCTION || TESTING\")) &&\n        key2.length < key1.length\n      ) {\n        unreachable(\"Dict.getArray: Expected keys to be ordered by length.\");\n      }\n      value = this._map[key2];\n      if (value === undefined && key3 !== undefined) {\n        if (\n          (typeof PDFJSDev === \"undefined\" ||\n            PDFJSDev.test(\"!PRODUCTION || TESTING\")) &&\n          key3.length < key2.length\n        ) {\n          unreachable(\"Dict.getArray: Expected keys to be ordered by length.\");\n        }\n        value = this._map[key3];\n      }\n    }\n    if (value instanceof Ref && this.xref) {\n      value = this.xref.fetch(value, this.suppressEncryption);\n    }\n\n    if (Array.isArray(value)) {\n      value = value.slice(); // Ensure that we don't modify the Dict data.\n      for (let i = 0, ii = value.length; i < ii; i++) {\n        if (value[i] instanceof Ref && this.xref) {\n          value[i] = this.xref.fetch(value[i], this.suppressEncryption);\n        }\n      }\n    }\n    return value;\n  }\n\n  // No dereferencing.\n  getRaw(key) {\n    return this._map[key];\n  }\n\n  getKeys() {\n    return Object.keys(this._map);\n  }\n\n  // No dereferencing.\n  getRawValues() {\n    return Object.values(this._map);\n  }\n\n  set(key, value) {\n    if (\n      typeof PDFJSDev === \"undefined\" ||\n      PDFJSDev.test(\"!PRODUCTION || TESTING\")\n    ) {\n      if (typeof key !== \"string\") {\n        unreachable('Dict.set: The \"key\" must be a string.');\n      } else if (value === undefined) {\n        unreachable('Dict.set: The \"value\" cannot be undefined.');\n      }\n    }\n    this._map[key] = value;\n  }\n\n  has(key) {\n    return this._map[key] !== undefined;\n  }\n\n  forEach(callback) {\n    for (const key in this._map) {\n      callback(key, this.get(key));\n    }\n  }\n\n  static get empty() {\n    const emptyDict = new Dict(null);\n\n    emptyDict.set = (key, value) => {\n      unreachable(\"Should not call `set` on the empty dictionary.\");\n    };\n    return shadow(this, \"empty\", emptyDict);\n  }\n\n  static merge({ xref, dictArray, mergeSubDicts = false }) {\n    const mergedDict = new Dict(xref),\n      properties = new Map();\n\n    for (const dict of dictArray) {\n      if (!(dict instanceof Dict)) {\n        continue;\n      }\n      for (const [key, value] of Object.entries(dict._map)) {\n        let property = properties.get(key);\n        if (property === undefined) {\n          property = [];\n          properties.set(key, property);\n        } else if (!mergeSubDicts || !(value instanceof Dict)) {\n          // Ignore additional entries, if either:\n          //  - This is a \"shallow\" merge, where only the first element matters.\n          //  - The value is *not* a `Dict`, since other types cannot be merged.\n          continue;\n        }\n        property.push(value);\n      }\n    }\n    for (const [name, values] of properties) {\n      if (values.length === 1 || !(values[0] instanceof Dict)) {\n        mergedDict._map[name] = values[0];\n        continue;\n      }\n      const subDict = new Dict(xref);\n\n      for (const dict of values) {\n        for (const [key, value] of Object.entries(dict._map)) {\n          if (subDict._map[key] === undefined) {\n            subDict._map[key] = value;\n          }\n        }\n      }\n      if (subDict.size > 0) {\n        mergedDict._map[name] = subDict;\n      }\n    }\n    properties.clear();\n\n    return mergedDict.size > 0 ? mergedDict : Dict.empty;\n  }\n}\n\nconst Ref = (function RefClosure() {\n  let refCache = Object.create(null);\n\n  // eslint-disable-next-line no-shadow\n  class Ref {\n    constructor(num, gen) {\n      this.num = num;\n      this.gen = gen;\n    }\n\n    toString() {\n      // This function is hot, so we make the string as compact as possible.\n      // |this.gen| is almost always zero, so we treat that case specially.\n      if (this.gen === 0) {\n        return `${this.num}R`;\n      }\n      return `${this.num}R${this.gen}`;\n    }\n\n    static get(num, gen) {\n      const key = gen === 0 ? `${num}R` : `${num}R${gen}`;\n      const refValue = refCache[key];\n      // eslint-disable-next-line no-restricted-syntax\n      return refValue ? refValue : (refCache[key] = new Ref(num, gen));\n    }\n\n    static _clearCache() {\n      refCache = Object.create(null);\n    }\n  }\n\n  return Ref;\n})();\n\n// The reference is identified by number and generation.\n// This structure stores only one instance of the reference.\nclass RefSet {\n  constructor(parent = null) {\n    if (\n      (typeof PDFJSDev === \"undefined\" ||\n        PDFJSDev.test(\"!PRODUCTION || TESTING\")) &&\n      parent &&\n      !(parent instanceof RefSet)\n    ) {\n      unreachable('RefSet: Invalid \"parent\" value.');\n    }\n    this._set = new Set(parent && parent._set);\n  }\n\n  has(ref) {\n    return this._set.has(ref.toString());\n  }\n\n  put(ref) {\n    this._set.add(ref.toString());\n  }\n\n  remove(ref) {\n    this._set.delete(ref.toString());\n  }\n\n  forEach(callback) {\n    for (const ref of this._set.values()) {\n      callback(ref);\n    }\n  }\n\n  clear() {\n    this._set.clear();\n  }\n}\n\nclass RefSetCache {\n  constructor() {\n    this._map = new Map();\n  }\n\n  get size() {\n    return this._map.size;\n  }\n\n  get(ref) {\n    return this._map.get(ref.toString());\n  }\n\n  has(ref) {\n    return this._map.has(ref.toString());\n  }\n\n  put(ref, obj) {\n    this._map.set(ref.toString(), obj);\n  }\n\n  putAlias(ref, aliasRef) {\n    this._map.set(ref.toString(), this.get(aliasRef));\n  }\n\n  forEach(callback) {\n    for (const value of this._map.values()) {\n      callback(value);\n    }\n  }\n\n  clear() {\n    this._map.clear();\n  }\n}\n\nfunction isName(v, name) {\n  return v instanceof Name && (name === undefined || v.name === name);\n}\n\nfunction isCmd(v, cmd) {\n  return v instanceof Cmd && (cmd === undefined || v.cmd === cmd);\n}\n\nfunction isDict(v, type) {\n  return (\n    v instanceof Dict && (type === undefined || isName(v.get(\"Type\"), type))\n  );\n}\n\nfunction isRefsEqual(v1, v2) {\n  if (\n    typeof PDFJSDev === \"undefined\" ||\n    PDFJSDev.test(\"!PRODUCTION || TESTING\")\n  ) {\n    assert(\n      v1 instanceof Ref && v2 instanceof Ref,\n      \"isRefsEqual: Both parameters should be `Ref`s.\"\n    );\n  }\n  return v1.num === v2.num && v1.gen === v2.gen;\n}\n\nfunction clearPrimitiveCaches() {\n  Cmd._clearCache();\n  Name._clearCache();\n  Ref._clearCache();\n}\n\nexport {\n  CIRCULAR_REF,\n  clearPrimitiveCaches,\n  Cmd,\n  Dict,\n  EOF,\n  isCmd,\n  isDict,\n  isName,\n  isRefsEqual,\n  Name,\n  Ref,\n  RefSet,\n  RefSetCache,\n};\n","module.exports = require(\"regenerator-runtime\");\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","/* Copyright 2021 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { bytesToString, shadow, unreachable } from \"../shared/util.js\";\n\nclass BaseStream {\n  constructor() {\n    if (this.constructor === BaseStream) {\n      unreachable(\"Cannot initialize BaseStream.\");\n    }\n  }\n\n  // eslint-disable-next-line getter-return\n  get length() {\n    unreachable(\"Abstract getter `length` accessed\");\n  }\n\n  // eslint-disable-next-line getter-return\n  get isEmpty() {\n    unreachable(\"Abstract getter `isEmpty` accessed\");\n  }\n\n  get isDataLoaded() {\n    return shadow(this, \"isDataLoaded\", true);\n  }\n\n  getByte() {\n    unreachable(\"Abstract method `getByte` called\");\n  }\n\n  getBytes(length, forceClamped = false) {\n    unreachable(\"Abstract method `getBytes` called\");\n  }\n\n  peekByte() {\n    const peekedByte = this.getByte();\n    if (peekedByte !== -1) {\n      this.pos--;\n    }\n    return peekedByte;\n  }\n\n  peekBytes(length, forceClamped = false) {\n    const bytes = this.getBytes(length, forceClamped);\n    this.pos -= bytes.length;\n    return bytes;\n  }\n\n  getUint16() {\n    const b0 = this.getByte();\n    const b1 = this.getByte();\n    if (b0 === -1 || b1 === -1) {\n      return -1;\n    }\n    return (b0 << 8) + b1;\n  }\n\n  getInt32() {\n    const b0 = this.getByte();\n    const b1 = this.getByte();\n    const b2 = this.getByte();\n    const b3 = this.getByte();\n    return (b0 << 24) + (b1 << 16) + (b2 << 8) + b3;\n  }\n\n  getByteRange(begin, end) {\n    unreachable(\"Abstract method `getByteRange` called\");\n  }\n\n  getString(length) {\n    return bytesToString(this.getBytes(length, /* forceClamped = */ false));\n  }\n\n  skip(n) {\n    this.pos += n || 1;\n  }\n\n  reset() {\n    unreachable(\"Abstract method `reset` called\");\n  }\n\n  moveStart() {\n    unreachable(\"Abstract method `moveStart` called\");\n  }\n\n  makeSubStream(start, length, dict = null) {\n    unreachable(\"Abstract method `makeSubStream` called\");\n  }\n\n  /**\n   * @returns {Array | null}\n   */\n  getBaseStreams() {\n    return null;\n  }\n}\n\nexport { BaseStream };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// Table C-2\nconst QeTable = [\n  { qe: 0x5601, nmps: 1, nlps: 1, switchFlag: 1 },\n  { qe: 0x3401, nmps: 2, nlps: 6, switchFlag: 0 },\n  { qe: 0x1801, nmps: 3, nlps: 9, switchFlag: 0 },\n  { qe: 0x0ac1, nmps: 4, nlps: 12, switchFlag: 0 },\n  { qe: 0x0521, nmps: 5, nlps: 29, switchFlag: 0 },\n  { qe: 0x0221, nmps: 38, nlps: 33, switchFlag: 0 },\n  { qe: 0x5601, nmps: 7, nlps: 6, switchFlag: 1 },\n  { qe: 0x5401, nmps: 8, nlps: 14, switchFlag: 0 },\n  { qe: 0x4801, nmps: 9, nlps: 14, switchFlag: 0 },\n  { qe: 0x3801, nmps: 10, nlps: 14, switchFlag: 0 },\n  { qe: 0x3001, nmps: 11, nlps: 17, switchFlag: 0 },\n  { qe: 0x2401, nmps: 12, nlps: 18, switchFlag: 0 },\n  { qe: 0x1c01, nmps: 13, nlps: 20, switchFlag: 0 },\n  { qe: 0x1601, nmps: 29, nlps: 21, switchFlag: 0 },\n  { qe: 0x5601, nmps: 15, nlps: 14, switchFlag: 1 },\n  { qe: 0x5401, nmps: 16, nlps: 14, switchFlag: 0 },\n  { qe: 0x5101, nmps: 17, nlps: 15, switchFlag: 0 },\n  { qe: 0x4801, nmps: 18, nlps: 16, switchFlag: 0 },\n  { qe: 0x3801, nmps: 19, nlps: 17, switchFlag: 0 },\n  { qe: 0x3401, nmps: 20, nlps: 18, switchFlag: 0 },\n  { qe: 0x3001, nmps: 21, nlps: 19, switchFlag: 0 },\n  { qe: 0x2801, nmps: 22, nlps: 19, switchFlag: 0 },\n  { qe: 0x2401, nmps: 23, nlps: 20, switchFlag: 0 },\n  { qe: 0x2201, nmps: 24, nlps: 21, switchFlag: 0 },\n  { qe: 0x1c01, nmps: 25, nlps: 22, switchFlag: 0 },\n  { qe: 0x1801, nmps: 26, nlps: 23, switchFlag: 0 },\n  { qe: 0x1601, nmps: 27, nlps: 24, switchFlag: 0 },\n  { qe: 0x1401, nmps: 28, nlps: 25, switchFlag: 0 },\n  { qe: 0x1201, nmps: 29, nlps: 26, switchFlag: 0 },\n  { qe: 0x1101, nmps: 30, nlps: 27, switchFlag: 0 },\n  { qe: 0x0ac1, nmps: 31, nlps: 28, switchFlag: 0 },\n  { qe: 0x09c1, nmps: 32, nlps: 29, switchFlag: 0 },\n  { qe: 0x08a1, nmps: 33, nlps: 30, switchFlag: 0 },\n  { qe: 0x0521, nmps: 34, nlps: 31, switchFlag: 0 },\n  { qe: 0x0441, nmps: 35, nlps: 32, switchFlag: 0 },\n  { qe: 0x02a1, nmps: 36, nlps: 33, switchFlag: 0 },\n  { qe: 0x0221, nmps: 37, nlps: 34, switchFlag: 0 },\n  { qe: 0x0141, nmps: 38, nlps: 35, switchFlag: 0 },\n  { qe: 0x0111, nmps: 39, nlps: 36, switchFlag: 0 },\n  { qe: 0x0085, nmps: 40, nlps: 37, switchFlag: 0 },\n  { qe: 0x0049, nmps: 41, nlps: 38, switchFlag: 0 },\n  { qe: 0x0025, nmps: 42, nlps: 39, switchFlag: 0 },\n  { qe: 0x0015, nmps: 43, nlps: 40, switchFlag: 0 },\n  { qe: 0x0009, nmps: 44, nlps: 41, switchFlag: 0 },\n  { qe: 0x0005, nmps: 45, nlps: 42, switchFlag: 0 },\n  { qe: 0x0001, nmps: 45, nlps: 43, switchFlag: 0 },\n  { qe: 0x5601, nmps: 46, nlps: 46, switchFlag: 0 },\n];\n\n/**\n * This class implements the QM Coder decoding as defined in\n *   JPEG 2000 Part I Final Committee Draft Version 1.0\n *   Annex C.3 Arithmetic decoding procedure\n * available at http://www.jpeg.org/public/fcd15444-1.pdf\n *\n * The arithmetic decoder is used in conjunction with context models to decode\n * JPEG2000 and JBIG2 streams.\n */\nclass ArithmeticDecoder {\n  // C.3.5 Initialisation of the decoder (INITDEC)\n  constructor(data, start, end) {\n    this.data = data;\n    this.bp = start;\n    this.dataEnd = end;\n\n    this.chigh = data[start];\n    this.clow = 0;\n\n    this.byteIn();\n\n    this.chigh = ((this.chigh << 7) & 0xffff) | ((this.clow >> 9) & 0x7f);\n    this.clow = (this.clow << 7) & 0xffff;\n    this.ct -= 7;\n    this.a = 0x8000;\n  }\n\n  // C.3.4 Compressed data input (BYTEIN)\n  byteIn() {\n    const data = this.data;\n    let bp = this.bp;\n\n    if (data[bp] === 0xff) {\n      if (data[bp + 1] > 0x8f) {\n        this.clow += 0xff00;\n        this.ct = 8;\n      } else {\n        bp++;\n        this.clow += data[bp] << 9;\n        this.ct = 7;\n        this.bp = bp;\n      }\n    } else {\n      bp++;\n      this.clow += bp < this.dataEnd ? data[bp] << 8 : 0xff00;\n      this.ct = 8;\n      this.bp = bp;\n    }\n    if (this.clow > 0xffff) {\n      this.chigh += this.clow >> 16;\n      this.clow &= 0xffff;\n    }\n  }\n\n  // C.3.2 Decoding a decision (DECODE)\n  readBit(contexts, pos) {\n    // Contexts are packed into 1 byte:\n    // highest 7 bits carry cx.index, lowest bit carries cx.mps\n    let cx_index = contexts[pos] >> 1,\n      cx_mps = contexts[pos] & 1;\n    const qeTableIcx = QeTable[cx_index];\n    const qeIcx = qeTableIcx.qe;\n    let d;\n    let a = this.a - qeIcx;\n\n    if (this.chigh < qeIcx) {\n      // exchangeLps\n      if (a < qeIcx) {\n        a = qeIcx;\n        d = cx_mps;\n        cx_index = qeTableIcx.nmps;\n      } else {\n        a = qeIcx;\n        d = 1 ^ cx_mps;\n        if (qeTableIcx.switchFlag === 1) {\n          cx_mps = d;\n        }\n        cx_index = qeTableIcx.nlps;\n      }\n    } else {\n      this.chigh -= qeIcx;\n      if ((a & 0x8000) !== 0) {\n        this.a = a;\n        return cx_mps;\n      }\n      // exchangeMps\n      if (a < qeIcx) {\n        d = 1 ^ cx_mps;\n        if (qeTableIcx.switchFlag === 1) {\n          cx_mps = d;\n        }\n        cx_index = qeTableIcx.nlps;\n      } else {\n        d = cx_mps;\n        cx_index = qeTableIcx.nmps;\n      }\n    }\n    // C.3.3 renormD;\n    do {\n      if (this.ct === 0) {\n        this.byteIn();\n      }\n\n      a <<= 1;\n      this.chigh = ((this.chigh << 1) & 0xffff) | ((this.clow >> 15) & 1);\n      this.clow = (this.clow << 1) & 0xffff;\n      this.ct--;\n    } while ((a & 0x8000) === 0);\n    this.a = a;\n\n    contexts[pos] = (cx_index << 1) | cx_mps;\n    return d;\n  }\n}\n\nexport { ArithmeticDecoder };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* Copyright 1996-2003 Glyph & Cog, LLC\n *\n * The CCITT stream implementation contained in this file is a JavaScript port\n * of XPDF's implementation, made available under the Apache 2.0 open source\n * license.\n */\n\nimport { FormatError, info } from \"../shared/util.js\";\n\n/**\n * @typedef {Object} CCITTFaxDecoderSource\n * @property {function} next - Method that return one byte of data for decoding,\n *   or -1 when EOF is reached.\n */\n\nconst ccittEOL = -2;\nconst ccittEOF = -1;\nconst twoDimPass = 0;\nconst twoDimHoriz = 1;\nconst twoDimVert0 = 2;\nconst twoDimVertR1 = 3;\nconst twoDimVertL1 = 4;\nconst twoDimVertR2 = 5;\nconst twoDimVertL2 = 6;\nconst twoDimVertR3 = 7;\nconst twoDimVertL3 = 8;\n\n// prettier-ignore\nconst twoDimTable = [\n  [-1, -1], [-1, -1],                   // 000000x\n  [7, twoDimVertL3],                    // 0000010\n  [7, twoDimVertR3],                    // 0000011\n  [6, twoDimVertL2], [6, twoDimVertL2], // 000010x\n  [6, twoDimVertR2], [6, twoDimVertR2], // 000011x\n  [4, twoDimPass], [4, twoDimPass],     // 0001xxx\n  [4, twoDimPass], [4, twoDimPass],\n  [4, twoDimPass], [4, twoDimPass],\n  [4, twoDimPass], [4, twoDimPass],\n  [3, twoDimHoriz], [3, twoDimHoriz],   // 001xxxx\n  [3, twoDimHoriz], [3, twoDimHoriz],\n  [3, twoDimHoriz], [3, twoDimHoriz],\n  [3, twoDimHoriz], [3, twoDimHoriz],\n  [3, twoDimHoriz], [3, twoDimHoriz],\n  [3, twoDimHoriz], [3, twoDimHoriz],\n  [3, twoDimHoriz], [3, twoDimHoriz],\n  [3, twoDimHoriz], [3, twoDimHoriz],\n  [3, twoDimVertL1], [3, twoDimVertL1], // 010xxxx\n  [3, twoDimVertL1], [3, twoDimVertL1],\n  [3, twoDimVertL1], [3, twoDimVertL1],\n  [3, twoDimVertL1], [3, twoDimVertL1],\n  [3, twoDimVertL1], [3, twoDimVertL1],\n  [3, twoDimVertL1], [3, twoDimVertL1],\n  [3, twoDimVertL1], [3, twoDimVertL1],\n  [3, twoDimVertL1], [3, twoDimVertL1],\n  [3, twoDimVertR1], [3, twoDimVertR1], // 011xxxx\n  [3, twoDimVertR1], [3, twoDimVertR1],\n  [3, twoDimVertR1], [3, twoDimVertR1],\n  [3, twoDimVertR1], [3, twoDimVertR1],\n  [3, twoDimVertR1], [3, twoDimVertR1],\n  [3, twoDimVertR1], [3, twoDimVertR1],\n  [3, twoDimVertR1], [3, twoDimVertR1],\n  [3, twoDimVertR1], [3, twoDimVertR1],\n  [1, twoDimVert0], [1, twoDimVert0],   // 1xxxxxx\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0],\n  [1, twoDimVert0], [1, twoDimVert0]\n];\n\n// prettier-ignore\nconst whiteTable1 = [\n  [-1, -1],                               // 00000\n  [12, ccittEOL],                         // 00001\n  [-1, -1], [-1, -1],                     // 0001x\n  [-1, -1], [-1, -1], [-1, -1], [-1, -1], // 001xx\n  [-1, -1], [-1, -1], [-1, -1], [-1, -1], // 010xx\n  [-1, -1], [-1, -1], [-1, -1], [-1, -1], // 011xx\n  [11, 1792], [11, 1792],                 // 1000x\n  [12, 1984],                             // 10010\n  [12, 2048],                             // 10011\n  [12, 2112],                             // 10100\n  [12, 2176],                             // 10101\n  [12, 2240],                             // 10110\n  [12, 2304],                             // 10111\n  [11, 1856], [11, 1856],                 // 1100x\n  [11, 1920], [11, 1920],                 // 1101x\n  [12, 2368],                             // 11100\n  [12, 2432],                             // 11101\n  [12, 2496],                             // 11110\n  [12, 2560]                              // 11111\n];\n\n// prettier-ignore\nconst whiteTable2 = [\n  [-1, -1], [-1, -1], [-1, -1], [-1, -1],     // 0000000xx\n  [8, 29], [8, 29],                           // 00000010x\n  [8, 30], [8, 30],                           // 00000011x\n  [8, 45], [8, 45],                           // 00000100x\n  [8, 46], [8, 46],                           // 00000101x\n  [7, 22], [7, 22], [7, 22], [7, 22],         // 0000011xx\n  [7, 23], [7, 23], [7, 23], [7, 23],         // 0000100xx\n  [8, 47], [8, 47],                           // 00001010x\n  [8, 48], [8, 48],                           // 00001011x\n  [6, 13], [6, 13], [6, 13], [6, 13],         // 000011xxx\n  [6, 13], [6, 13], [6, 13], [6, 13],\n  [7, 20], [7, 20], [7, 20], [7, 20],         // 0001000xx\n  [8, 33], [8, 33],                           // 00010010x\n  [8, 34], [8, 34],                           // 00010011x\n  [8, 35], [8, 35],                           // 00010100x\n  [8, 36], [8, 36],                           // 00010101x\n  [8, 37], [8, 37],                           // 00010110x\n  [8, 38], [8, 38],                           // 00010111x\n  [7, 19], [7, 19], [7, 19], [7, 19],         // 0001100xx\n  [8, 31], [8, 31],                           // 00011010x\n  [8, 32], [8, 32],                           // 00011011x\n  [6, 1], [6, 1], [6, 1], [6, 1],             // 000111xxx\n  [6, 1], [6, 1], [6, 1], [6, 1],\n  [6, 12], [6, 12], [6, 12], [6, 12],         // 001000xxx\n  [6, 12], [6, 12], [6, 12], [6, 12],\n  [8, 53], [8, 53],                           // 00100100x\n  [8, 54], [8, 54],                           // 00100101x\n  [7, 26], [7, 26], [7, 26], [7, 26],         // 0010011xx\n  [8, 39], [8, 39],                           // 00101000x\n  [8, 40], [8, 40],                           // 00101001x\n  [8, 41], [8, 41],                           // 00101010x\n  [8, 42], [8, 42],                           // 00101011x\n  [8, 43], [8, 43],                           // 00101100x\n  [8, 44], [8, 44],                           // 00101101x\n  [7, 21], [7, 21], [7, 21], [7, 21],         // 0010111xx\n  [7, 28], [7, 28], [7, 28], [7, 28],         // 0011000xx\n  [8, 61], [8, 61],                           // 00110010x\n  [8, 62], [8, 62],                           // 00110011x\n  [8, 63], [8, 63],                           // 00110100x\n  [8, 0], [8, 0],                             // 00110101x\n  [8, 320], [8, 320],                         // 00110110x\n  [8, 384], [8, 384],                         // 00110111x\n  [5, 10], [5, 10], [5, 10], [5, 10],         // 00111xxxx\n  [5, 10], [5, 10], [5, 10], [5, 10],\n  [5, 10], [5, 10], [5, 10], [5, 10],\n  [5, 10], [5, 10], [5, 10], [5, 10],\n  [5, 11], [5, 11], [5, 11], [5, 11],         // 01000xxxx\n  [5, 11], [5, 11], [5, 11], [5, 11],\n  [5, 11], [5, 11], [5, 11], [5, 11],\n  [5, 11], [5, 11], [5, 11], [5, 11],\n  [7, 27], [7, 27], [7, 27], [7, 27],         // 0100100xx\n  [8, 59], [8, 59],                           // 01001010x\n  [8, 60], [8, 60],                           // 01001011x\n  [9, 1472],                                  // 010011000\n  [9, 1536],                                  // 010011001\n  [9, 1600],                                  // 010011010\n  [9, 1728],                                  // 010011011\n  [7, 18], [7, 18], [7, 18], [7, 18],         // 0100111xx\n  [7, 24], [7, 24], [7, 24], [7, 24],         // 0101000xx\n  [8, 49], [8, 49],                           // 01010010x\n  [8, 50], [8, 50],                           // 01010011x\n  [8, 51], [8, 51],                           // 01010100x\n  [8, 52], [8, 52],                           // 01010101x\n  [7, 25], [7, 25], [7, 25], [7, 25],         // 0101011xx\n  [8, 55], [8, 55],                           // 01011000x\n  [8, 56], [8, 56],                           // 01011001x\n  [8, 57], [8, 57],                           // 01011010x\n  [8, 58], [8, 58],                           // 01011011x\n  [6, 192], [6, 192], [6, 192], [6, 192],     // 010111xxx\n  [6, 192], [6, 192], [6, 192], [6, 192],\n  [6, 1664], [6, 1664], [6, 1664], [6, 1664], // 011000xxx\n  [6, 1664], [6, 1664], [6, 1664], [6, 1664],\n  [8, 448], [8, 448],                         // 01100100x\n  [8, 512], [8, 512],                         // 01100101x\n  [9, 704],                                   // 011001100\n  [9, 768],                                   // 011001101\n  [8, 640], [8, 640],                         // 01100111x\n  [8, 576], [8, 576],                         // 01101000x\n  [9, 832],                                   // 011010010\n  [9, 896],                                   // 011010011\n  [9, 960],                                   // 011010100\n  [9, 1024],                                  // 011010101\n  [9, 1088],                                  // 011010110\n  [9, 1152],                                  // 011010111\n  [9, 1216],                                  // 011011000\n  [9, 1280],                                  // 011011001\n  [9, 1344],                                  // 011011010\n  [9, 1408],                                  // 011011011\n  [7, 256], [7, 256], [7, 256], [7, 256],     // 0110111xx\n  [4, 2], [4, 2], [4, 2], [4, 2],             // 0111xxxxx\n  [4, 2], [4, 2], [4, 2], [4, 2],\n  [4, 2], [4, 2], [4, 2], [4, 2],\n  [4, 2], [4, 2], [4, 2], [4, 2],\n  [4, 2], [4, 2], [4, 2], [4, 2],\n  [4, 2], [4, 2], [4, 2], [4, 2],\n  [4, 2], [4, 2], [4, 2], [4, 2],\n  [4, 2], [4, 2], [4, 2], [4, 2],\n  [4, 3], [4, 3], [4, 3], [4, 3],             // 1000xxxxx\n  [4, 3], [4, 3], [4, 3], [4, 3],\n  [4, 3], [4, 3], [4, 3], [4, 3],\n  [4, 3], [4, 3], [4, 3], [4, 3],\n  [4, 3], [4, 3], [4, 3], [4, 3],\n  [4, 3], [4, 3], [4, 3], [4, 3],\n  [4, 3], [4, 3], [4, 3], [4, 3],\n  [4, 3], [4, 3], [4, 3], [4, 3],\n  [5, 128], [5, 128], [5, 128], [5, 128],     // 10010xxxx\n  [5, 128], [5, 128], [5, 128], [5, 128],\n  [5, 128], [5, 128], [5, 128], [5, 128],\n  [5, 128], [5, 128], [5, 128], [5, 128],\n  [5, 8], [5, 8], [5, 8], [5, 8],             // 10011xxxx\n  [5, 8], [5, 8], [5, 8], [5, 8],\n  [5, 8], [5, 8], [5, 8], [5, 8],\n  [5, 8], [5, 8], [5, 8], [5, 8],\n  [5, 9], [5, 9], [5, 9], [5, 9],             // 10100xxxx\n  [5, 9], [5, 9], [5, 9], [5, 9],\n  [5, 9], [5, 9], [5, 9], [5, 9],\n  [5, 9], [5, 9], [5, 9], [5, 9],\n  [6, 16], [6, 16], [6, 16], [6, 16],         // 101010xxx\n  [6, 16], [6, 16], [6, 16], [6, 16],\n  [6, 17], [6, 17], [6, 17], [6, 17],         // 101011xxx\n  [6, 17], [6, 17], [6, 17], [6, 17],\n  [4, 4], [4, 4], [4, 4], [4, 4],             // 1011xxxxx\n  [4, 4], [4, 4], [4, 4], [4, 4],\n  [4, 4], [4, 4], [4, 4], [4, 4],\n  [4, 4], [4, 4], [4, 4], [4, 4],\n  [4, 4], [4, 4], [4, 4], [4, 4],\n  [4, 4], [4, 4], [4, 4], [4, 4],\n  [4, 4], [4, 4], [4, 4], [4, 4],\n  [4, 4], [4, 4], [4, 4], [4, 4],\n  [4, 5], [4, 5], [4, 5], [4, 5],             // 1100xxxxx\n  [4, 5], [4, 5], [4, 5], [4, 5],\n  [4, 5], [4, 5], [4, 5], [4, 5],\n  [4, 5], [4, 5], [4, 5], [4, 5],\n  [4, 5], [4, 5], [4, 5], [4, 5],\n  [4, 5], [4, 5], [4, 5], [4, 5],\n  [4, 5], [4, 5], [4, 5], [4, 5],\n  [4, 5], [4, 5], [4, 5], [4, 5],\n  [6, 14], [6, 14], [6, 14], [6, 14],         // 110100xxx\n  [6, 14], [6, 14], [6, 14], [6, 14],\n  [6, 15], [6, 15], [6, 15], [6, 15],         // 110101xxx\n  [6, 15], [6, 15], [6, 15], [6, 15],\n  [5, 64], [5, 64], [5, 64], [5, 64],         // 11011xxxx\n  [5, 64], [5, 64], [5, 64], [5, 64],\n  [5, 64], [5, 64], [5, 64], [5, 64],\n  [5, 64], [5, 64], [5, 64], [5, 64],\n  [4, 6], [4, 6], [4, 6], [4, 6],             // 1110xxxxx\n  [4, 6], [4, 6], [4, 6], [4, 6],\n  [4, 6], [4, 6], [4, 6], [4, 6],\n  [4, 6], [4, 6], [4, 6], [4, 6],\n  [4, 6], [4, 6], [4, 6], [4, 6],\n  [4, 6], [4, 6], [4, 6], [4, 6],\n  [4, 6], [4, 6], [4, 6], [4, 6],\n  [4, 6], [4, 6], [4, 6], [4, 6],\n  [4, 7], [4, 7], [4, 7], [4, 7],             // 1111xxxxx\n  [4, 7], [4, 7], [4, 7], [4, 7],\n  [4, 7], [4, 7], [4, 7], [4, 7],\n  [4, 7], [4, 7], [4, 7], [4, 7],\n  [4, 7], [4, 7], [4, 7], [4, 7],\n  [4, 7], [4, 7], [4, 7], [4, 7],\n  [4, 7], [4, 7], [4, 7], [4, 7],\n  [4, 7], [4, 7], [4, 7], [4, 7]\n];\n\n// prettier-ignore\nconst blackTable1 = [\n  [-1, -1], [-1, -1],                             // 000000000000x\n  [12, ccittEOL], [12, ccittEOL],                 // 000000000001x\n  [-1, -1], [-1, -1], [-1, -1], [-1, -1],         // 00000000001xx\n  [-1, -1], [-1, -1], [-1, -1], [-1, -1],         // 00000000010xx\n  [-1, -1], [-1, -1], [-1, -1], [-1, -1],         // 00000000011xx\n  [-1, -1], [-1, -1], [-1, -1], [-1, -1],         // 00000000100xx\n  [-1, -1], [-1, -1], [-1, -1], [-1, -1],         // 00000000101xx\n  [-1, -1], [-1, -1], [-1, -1], [-1, -1],         // 00000000110xx\n  [-1, -1], [-1, -1], [-1, -1], [-1, -1],         // 00000000111xx\n  [11, 1792], [11, 1792], [11, 1792], [11, 1792], // 00000001000xx\n  [12, 1984], [12, 1984],                         // 000000010010x\n  [12, 2048], [12, 2048],                         // 000000010011x\n  [12, 2112], [12, 2112],                         // 000000010100x\n  [12, 2176], [12, 2176],                         // 000000010101x\n  [12, 2240], [12, 2240],                         // 000000010110x\n  [12, 2304], [12, 2304],                         // 000000010111x\n  [11, 1856], [11, 1856], [11, 1856], [11, 1856], // 00000001100xx\n  [11, 1920], [11, 1920], [11, 1920], [11, 1920], // 00000001101xx\n  [12, 2368], [12, 2368],                         // 000000011100x\n  [12, 2432], [12, 2432],                         // 000000011101x\n  [12, 2496], [12, 2496],                         // 000000011110x\n  [12, 2560], [12, 2560],                         // 000000011111x\n  [10, 18], [10, 18], [10, 18], [10, 18],         // 0000001000xxx\n  [10, 18], [10, 18], [10, 18], [10, 18],\n  [12, 52], [12, 52],                             // 000000100100x\n  [13, 640],                                      // 0000001001010\n  [13, 704],                                      // 0000001001011\n  [13, 768],                                      // 0000001001100\n  [13, 832],                                      // 0000001001101\n  [12, 55], [12, 55],                             // 000000100111x\n  [12, 56], [12, 56],                             // 000000101000x\n  [13, 1280],                                     // 0000001010010\n  [13, 1344],                                     // 0000001010011\n  [13, 1408],                                     // 0000001010100\n  [13, 1472],                                     // 0000001010101\n  [12, 59], [12, 59],                             // 000000101011x\n  [12, 60], [12, 60],                             // 000000101100x\n  [13, 1536],                                     // 0000001011010\n  [13, 1600],                                     // 0000001011011\n  [11, 24], [11, 24], [11, 24], [11, 24],         // 00000010111xx\n  [11, 25], [11, 25], [11, 25], [11, 25],         // 00000011000xx\n  [13, 1664],                                     // 0000001100100\n  [13, 1728],                                     // 0000001100101\n  [12, 320], [12, 320],                           // 000000110011x\n  [12, 384], [12, 384],                           // 000000110100x\n  [12, 448], [12, 448],                           // 000000110101x\n  [13, 512],                                      // 0000001101100\n  [13, 576],                                      // 0000001101101\n  [12, 53], [12, 53],                             // 000000110111x\n  [12, 54], [12, 54],                             // 000000111000x\n  [13, 896],                                      // 0000001110010\n  [13, 960],                                      // 0000001110011\n  [13, 1024],                                     // 0000001110100\n  [13, 1088],                                     // 0000001110101\n  [13, 1152],                                     // 0000001110110\n  [13, 1216],                                     // 0000001110111\n  [10, 64], [10, 64], [10, 64], [10, 64],         // 0000001111xxx\n  [10, 64], [10, 64], [10, 64], [10, 64]\n];\n\n// prettier-ignore\nconst blackTable2 = [\n  [8, 13], [8, 13], [8, 13], [8, 13],     // 00000100xxxx\n  [8, 13], [8, 13], [8, 13], [8, 13],\n  [8, 13], [8, 13], [8, 13], [8, 13],\n  [8, 13], [8, 13], [8, 13], [8, 13],\n  [11, 23], [11, 23],                     // 00000101000x\n  [12, 50],                               // 000001010010\n  [12, 51],                               // 000001010011\n  [12, 44],                               // 000001010100\n  [12, 45],                               // 000001010101\n  [12, 46],                               // 000001010110\n  [12, 47],                               // 000001010111\n  [12, 57],                               // 000001011000\n  [12, 58],                               // 000001011001\n  [12, 61],                               // 000001011010\n  [12, 256],                              // 000001011011\n  [10, 16], [10, 16], [10, 16], [10, 16], // 0000010111xx\n  [10, 17], [10, 17], [10, 17], [10, 17], // 0000011000xx\n  [12, 48],                               // 000001100100\n  [12, 49],                               // 000001100101\n  [12, 62],                               // 000001100110\n  [12, 63],                               // 000001100111\n  [12, 30],                               // 000001101000\n  [12, 31],                               // 000001101001\n  [12, 32],                               // 000001101010\n  [12, 33],                               // 000001101011\n  [12, 40],                               // 000001101100\n  [12, 41],                               // 000001101101\n  [11, 22], [11, 22],                     // 00000110111x\n  [8, 14], [8, 14], [8, 14], [8, 14],     // 00000111xxxx\n  [8, 14], [8, 14], [8, 14], [8, 14],\n  [8, 14], [8, 14], [8, 14], [8, 14],\n  [8, 14], [8, 14], [8, 14], [8, 14],\n  [7, 10], [7, 10], [7, 10], [7, 10],     // 0000100xxxxx\n  [7, 10], [7, 10], [7, 10], [7, 10],\n  [7, 10], [7, 10], [7, 10], [7, 10],\n  [7, 10], [7, 10], [7, 10], [7, 10],\n  [7, 10], [7, 10], [7, 10], [7, 10],\n  [7, 10], [7, 10], [7, 10], [7, 10],\n  [7, 10], [7, 10], [7, 10], [7, 10],\n  [7, 10], [7, 10], [7, 10], [7, 10],\n  [7, 11], [7, 11], [7, 11], [7, 11],     // 0000101xxxxx\n  [7, 11], [7, 11], [7, 11], [7, 11],\n  [7, 11], [7, 11], [7, 11], [7, 11],\n  [7, 11], [7, 11], [7, 11], [7, 11],\n  [7, 11], [7, 11], [7, 11], [7, 11],\n  [7, 11], [7, 11], [7, 11], [7, 11],\n  [7, 11], [7, 11], [7, 11], [7, 11],\n  [7, 11], [7, 11], [7, 11], [7, 11],\n  [9, 15], [9, 15], [9, 15], [9, 15],     // 000011000xxx\n  [9, 15], [9, 15], [9, 15], [9, 15],\n  [12, 128],                              // 000011001000\n  [12, 192],                              // 000011001001\n  [12, 26],                               // 000011001010\n  [12, 27],                               // 000011001011\n  [12, 28],                               // 000011001100\n  [12, 29],                               // 000011001101\n  [11, 19], [11, 19],                     // 00001100111x\n  [11, 20], [11, 20],                     // 00001101000x\n  [12, 34],                               // 000011010010\n  [12, 35],                               // 000011010011\n  [12, 36],                               // 000011010100\n  [12, 37],                               // 000011010101\n  [12, 38],                               // 000011010110\n  [12, 39],                               // 000011010111\n  [11, 21], [11, 21],                     // 00001101100x\n  [12, 42],                               // 000011011010\n  [12, 43],                               // 000011011011\n  [10, 0], [10, 0], [10, 0], [10, 0],     // 0000110111xx\n  [7, 12], [7, 12], [7, 12], [7, 12],     // 0000111xxxxx\n  [7, 12], [7, 12], [7, 12], [7, 12],\n  [7, 12], [7, 12], [7, 12], [7, 12],\n  [7, 12], [7, 12], [7, 12], [7, 12],\n  [7, 12], [7, 12], [7, 12], [7, 12],\n  [7, 12], [7, 12], [7, 12], [7, 12],\n  [7, 12], [7, 12], [7, 12], [7, 12],\n  [7, 12], [7, 12], [7, 12], [7, 12]\n];\n\n// prettier-ignore\nconst blackTable3 = [\n  [-1, -1], [-1, -1], [-1, -1], [-1, -1], // 0000xx\n  [6, 9],                                 // 000100\n  [6, 8],                                 // 000101\n  [5, 7], [5, 7],                         // 00011x\n  [4, 6], [4, 6], [4, 6], [4, 6],         // 0010xx\n  [4, 5], [4, 5], [4, 5], [4, 5],         // 0011xx\n  [3, 1], [3, 1], [3, 1], [3, 1],         // 010xxx\n  [3, 1], [3, 1], [3, 1], [3, 1],\n  [3, 4], [3, 4], [3, 4], [3, 4],         // 011xxx\n  [3, 4], [3, 4], [3, 4], [3, 4],\n  [2, 3], [2, 3], [2, 3], [2, 3],         // 10xxxx\n  [2, 3], [2, 3], [2, 3], [2, 3],\n  [2, 3], [2, 3], [2, 3], [2, 3],\n  [2, 3], [2, 3], [2, 3], [2, 3],\n  [2, 2], [2, 2], [2, 2], [2, 2],         // 11xxxx\n  [2, 2], [2, 2], [2, 2], [2, 2],\n  [2, 2], [2, 2], [2, 2], [2, 2],\n  [2, 2], [2, 2], [2, 2], [2, 2]\n];\n\n/**\n * @param {CCITTFaxDecoderSource} source - The data which should be decoded.\n * @param {Object} [options] - Decoding options.\n */\nclass CCITTFaxDecoder {\n  constructor(source, options = {}) {\n    if (!source || typeof source.next !== \"function\") {\n      throw new Error('CCITTFaxDecoder - invalid \"source\" parameter.');\n    }\n    this.source = source;\n    this.eof = false;\n\n    this.encoding = options.K || 0;\n    this.eoline = options.EndOfLine || false;\n    this.byteAlign = options.EncodedByteAlign || false;\n    this.columns = options.Columns || 1728;\n    this.rows = options.Rows || 0;\n    let eoblock = options.EndOfBlock;\n    if (eoblock === null || eoblock === undefined) {\n      eoblock = true;\n    }\n    this.eoblock = eoblock;\n    this.black = options.BlackIs1 || false;\n\n    this.codingLine = new Uint32Array(this.columns + 1);\n    this.refLine = new Uint32Array(this.columns + 2);\n\n    this.codingLine[0] = this.columns;\n    this.codingPos = 0;\n\n    this.row = 0;\n    this.nextLine2D = this.encoding < 0;\n    this.inputBits = 0;\n    this.inputBuf = 0;\n    this.outputBits = 0;\n    this.rowsDone = false;\n\n    let code1;\n    while ((code1 = this._lookBits(12)) === 0) {\n      this._eatBits(1);\n    }\n    if (code1 === 1) {\n      this._eatBits(12);\n    }\n    if (this.encoding > 0) {\n      this.nextLine2D = !this._lookBits(1);\n      this._eatBits(1);\n    }\n  }\n\n  readNextChar() {\n    if (this.eof) {\n      return -1;\n    }\n    const refLine = this.refLine;\n    const codingLine = this.codingLine;\n    const columns = this.columns;\n\n    let refPos, blackPixels, bits, i;\n\n    if (this.outputBits === 0) {\n      if (this.rowsDone) {\n        this.eof = true;\n      }\n      if (this.eof) {\n        return -1;\n      }\n      this.err = false;\n\n      let code1, code2, code3;\n      if (this.nextLine2D) {\n        for (i = 0; codingLine[i] < columns; ++i) {\n          refLine[i] = codingLine[i];\n        }\n        refLine[i++] = columns;\n        refLine[i] = columns;\n        codingLine[0] = 0;\n        this.codingPos = 0;\n        refPos = 0;\n        blackPixels = 0;\n\n        while (codingLine[this.codingPos] < columns) {\n          code1 = this._getTwoDimCode();\n          switch (code1) {\n            case twoDimPass:\n              this._addPixels(refLine[refPos + 1], blackPixels);\n              if (refLine[refPos + 1] < columns) {\n                refPos += 2;\n              }\n              break;\n            case twoDimHoriz:\n              code1 = code2 = 0;\n              if (blackPixels) {\n                do {\n                  code1 += code3 = this._getBlackCode();\n                } while (code3 >= 64);\n                do {\n                  code2 += code3 = this._getWhiteCode();\n                } while (code3 >= 64);\n              } else {\n                do {\n                  code1 += code3 = this._getWhiteCode();\n                } while (code3 >= 64);\n                do {\n                  code2 += code3 = this._getBlackCode();\n                } while (code3 >= 64);\n              }\n              this._addPixels(codingLine[this.codingPos] + code1, blackPixels);\n              if (codingLine[this.codingPos] < columns) {\n                this._addPixels(\n                  codingLine[this.codingPos] + code2,\n                  blackPixels ^ 1\n                );\n              }\n              while (\n                refLine[refPos] <= codingLine[this.codingPos] &&\n                refLine[refPos] < columns\n              ) {\n                refPos += 2;\n              }\n              break;\n            case twoDimVertR3:\n              this._addPixels(refLine[refPos] + 3, blackPixels);\n              blackPixels ^= 1;\n              if (codingLine[this.codingPos] < columns) {\n                ++refPos;\n                while (\n                  refLine[refPos] <= codingLine[this.codingPos] &&\n                  refLine[refPos] < columns\n                ) {\n                  refPos += 2;\n                }\n              }\n              break;\n            case twoDimVertR2:\n              this._addPixels(refLine[refPos] + 2, blackPixels);\n              blackPixels ^= 1;\n              if (codingLine[this.codingPos] < columns) {\n                ++refPos;\n                while (\n                  refLine[refPos] <= codingLine[this.codingPos] &&\n                  refLine[refPos] < columns\n                ) {\n                  refPos += 2;\n                }\n              }\n              break;\n            case twoDimVertR1:\n              this._addPixels(refLine[refPos] + 1, blackPixels);\n              blackPixels ^= 1;\n              if (codingLine[this.codingPos] < columns) {\n                ++refPos;\n                while (\n                  refLine[refPos] <= codingLine[this.codingPos] &&\n                  refLine[refPos] < columns\n                ) {\n                  refPos += 2;\n                }\n              }\n              break;\n            case twoDimVert0:\n              this._addPixels(refLine[refPos], blackPixels);\n              blackPixels ^= 1;\n              if (codingLine[this.codingPos] < columns) {\n                ++refPos;\n                while (\n                  refLine[refPos] <= codingLine[this.codingPos] &&\n                  refLine[refPos] < columns\n                ) {\n                  refPos += 2;\n                }\n              }\n              break;\n            case twoDimVertL3:\n              this._addPixelsNeg(refLine[refPos] - 3, blackPixels);\n              blackPixels ^= 1;\n              if (codingLine[this.codingPos] < columns) {\n                if (refPos > 0) {\n                  --refPos;\n                } else {\n                  ++refPos;\n                }\n                while (\n                  refLine[refPos] <= codingLine[this.codingPos] &&\n                  refLine[refPos] < columns\n                ) {\n                  refPos += 2;\n                }\n              }\n              break;\n            case twoDimVertL2:\n              this._addPixelsNeg(refLine[refPos] - 2, blackPixels);\n              blackPixels ^= 1;\n              if (codingLine[this.codingPos] < columns) {\n                if (refPos > 0) {\n                  --refPos;\n                } else {\n                  ++refPos;\n                }\n                while (\n                  refLine[refPos] <= codingLine[this.codingPos] &&\n                  refLine[refPos] < columns\n                ) {\n                  refPos += 2;\n                }\n              }\n              break;\n            case twoDimVertL1:\n              this._addPixelsNeg(refLine[refPos] - 1, blackPixels);\n              blackPixels ^= 1;\n              if (codingLine[this.codingPos] < columns) {\n                if (refPos > 0) {\n                  --refPos;\n                } else {\n                  ++refPos;\n                }\n                while (\n                  refLine[refPos] <= codingLine[this.codingPos] &&\n                  refLine[refPos] < columns\n                ) {\n                  refPos += 2;\n                }\n              }\n              break;\n            case ccittEOF:\n              this._addPixels(columns, 0);\n              this.eof = true;\n              break;\n            default:\n              info(\"bad 2d code\");\n              this._addPixels(columns, 0);\n              this.err = true;\n          }\n        }\n      } else {\n        codingLine[0] = 0;\n        this.codingPos = 0;\n        blackPixels = 0;\n        while (codingLine[this.codingPos] < columns) {\n          code1 = 0;\n          if (blackPixels) {\n            do {\n              code1 += code3 = this._getBlackCode();\n            } while (code3 >= 64);\n          } else {\n            do {\n              code1 += code3 = this._getWhiteCode();\n            } while (code3 >= 64);\n          }\n          this._addPixels(codingLine[this.codingPos] + code1, blackPixels);\n          blackPixels ^= 1;\n        }\n      }\n\n      let gotEOL = false;\n\n      if (this.byteAlign) {\n        this.inputBits &= ~7;\n      }\n\n      if (!this.eoblock && this.row === this.rows - 1) {\n        this.rowsDone = true;\n      } else {\n        code1 = this._lookBits(12);\n        if (this.eoline) {\n          while (code1 !== ccittEOF && code1 !== 1) {\n            this._eatBits(1);\n            code1 = this._lookBits(12);\n          }\n        } else {\n          while (code1 === 0) {\n            this._eatBits(1);\n            code1 = this._lookBits(12);\n          }\n        }\n        if (code1 === 1) {\n          this._eatBits(12);\n          gotEOL = true;\n        } else if (code1 === ccittEOF) {\n          this.eof = true;\n        }\n      }\n\n      if (!this.eof && this.encoding > 0 && !this.rowsDone) {\n        this.nextLine2D = !this._lookBits(1);\n        this._eatBits(1);\n      }\n\n      if (this.eoblock && gotEOL && this.byteAlign) {\n        code1 = this._lookBits(12);\n        if (code1 === 1) {\n          this._eatBits(12);\n          if (this.encoding > 0) {\n            this._lookBits(1);\n            this._eatBits(1);\n          }\n          if (this.encoding >= 0) {\n            for (i = 0; i < 4; ++i) {\n              code1 = this._lookBits(12);\n              if (code1 !== 1) {\n                info(\"bad rtc code: \" + code1);\n              }\n              this._eatBits(12);\n              if (this.encoding > 0) {\n                this._lookBits(1);\n                this._eatBits(1);\n              }\n            }\n          }\n          this.eof = true;\n        }\n      } else if (this.err && this.eoline) {\n        while (true) {\n          code1 = this._lookBits(13);\n          if (code1 === ccittEOF) {\n            this.eof = true;\n            return -1;\n          }\n          if (code1 >> 1 === 1) {\n            break;\n          }\n          this._eatBits(1);\n        }\n        this._eatBits(12);\n        if (this.encoding > 0) {\n          this._eatBits(1);\n          this.nextLine2D = !(code1 & 1);\n        }\n      }\n\n      if (codingLine[0] > 0) {\n        this.outputBits = codingLine[(this.codingPos = 0)];\n      } else {\n        this.outputBits = codingLine[(this.codingPos = 1)];\n      }\n      this.row++;\n    }\n\n    let c;\n    if (this.outputBits >= 8) {\n      c = this.codingPos & 1 ? 0 : 0xff;\n      this.outputBits -= 8;\n      if (this.outputBits === 0 && codingLine[this.codingPos] < columns) {\n        this.codingPos++;\n        this.outputBits =\n          codingLine[this.codingPos] - codingLine[this.codingPos - 1];\n      }\n    } else {\n      bits = 8;\n      c = 0;\n      do {\n        if (typeof this.outputBits !== \"number\") {\n          throw new FormatError(\n            'Invalid /CCITTFaxDecode data, \"outputBits\" must be a number.'\n          );\n        }\n\n        if (this.outputBits > bits) {\n          c <<= bits;\n          if (!(this.codingPos & 1)) {\n            c |= 0xff >> (8 - bits);\n          }\n          this.outputBits -= bits;\n          bits = 0;\n        } else {\n          c <<= this.outputBits;\n          if (!(this.codingPos & 1)) {\n            c |= 0xff >> (8 - this.outputBits);\n          }\n          bits -= this.outputBits;\n          this.outputBits = 0;\n          if (codingLine[this.codingPos] < columns) {\n            this.codingPos++;\n            this.outputBits =\n              codingLine[this.codingPos] - codingLine[this.codingPos - 1];\n          } else if (bits > 0) {\n            c <<= bits;\n            bits = 0;\n          }\n        }\n      } while (bits);\n    }\n    if (this.black) {\n      c ^= 0xff;\n    }\n    return c;\n  }\n\n  /**\n   * @private\n   */\n  _addPixels(a1, blackPixels) {\n    const codingLine = this.codingLine;\n    let codingPos = this.codingPos;\n\n    if (a1 > codingLine[codingPos]) {\n      if (a1 > this.columns) {\n        info(\"row is wrong length\");\n        this.err = true;\n        a1 = this.columns;\n      }\n      if ((codingPos & 1) ^ blackPixels) {\n        ++codingPos;\n      }\n\n      codingLine[codingPos] = a1;\n    }\n    this.codingPos = codingPos;\n  }\n\n  /**\n   * @private\n   */\n  _addPixelsNeg(a1, blackPixels) {\n    const codingLine = this.codingLine;\n    let codingPos = this.codingPos;\n\n    if (a1 > codingLine[codingPos]) {\n      if (a1 > this.columns) {\n        info(\"row is wrong length\");\n        this.err = true;\n        a1 = this.columns;\n      }\n      if ((codingPos & 1) ^ blackPixels) {\n        ++codingPos;\n      }\n\n      codingLine[codingPos] = a1;\n    } else if (a1 < codingLine[codingPos]) {\n      if (a1 < 0) {\n        info(\"invalid code\");\n        this.err = true;\n        a1 = 0;\n      }\n      while (codingPos > 0 && a1 < codingLine[codingPos - 1]) {\n        --codingPos;\n      }\n      codingLine[codingPos] = a1;\n    }\n\n    this.codingPos = codingPos;\n  }\n\n  /**\n   * This function returns the code found from the table.\n   * The start and end parameters set the boundaries for searching the table.\n   * The limit parameter is optional. Function returns an array with three\n   * values. The first array element indicates whether a valid code is being\n   * returned. The second array element is the actual code. The third array\n   * element indicates whether EOF was reached.\n   * @private\n   */\n  _findTableCode(start, end, table, limit) {\n    const limitValue = limit || 0;\n    for (let i = start; i <= end; ++i) {\n      let code = this._lookBits(i);\n      if (code === ccittEOF) {\n        return [true, 1, false];\n      }\n      if (i < end) {\n        code <<= end - i;\n      }\n      if (!limitValue || code >= limitValue) {\n        const p = table[code - limitValue];\n        if (p[0] === i) {\n          this._eatBits(i);\n          return [true, p[1], true];\n        }\n      }\n    }\n    return [false, 0, false];\n  }\n\n  /**\n   * @private\n   */\n  _getTwoDimCode() {\n    let code = 0;\n    let p;\n    if (this.eoblock) {\n      code = this._lookBits(7);\n      p = twoDimTable[code];\n      if (p && p[0] > 0) {\n        this._eatBits(p[0]);\n        return p[1];\n      }\n    } else {\n      const result = this._findTableCode(1, 7, twoDimTable);\n      if (result[0] && result[2]) {\n        return result[1];\n      }\n    }\n    info(\"Bad two dim code\");\n    return ccittEOF;\n  }\n\n  /**\n   * @private\n   */\n  _getWhiteCode() {\n    let code = 0;\n    let p;\n    if (this.eoblock) {\n      code = this._lookBits(12);\n      if (code === ccittEOF) {\n        return 1;\n      }\n\n      if (code >> 5 === 0) {\n        p = whiteTable1[code];\n      } else {\n        p = whiteTable2[code >> 3];\n      }\n\n      if (p[0] > 0) {\n        this._eatBits(p[0]);\n        return p[1];\n      }\n    } else {\n      let result = this._findTableCode(1, 9, whiteTable2);\n      if (result[0]) {\n        return result[1];\n      }\n\n      result = this._findTableCode(11, 12, whiteTable1);\n      if (result[0]) {\n        return result[1];\n      }\n    }\n    info(\"bad white code\");\n    this._eatBits(1);\n    return 1;\n  }\n\n  /**\n   * @private\n   */\n  _getBlackCode() {\n    let code, p;\n    if (this.eoblock) {\n      code = this._lookBits(13);\n      if (code === ccittEOF) {\n        return 1;\n      }\n      if (code >> 7 === 0) {\n        p = blackTable1[code];\n      } else if (code >> 9 === 0 && code >> 7 !== 0) {\n        p = blackTable2[(code >> 1) - 64];\n      } else {\n        p = blackTable3[code >> 7];\n      }\n\n      if (p[0] > 0) {\n        this._eatBits(p[0]);\n        return p[1];\n      }\n    } else {\n      let result = this._findTableCode(2, 6, blackTable3);\n      if (result[0]) {\n        return result[1];\n      }\n\n      result = this._findTableCode(7, 12, blackTable2, 64);\n      if (result[0]) {\n        return result[1];\n      }\n\n      result = this._findTableCode(10, 13, blackTable1);\n      if (result[0]) {\n        return result[1];\n      }\n    }\n    info(\"bad black code\");\n    this._eatBits(1);\n    return 1;\n  }\n\n  /**\n   * @private\n   */\n  _lookBits(n) {\n    let c;\n    while (this.inputBits < n) {\n      if ((c = this.source.next()) === -1) {\n        if (this.inputBits === 0) {\n          return ccittEOF;\n        }\n        return (this.inputBuf << (n - this.inputBits)) & (0xffff >> (16 - n));\n      }\n      this.inputBuf = (this.inputBuf << 8) | c;\n      this.inputBits += 8;\n    }\n    return (this.inputBuf >> (this.inputBits - n)) & (0xffff >> (16 - n));\n  }\n\n  /**\n   * @private\n   */\n  _eatBits(n) {\n    if ((this.inputBits -= n) < 0) {\n      this.inputBits = 0;\n    }\n  }\n}\n\nexport { CCITTFaxDecoder };\n","/* Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { assert, BaseException, warn } from \"../shared/util.js\";\nimport { readUint16 } from \"./core_utils.js\";\n\nclass JpegError extends BaseException {\n  constructor(msg) {\n    super(`JPEG error: ${msg}`, \"JpegError\");\n  }\n}\n\nclass DNLMarkerError extends BaseException {\n  constructor(message, scanLines) {\n    super(message, \"DNLMarkerError\");\n    this.scanLines = scanLines;\n  }\n}\n\nclass EOIMarkerError extends BaseException {\n  constructor(msg) {\n    super(msg, \"EOIMarkerError\");\n  }\n}\n\n/**\n * This code was forked from https://github.com/notmasteryet/jpgjs.\n * The original version was created by GitHub user notmasteryet.\n *\n * - The JPEG specification can be found in the ITU CCITT Recommendation T.81\n *   (www.w3.org/Graphics/JPEG/itu-t81.pdf)\n * - The JFIF specification can be found in the JPEG File Interchange Format\n *   (www.w3.org/Graphics/JPEG/jfif3.pdf)\n * - The Adobe Application-Specific JPEG markers in the\n *   Supporting the DCT Filters in PostScript Level 2, Technical Note #5116\n *   (partners.adobe.com/public/developer/en/ps/sdk/5116.DCT_Filter.pdf)\n */\n\n// prettier-ignore\nconst dctZigZag = new Uint8Array([\n   0,\n   1,  8,\n  16,  9,  2,\n   3, 10, 17, 24,\n  32, 25, 18, 11, 4,\n   5, 12, 19, 26, 33, 40,\n  48, 41, 34, 27, 20, 13,  6,\n   7, 14, 21, 28, 35, 42, 49, 56,\n  57, 50, 43, 36, 29, 22, 15,\n  23, 30, 37, 44, 51, 58,\n  59, 52, 45, 38, 31,\n  39, 46, 53, 60,\n  61, 54, 47,\n  55, 62,\n  63\n]);\n\nconst dctCos1 = 4017; // cos(pi/16)\nconst dctSin1 = 799; // sin(pi/16)\nconst dctCos3 = 3406; // cos(3*pi/16)\nconst dctSin3 = 2276; // sin(3*pi/16)\nconst dctCos6 = 1567; // cos(6*pi/16)\nconst dctSin6 = 3784; // sin(6*pi/16)\nconst dctSqrt2 = 5793; // sqrt(2)\nconst dctSqrt1d2 = 2896; // sqrt(2) / 2\n\nfunction buildHuffmanTable(codeLengths, values) {\n  let k = 0,\n    i,\n    j,\n    length = 16;\n  while (length > 0 && !codeLengths[length - 1]) {\n    length--;\n  }\n  const code = [{ children: [], index: 0 }];\n  let p = code[0],\n    q;\n  for (i = 0; i < length; i++) {\n    for (j = 0; j < codeLengths[i]; j++) {\n      p = code.pop();\n      p.children[p.index] = values[k];\n      while (p.index > 0) {\n        p = code.pop();\n      }\n      p.index++;\n      code.push(p);\n      while (code.length <= i) {\n        code.push((q = { children: [], index: 0 }));\n        p.children[p.index] = q.children;\n        p = q;\n      }\n      k++;\n    }\n    if (i + 1 < length) {\n      // p here points to last code\n      code.push((q = { children: [], index: 0 }));\n      p.children[p.index] = q.children;\n      p = q;\n    }\n  }\n  return code[0].children;\n}\n\nfunction getBlockBufferOffset(component, row, col) {\n  return 64 * ((component.blocksPerLine + 1) * row + col);\n}\n\nfunction decodeScan(\n  data,\n  offset,\n  frame,\n  components,\n  resetInterval,\n  spectralStart,\n  spectralEnd,\n  successivePrev,\n  successive,\n  parseDNLMarker = false\n) {\n  const mcusPerLine = frame.mcusPerLine;\n  const progressive = frame.progressive;\n\n  const startOffset = offset;\n  let bitsData = 0,\n    bitsCount = 0;\n\n  function readBit() {\n    if (bitsCount > 0) {\n      bitsCount--;\n      return (bitsData >> bitsCount) & 1;\n    }\n    bitsData = data[offset++];\n    if (bitsData === 0xff) {\n      const nextByte = data[offset++];\n      if (nextByte) {\n        if (nextByte === /* DNL = */ 0xdc && parseDNLMarker) {\n          offset += 2; // Skip marker length.\n\n          const scanLines = readUint16(data, offset);\n          offset += 2;\n          if (scanLines > 0 && scanLines !== frame.scanLines) {\n            throw new DNLMarkerError(\n              \"Found DNL marker (0xFFDC) while parsing scan data\",\n              scanLines\n            );\n          }\n        } else if (nextByte === /* EOI = */ 0xd9) {\n          if (parseDNLMarker) {\n            // NOTE: only 8-bit JPEG images are supported in this decoder.\n            const maybeScanLines = blockRow * (frame.precision === 8 ? 8 : 0);\n            // Heuristic to attempt to handle corrupt JPEG images with too\n            // large `scanLines` parameter, by falling back to the currently\n            // parsed number of scanLines when it's at least (approximately)\n            // one order of magnitude smaller than expected (fixes\n            // issue10880.pdf and issue10989.pdf).\n            if (\n              maybeScanLines > 0 &&\n              Math.round(frame.scanLines / maybeScanLines) >= 10\n            ) {\n              throw new DNLMarkerError(\n                \"Found EOI marker (0xFFD9) while parsing scan data, \" +\n                  \"possibly caused by incorrect `scanLines` parameter\",\n                maybeScanLines\n              );\n            }\n          }\n          throw new EOIMarkerError(\n            \"Found EOI marker (0xFFD9) while parsing scan data\"\n          );\n        }\n        throw new JpegError(\n          `unexpected marker ${((bitsData << 8) | nextByte).toString(16)}`\n        );\n      }\n      // unstuff 0\n    }\n    bitsCount = 7;\n    return bitsData >>> 7;\n  }\n\n  function decodeHuffman(tree) {\n    let node = tree;\n    while (true) {\n      node = node[readBit()];\n      switch (typeof node) {\n        case \"number\":\n          return node;\n        case \"object\":\n          continue;\n      }\n      throw new JpegError(\"invalid huffman sequence\");\n    }\n  }\n\n  function receive(length) {\n    let n = 0;\n    while (length > 0) {\n      n = (n << 1) | readBit();\n      length--;\n    }\n    return n;\n  }\n\n  function receiveAndExtend(length) {\n    if (length === 1) {\n      return readBit() === 1 ? 1 : -1;\n    }\n    const n = receive(length);\n    if (n >= 1 << (length - 1)) {\n      return n;\n    }\n    return n + (-1 << length) + 1;\n  }\n\n  function decodeBaseline(component, blockOffset) {\n    const t = decodeHuffman(component.huffmanTableDC);\n    const diff = t === 0 ? 0 : receiveAndExtend(t);\n    component.blockData[blockOffset] = component.pred += diff;\n    let k = 1;\n    while (k < 64) {\n      const rs = decodeHuffman(component.huffmanTableAC);\n      const s = rs & 15,\n        r = rs >> 4;\n      if (s === 0) {\n        if (r < 15) {\n          break;\n        }\n        k += 16;\n        continue;\n      }\n      k += r;\n      const z = dctZigZag[k];\n      component.blockData[blockOffset + z] = receiveAndExtend(s);\n      k++;\n    }\n  }\n\n  function decodeDCFirst(component, blockOffset) {\n    const t = decodeHuffman(component.huffmanTableDC);\n    const diff = t === 0 ? 0 : receiveAndExtend(t) << successive;\n    component.blockData[blockOffset] = component.pred += diff;\n  }\n\n  function decodeDCSuccessive(component, blockOffset) {\n    component.blockData[blockOffset] |= readBit() << successive;\n  }\n\n  let eobrun = 0;\n  function decodeACFirst(component, blockOffset) {\n    if (eobrun > 0) {\n      eobrun--;\n      return;\n    }\n    let k = spectralStart;\n    const e = spectralEnd;\n    while (k <= e) {\n      const rs = decodeHuffman(component.huffmanTableAC);\n      const s = rs & 15,\n        r = rs >> 4;\n      if (s === 0) {\n        if (r < 15) {\n          eobrun = receive(r) + (1 << r) - 1;\n          break;\n        }\n        k += 16;\n        continue;\n      }\n      k += r;\n      const z = dctZigZag[k];\n      component.blockData[blockOffset + z] =\n        receiveAndExtend(s) * (1 << successive);\n      k++;\n    }\n  }\n\n  let successiveACState = 0,\n    successiveACNextValue;\n  function decodeACSuccessive(component, blockOffset) {\n    let k = spectralStart;\n    const e = spectralEnd;\n    let r = 0;\n    let s;\n    let rs;\n    while (k <= e) {\n      const offsetZ = blockOffset + dctZigZag[k];\n      const sign = component.blockData[offsetZ] < 0 ? -1 : 1;\n      switch (successiveACState) {\n        case 0: // initial state\n          rs = decodeHuffman(component.huffmanTableAC);\n          s = rs & 15;\n          r = rs >> 4;\n          if (s === 0) {\n            if (r < 15) {\n              eobrun = receive(r) + (1 << r);\n              successiveACState = 4;\n            } else {\n              r = 16;\n              successiveACState = 1;\n            }\n          } else {\n            if (s !== 1) {\n              throw new JpegError(\"invalid ACn encoding\");\n            }\n            successiveACNextValue = receiveAndExtend(s);\n            successiveACState = r ? 2 : 3;\n          }\n          continue;\n        case 1: // skipping r zero items\n        case 2:\n          if (component.blockData[offsetZ]) {\n            component.blockData[offsetZ] += sign * (readBit() << successive);\n          } else {\n            r--;\n            if (r === 0) {\n              successiveACState = successiveACState === 2 ? 3 : 0;\n            }\n          }\n          break;\n        case 3: // set value for a zero item\n          if (component.blockData[offsetZ]) {\n            component.blockData[offsetZ] += sign * (readBit() << successive);\n          } else {\n            component.blockData[offsetZ] = successiveACNextValue << successive;\n            successiveACState = 0;\n          }\n          break;\n        case 4: // eob\n          if (component.blockData[offsetZ]) {\n            component.blockData[offsetZ] += sign * (readBit() << successive);\n          }\n          break;\n      }\n      k++;\n    }\n    if (successiveACState === 4) {\n      eobrun--;\n      if (eobrun === 0) {\n        successiveACState = 0;\n      }\n    }\n  }\n\n  let blockRow = 0;\n  function decodeMcu(component, decode, mcu, row, col) {\n    const mcuRow = (mcu / mcusPerLine) | 0;\n    const mcuCol = mcu % mcusPerLine;\n    blockRow = mcuRow * component.v + row;\n    const blockCol = mcuCol * component.h + col;\n    const blockOffset = getBlockBufferOffset(component, blockRow, blockCol);\n    decode(component, blockOffset);\n  }\n\n  function decodeBlock(component, decode, mcu) {\n    blockRow = (mcu / component.blocksPerLine) | 0;\n    const blockCol = mcu % component.blocksPerLine;\n    const blockOffset = getBlockBufferOffset(component, blockRow, blockCol);\n    decode(component, blockOffset);\n  }\n\n  const componentsLength = components.length;\n  let component, i, j, k, n;\n  let decodeFn;\n  if (progressive) {\n    if (spectralStart === 0) {\n      decodeFn = successivePrev === 0 ? decodeDCFirst : decodeDCSuccessive;\n    } else {\n      decodeFn = successivePrev === 0 ? decodeACFirst : decodeACSuccessive;\n    }\n  } else {\n    decodeFn = decodeBaseline;\n  }\n\n  let mcu = 0,\n    fileMarker;\n  let mcuExpected;\n  if (componentsLength === 1) {\n    mcuExpected = components[0].blocksPerLine * components[0].blocksPerColumn;\n  } else {\n    mcuExpected = mcusPerLine * frame.mcusPerColumn;\n  }\n\n  let h, v;\n  while (mcu <= mcuExpected) {\n    // reset interval stuff\n    const mcuToRead = resetInterval\n      ? Math.min(mcuExpected - mcu, resetInterval)\n      : mcuExpected;\n\n    // The `mcuToRead === 0` case should only occur when all of the expected\n    // MCU data has been already parsed, i.e. when `mcu === mcuExpected`, but\n    // some corrupt JPEG images contain more data than intended and we thus\n    // want to skip over any extra RSTx markers below (fixes issue11794.pdf).\n    if (mcuToRead > 0) {\n      for (i = 0; i < componentsLength; i++) {\n        components[i].pred = 0;\n      }\n      eobrun = 0;\n\n      if (componentsLength === 1) {\n        component = components[0];\n        for (n = 0; n < mcuToRead; n++) {\n          decodeBlock(component, decodeFn, mcu);\n          mcu++;\n        }\n      } else {\n        for (n = 0; n < mcuToRead; n++) {\n          for (i = 0; i < componentsLength; i++) {\n            component = components[i];\n            h = component.h;\n            v = component.v;\n            for (j = 0; j < v; j++) {\n              for (k = 0; k < h; k++) {\n                decodeMcu(component, decodeFn, mcu, j, k);\n              }\n            }\n          }\n          mcu++;\n        }\n      }\n    }\n\n    // find marker\n    bitsCount = 0;\n    fileMarker = findNextFileMarker(data, offset);\n    if (!fileMarker) {\n      break; // Reached the end of the image data without finding any marker.\n    }\n    if (fileMarker.invalid) {\n      // Some bad images seem to pad Scan blocks with e.g. zero bytes, skip\n      // past those to attempt to find a valid marker (fixes issue4090.pdf).\n      const partialMsg = mcuToRead > 0 ? \"unexpected\" : \"excessive\";\n      warn(\n        `decodeScan - ${partialMsg} MCU data, current marker is: ${fileMarker.invalid}`\n      );\n      offset = fileMarker.offset;\n    }\n    if (fileMarker.marker >= 0xffd0 && fileMarker.marker <= 0xffd7) {\n      // RSTx\n      offset += 2;\n    } else {\n      break;\n    }\n  }\n\n  return offset - startOffset;\n}\n\n// A port of poppler's IDCT method which in turn is taken from:\n//   Christoph Loeffler, Adriaan Ligtenberg, George S. Moschytz,\n//   'Practical Fast 1-D DCT Algorithms with 11 Multiplications',\n//   IEEE Intl. Conf. on Acoustics, Speech & Signal Processing, 1989,\n//   988-991.\nfunction quantizeAndInverse(component, blockBufferOffset, p) {\n  const qt = component.quantizationTable,\n    blockData = component.blockData;\n  let v0, v1, v2, v3, v4, v5, v6, v7;\n  let p0, p1, p2, p3, p4, p5, p6, p7;\n  let t;\n\n  if (!qt) {\n    throw new JpegError(\"missing required Quantization Table.\");\n  }\n\n  // inverse DCT on rows\n  for (let row = 0; row < 64; row += 8) {\n    // gather block data\n    p0 = blockData[blockBufferOffset + row];\n    p1 = blockData[blockBufferOffset + row + 1];\n    p2 = blockData[blockBufferOffset + row + 2];\n    p3 = blockData[blockBufferOffset + row + 3];\n    p4 = blockData[blockBufferOffset + row + 4];\n    p5 = blockData[blockBufferOffset + row + 5];\n    p6 = blockData[blockBufferOffset + row + 6];\n    p7 = blockData[blockBufferOffset + row + 7];\n\n    // dequant p0\n    p0 *= qt[row];\n\n    // check for all-zero AC coefficients\n    if ((p1 | p2 | p3 | p4 | p5 | p6 | p7) === 0) {\n      t = (dctSqrt2 * p0 + 512) >> 10;\n      p[row] = t;\n      p[row + 1] = t;\n      p[row + 2] = t;\n      p[row + 3] = t;\n      p[row + 4] = t;\n      p[row + 5] = t;\n      p[row + 6] = t;\n      p[row + 7] = t;\n      continue;\n    }\n    // dequant p1 ... p7\n    p1 *= qt[row + 1];\n    p2 *= qt[row + 2];\n    p3 *= qt[row + 3];\n    p4 *= qt[row + 4];\n    p5 *= qt[row + 5];\n    p6 *= qt[row + 6];\n    p7 *= qt[row + 7];\n\n    // stage 4\n    v0 = (dctSqrt2 * p0 + 128) >> 8;\n    v1 = (dctSqrt2 * p4 + 128) >> 8;\n    v2 = p2;\n    v3 = p6;\n    v4 = (dctSqrt1d2 * (p1 - p7) + 128) >> 8;\n    v7 = (dctSqrt1d2 * (p1 + p7) + 128) >> 8;\n    v5 = p3 << 4;\n    v6 = p5 << 4;\n\n    // stage 3\n    v0 = (v0 + v1 + 1) >> 1;\n    v1 = v0 - v1;\n    t = (v2 * dctSin6 + v3 * dctCos6 + 128) >> 8;\n    v2 = (v2 * dctCos6 - v3 * dctSin6 + 128) >> 8;\n    v3 = t;\n    v4 = (v4 + v6 + 1) >> 1;\n    v6 = v4 - v6;\n    v7 = (v7 + v5 + 1) >> 1;\n    v5 = v7 - v5;\n\n    // stage 2\n    v0 = (v0 + v3 + 1) >> 1;\n    v3 = v0 - v3;\n    v1 = (v1 + v2 + 1) >> 1;\n    v2 = v1 - v2;\n    t = (v4 * dctSin3 + v7 * dctCos3 + 2048) >> 12;\n    v4 = (v4 * dctCos3 - v7 * dctSin3 + 2048) >> 12;\n    v7 = t;\n    t = (v5 * dctSin1 + v6 * dctCos1 + 2048) >> 12;\n    v5 = (v5 * dctCos1 - v6 * dctSin1 + 2048) >> 12;\n    v6 = t;\n\n    // stage 1\n    p[row] = v0 + v7;\n    p[row + 7] = v0 - v7;\n    p[row + 1] = v1 + v6;\n    p[row + 6] = v1 - v6;\n    p[row + 2] = v2 + v5;\n    p[row + 5] = v2 - v5;\n    p[row + 3] = v3 + v4;\n    p[row + 4] = v3 - v4;\n  }\n\n  // inverse DCT on columns\n  for (let col = 0; col < 8; ++col) {\n    p0 = p[col];\n    p1 = p[col + 8];\n    p2 = p[col + 16];\n    p3 = p[col + 24];\n    p4 = p[col + 32];\n    p5 = p[col + 40];\n    p6 = p[col + 48];\n    p7 = p[col + 56];\n\n    // check for all-zero AC coefficients\n    if ((p1 | p2 | p3 | p4 | p5 | p6 | p7) === 0) {\n      t = (dctSqrt2 * p0 + 8192) >> 14;\n      // Convert to 8-bit.\n      if (t < -2040) {\n        t = 0;\n      } else if (t >= 2024) {\n        t = 255;\n      } else {\n        t = (t + 2056) >> 4;\n      }\n      blockData[blockBufferOffset + col] = t;\n      blockData[blockBufferOffset + col + 8] = t;\n      blockData[blockBufferOffset + col + 16] = t;\n      blockData[blockBufferOffset + col + 24] = t;\n      blockData[blockBufferOffset + col + 32] = t;\n      blockData[blockBufferOffset + col + 40] = t;\n      blockData[blockBufferOffset + col + 48] = t;\n      blockData[blockBufferOffset + col + 56] = t;\n      continue;\n    }\n\n    // stage 4\n    v0 = (dctSqrt2 * p0 + 2048) >> 12;\n    v1 = (dctSqrt2 * p4 + 2048) >> 12;\n    v2 = p2;\n    v3 = p6;\n    v4 = (dctSqrt1d2 * (p1 - p7) + 2048) >> 12;\n    v7 = (dctSqrt1d2 * (p1 + p7) + 2048) >> 12;\n    v5 = p3;\n    v6 = p5;\n\n    // stage 3\n    // Shift v0 by 128.5 << 5 here, so we don't need to shift p0...p7 when\n    // converting to UInt8 range later.\n    v0 = ((v0 + v1 + 1) >> 1) + 4112;\n    v1 = v0 - v1;\n    t = (v2 * dctSin6 + v3 * dctCos6 + 2048) >> 12;\n    v2 = (v2 * dctCos6 - v3 * dctSin6 + 2048) >> 12;\n    v3 = t;\n    v4 = (v4 + v6 + 1) >> 1;\n    v6 = v4 - v6;\n    v7 = (v7 + v5 + 1) >> 1;\n    v5 = v7 - v5;\n\n    // stage 2\n    v0 = (v0 + v3 + 1) >> 1;\n    v3 = v0 - v3;\n    v1 = (v1 + v2 + 1) >> 1;\n    v2 = v1 - v2;\n    t = (v4 * dctSin3 + v7 * dctCos3 + 2048) >> 12;\n    v4 = (v4 * dctCos3 - v7 * dctSin3 + 2048) >> 12;\n    v7 = t;\n    t = (v5 * dctSin1 + v6 * dctCos1 + 2048) >> 12;\n    v5 = (v5 * dctCos1 - v6 * dctSin1 + 2048) >> 12;\n    v6 = t;\n\n    // stage 1\n    p0 = v0 + v7;\n    p7 = v0 - v7;\n    p1 = v1 + v6;\n    p6 = v1 - v6;\n    p2 = v2 + v5;\n    p5 = v2 - v5;\n    p3 = v3 + v4;\n    p4 = v3 - v4;\n\n    // Convert to 8-bit integers.\n    if (p0 < 16) {\n      p0 = 0;\n    } else if (p0 >= 4080) {\n      p0 = 255;\n    } else {\n      p0 >>= 4;\n    }\n    if (p1 < 16) {\n      p1 = 0;\n    } else if (p1 >= 4080) {\n      p1 = 255;\n    } else {\n      p1 >>= 4;\n    }\n    if (p2 < 16) {\n      p2 = 0;\n    } else if (p2 >= 4080) {\n      p2 = 255;\n    } else {\n      p2 >>= 4;\n    }\n    if (p3 < 16) {\n      p3 = 0;\n    } else if (p3 >= 4080) {\n      p3 = 255;\n    } else {\n      p3 >>= 4;\n    }\n    if (p4 < 16) {\n      p4 = 0;\n    } else if (p4 >= 4080) {\n      p4 = 255;\n    } else {\n      p4 >>= 4;\n    }\n    if (p5 < 16) {\n      p5 = 0;\n    } else if (p5 >= 4080) {\n      p5 = 255;\n    } else {\n      p5 >>= 4;\n    }\n    if (p6 < 16) {\n      p6 = 0;\n    } else if (p6 >= 4080) {\n      p6 = 255;\n    } else {\n      p6 >>= 4;\n    }\n    if (p7 < 16) {\n      p7 = 0;\n    } else if (p7 >= 4080) {\n      p7 = 255;\n    } else {\n      p7 >>= 4;\n    }\n\n    // store block data\n    blockData[blockBufferOffset + col] = p0;\n    blockData[blockBufferOffset + col + 8] = p1;\n    blockData[blockBufferOffset + col + 16] = p2;\n    blockData[blockBufferOffset + col + 24] = p3;\n    blockData[blockBufferOffset + col + 32] = p4;\n    blockData[blockBufferOffset + col + 40] = p5;\n    blockData[blockBufferOffset + col + 48] = p6;\n    blockData[blockBufferOffset + col + 56] = p7;\n  }\n}\n\nfunction buildComponentData(frame, component) {\n  const blocksPerLine = component.blocksPerLine;\n  const blocksPerColumn = component.blocksPerColumn;\n  const computationBuffer = new Int16Array(64);\n\n  for (let blockRow = 0; blockRow < blocksPerColumn; blockRow++) {\n    for (let blockCol = 0; blockCol < blocksPerLine; blockCol++) {\n      const offset = getBlockBufferOffset(component, blockRow, blockCol);\n      quantizeAndInverse(component, offset, computationBuffer);\n    }\n  }\n  return component.blockData;\n}\n\nfunction findNextFileMarker(data, currentPos, startPos = currentPos) {\n  const maxPos = data.length - 1;\n  let newPos = startPos < currentPos ? startPos : currentPos;\n\n  if (currentPos >= maxPos) {\n    return null; // Don't attempt to read non-existent data and just return.\n  }\n  const currentMarker = readUint16(data, currentPos);\n  if (currentMarker >= 0xffc0 && currentMarker <= 0xfffe) {\n    return {\n      invalid: null,\n      marker: currentMarker,\n      offset: currentPos,\n    };\n  }\n  let newMarker = readUint16(data, newPos);\n  while (!(newMarker >= 0xffc0 && newMarker <= 0xfffe)) {\n    if (++newPos >= maxPos) {\n      return null; // Don't attempt to read non-existent data and just return.\n    }\n    newMarker = readUint16(data, newPos);\n  }\n  return {\n    invalid: currentMarker.toString(16),\n    marker: newMarker,\n    offset: newPos,\n  };\n}\n\nclass JpegImage {\n  constructor({ decodeTransform = null, colorTransform = -1 } = {}) {\n    this._decodeTransform = decodeTransform;\n    this._colorTransform = colorTransform;\n  }\n\n  parse(data, { dnlScanLines = null } = {}) {\n    function readDataBlock() {\n      const length = readUint16(data, offset);\n      offset += 2;\n      let endOffset = offset + length - 2;\n\n      const fileMarker = findNextFileMarker(data, endOffset, offset);\n      if (fileMarker && fileMarker.invalid) {\n        warn(\n          \"readDataBlock - incorrect length, current marker is: \" +\n            fileMarker.invalid\n        );\n        endOffset = fileMarker.offset;\n      }\n\n      const array = data.subarray(offset, endOffset);\n      offset += array.length;\n      return array;\n    }\n\n    function prepareComponents(frame) {\n      const mcusPerLine = Math.ceil(frame.samplesPerLine / 8 / frame.maxH);\n      const mcusPerColumn = Math.ceil(frame.scanLines / 8 / frame.maxV);\n      for (let i = 0, ii = frame.components.length; i < ii; i++) {\n        const component = frame.components[i];\n        const blocksPerLine = Math.ceil(\n          (Math.ceil(frame.samplesPerLine / 8) * component.h) / frame.maxH\n        );\n        const blocksPerColumn = Math.ceil(\n          (Math.ceil(frame.scanLines / 8) * component.v) / frame.maxV\n        );\n        const blocksPerLineForMcu = mcusPerLine * component.h;\n        const blocksPerColumnForMcu = mcusPerColumn * component.v;\n\n        const blocksBufferSize =\n          64 * blocksPerColumnForMcu * (blocksPerLineForMcu + 1);\n        component.blockData = new Int16Array(blocksBufferSize);\n        component.blocksPerLine = blocksPerLine;\n        component.blocksPerColumn = blocksPerColumn;\n      }\n      frame.mcusPerLine = mcusPerLine;\n      frame.mcusPerColumn = mcusPerColumn;\n    }\n\n    let offset = 0;\n    let jfif = null;\n    let adobe = null;\n    let frame, resetInterval;\n    let numSOSMarkers = 0;\n    const quantizationTables = [];\n    const huffmanTablesAC = [],\n      huffmanTablesDC = [];\n\n    let fileMarker = readUint16(data, offset);\n    offset += 2;\n    if (fileMarker !== /* SOI (Start of Image) = */ 0xffd8) {\n      throw new JpegError(\"SOI not found\");\n    }\n    fileMarker = readUint16(data, offset);\n    offset += 2;\n\n    markerLoop: while (fileMarker !== /* EOI (End of Image) = */ 0xffd9) {\n      let i, j, l;\n      switch (fileMarker) {\n        case 0xffe0: // APP0 (Application Specific)\n        case 0xffe1: // APP1\n        case 0xffe2: // APP2\n        case 0xffe3: // APP3\n        case 0xffe4: // APP4\n        case 0xffe5: // APP5\n        case 0xffe6: // APP6\n        case 0xffe7: // APP7\n        case 0xffe8: // APP8\n        case 0xffe9: // APP9\n        case 0xffea: // APP10\n        case 0xffeb: // APP11\n        case 0xffec: // APP12\n        case 0xffed: // APP13\n        case 0xffee: // APP14\n        case 0xffef: // APP15\n        case 0xfffe: // COM (Comment)\n          const appData = readDataBlock();\n\n          if (fileMarker === 0xffe0) {\n            // 'JFIF\\x00'\n            if (\n              appData[0] === 0x4a &&\n              appData[1] === 0x46 &&\n              appData[2] === 0x49 &&\n              appData[3] === 0x46 &&\n              appData[4] === 0\n            ) {\n              jfif = {\n                version: { major: appData[5], minor: appData[6] },\n                densityUnits: appData[7],\n                xDensity: (appData[8] << 8) | appData[9],\n                yDensity: (appData[10] << 8) | appData[11],\n                thumbWidth: appData[12],\n                thumbHeight: appData[13],\n                thumbData: appData.subarray(\n                  14,\n                  14 + 3 * appData[12] * appData[13]\n                ),\n              };\n            }\n          }\n          // TODO APP1 - Exif\n          if (fileMarker === 0xffee) {\n            // 'Adobe'\n            if (\n              appData[0] === 0x41 &&\n              appData[1] === 0x64 &&\n              appData[2] === 0x6f &&\n              appData[3] === 0x62 &&\n              appData[4] === 0x65\n            ) {\n              adobe = {\n                version: (appData[5] << 8) | appData[6],\n                flags0: (appData[7] << 8) | appData[8],\n                flags1: (appData[9] << 8) | appData[10],\n                transformCode: appData[11],\n              };\n            }\n          }\n          break;\n\n        case 0xffdb: // DQT (Define Quantization Tables)\n          const quantizationTablesLength = readUint16(data, offset);\n          offset += 2;\n          const quantizationTablesEnd = quantizationTablesLength + offset - 2;\n          let z;\n          while (offset < quantizationTablesEnd) {\n            const quantizationTableSpec = data[offset++];\n            const tableData = new Uint16Array(64);\n            if (quantizationTableSpec >> 4 === 0) {\n              // 8 bit values\n              for (j = 0; j < 64; j++) {\n                z = dctZigZag[j];\n                tableData[z] = data[offset++];\n              }\n            } else if (quantizationTableSpec >> 4 === 1) {\n              // 16 bit values\n              for (j = 0; j < 64; j++) {\n                z = dctZigZag[j];\n                tableData[z] = readUint16(data, offset);\n                offset += 2;\n              }\n            } else {\n              throw new JpegError(\"DQT - invalid table spec\");\n            }\n            quantizationTables[quantizationTableSpec & 15] = tableData;\n          }\n          break;\n\n        case 0xffc0: // SOF0 (Start of Frame, Baseline DCT)\n        case 0xffc1: // SOF1 (Start of Frame, Extended DCT)\n        case 0xffc2: // SOF2 (Start of Frame, Progressive DCT)\n          if (frame) {\n            throw new JpegError(\"Only single frame JPEGs supported\");\n          }\n          offset += 2; // Skip marker length.\n\n          frame = {};\n          frame.extended = fileMarker === 0xffc1;\n          frame.progressive = fileMarker === 0xffc2;\n          frame.precision = data[offset++];\n          const sofScanLines = readUint16(data, offset);\n          offset += 2;\n          frame.scanLines = dnlScanLines || sofScanLines;\n          frame.samplesPerLine = readUint16(data, offset);\n          offset += 2;\n          frame.components = [];\n          frame.componentIds = {};\n          const componentsCount = data[offset++];\n          let maxH = 0,\n            maxV = 0;\n          for (i = 0; i < componentsCount; i++) {\n            const componentId = data[offset];\n            const h = data[offset + 1] >> 4;\n            const v = data[offset + 1] & 15;\n            if (maxH < h) {\n              maxH = h;\n            }\n            if (maxV < v) {\n              maxV = v;\n            }\n            const qId = data[offset + 2];\n            l = frame.components.push({\n              h,\n              v,\n              quantizationId: qId,\n              quantizationTable: null, // See comment below.\n            });\n            frame.componentIds[componentId] = l - 1;\n            offset += 3;\n          }\n          frame.maxH = maxH;\n          frame.maxV = maxV;\n          prepareComponents(frame);\n          break;\n\n        case 0xffc4: // DHT (Define Huffman Tables)\n          const huffmanLength = readUint16(data, offset);\n          offset += 2;\n          for (i = 2; i < huffmanLength; ) {\n            const huffmanTableSpec = data[offset++];\n            const codeLengths = new Uint8Array(16);\n            let codeLengthSum = 0;\n            for (j = 0; j < 16; j++, offset++) {\n              codeLengthSum += codeLengths[j] = data[offset];\n            }\n            const huffmanValues = new Uint8Array(codeLengthSum);\n            for (j = 0; j < codeLengthSum; j++, offset++) {\n              huffmanValues[j] = data[offset];\n            }\n            i += 17 + codeLengthSum;\n\n            (huffmanTableSpec >> 4 === 0 ? huffmanTablesDC : huffmanTablesAC)[\n              huffmanTableSpec & 15\n            ] = buildHuffmanTable(codeLengths, huffmanValues);\n          }\n          break;\n\n        case 0xffdd: // DRI (Define Restart Interval)\n          offset += 2; // Skip marker length.\n\n          resetInterval = readUint16(data, offset);\n          offset += 2;\n          break;\n\n        case 0xffda: // SOS (Start of Scan)\n          // A DNL marker (0xFFDC), if it exists, is only allowed at the end\n          // of the first scan segment and may only occur once in an image.\n          // Furthermore, to prevent an infinite loop, do *not* attempt to\n          // parse DNL markers during re-parsing of the JPEG scan data.\n          const parseDNLMarker = ++numSOSMarkers === 1 && !dnlScanLines;\n\n          offset += 2; // Skip marker length.\n\n          const selectorsCount = data[offset++],\n            components = [];\n          for (i = 0; i < selectorsCount; i++) {\n            const index = data[offset++];\n            const componentIndex = frame.componentIds[index];\n            const component = frame.components[componentIndex];\n            component.index = index;\n            const tableSpec = data[offset++];\n            component.huffmanTableDC = huffmanTablesDC[tableSpec >> 4];\n            component.huffmanTableAC = huffmanTablesAC[tableSpec & 15];\n            components.push(component);\n          }\n          const spectralStart = data[offset++],\n            spectralEnd = data[offset++],\n            successiveApproximation = data[offset++];\n          try {\n            const processed = decodeScan(\n              data,\n              offset,\n              frame,\n              components,\n              resetInterval,\n              spectralStart,\n              spectralEnd,\n              successiveApproximation >> 4,\n              successiveApproximation & 15,\n              parseDNLMarker\n            );\n            offset += processed;\n          } catch (ex) {\n            if (ex instanceof DNLMarkerError) {\n              warn(`${ex.message} -- attempting to re-parse the JPEG image.`);\n              return this.parse(data, { dnlScanLines: ex.scanLines });\n            } else if (ex instanceof EOIMarkerError) {\n              warn(`${ex.message} -- ignoring the rest of the image data.`);\n              break markerLoop;\n            }\n            throw ex;\n          }\n          break;\n\n        case 0xffdc: // DNL (Define Number of Lines)\n          // Ignore the marker, since it's being handled in `decodeScan`.\n          offset += 4;\n          break;\n\n        case 0xffff: // Fill bytes\n          if (data[offset] !== 0xff) {\n            // Avoid skipping a valid marker.\n            offset--;\n          }\n          break;\n\n        default:\n          // Could be incorrect encoding -- the last 0xFF byte of the previous\n          // block could have been eaten by the encoder, hence we fallback to\n          // `startPos = offset - 3` when looking for the next valid marker.\n          const nextFileMarker = findNextFileMarker(\n            data,\n            /* currentPos = */ offset - 2,\n            /* startPos = */ offset - 3\n          );\n          if (nextFileMarker && nextFileMarker.invalid) {\n            warn(\n              \"JpegImage.parse - unexpected data, current marker is: \" +\n                nextFileMarker.invalid\n            );\n            offset = nextFileMarker.offset;\n            break;\n          }\n          if (!nextFileMarker || offset >= data.length - 1) {\n            warn(\n              \"JpegImage.parse - reached the end of the image data \" +\n                \"without finding an EOI marker (0xFFD9).\"\n            );\n            break markerLoop;\n          }\n          throw new JpegError(\n            \"JpegImage.parse - unknown marker: \" + fileMarker.toString(16)\n          );\n      }\n      fileMarker = readUint16(data, offset);\n      offset += 2;\n    }\n\n    this.width = frame.samplesPerLine;\n    this.height = frame.scanLines;\n    this.jfif = jfif;\n    this.adobe = adobe;\n    this.components = [];\n    for (let i = 0, ii = frame.components.length; i < ii; i++) {\n      const component = frame.components[i];\n\n      // Prevent errors when DQT markers are placed after SOF{n} markers,\n      // by assigning the `quantizationTable` entry after the entire image\n      // has been parsed (fixes issue7406.pdf).\n      const quantizationTable = quantizationTables[component.quantizationId];\n      if (quantizationTable) {\n        component.quantizationTable = quantizationTable;\n      }\n\n      this.components.push({\n        index: component.index,\n        output: buildComponentData(frame, component),\n        scaleX: component.h / frame.maxH,\n        scaleY: component.v / frame.maxV,\n        blocksPerLine: component.blocksPerLine,\n        blocksPerColumn: component.blocksPerColumn,\n      });\n    }\n    this.numComponents = this.components.length;\n    return undefined;\n  }\n\n  _getLinearizedBlockData(width, height, isSourcePDF = false) {\n    const scaleX = this.width / width,\n      scaleY = this.height / height;\n\n    let component, componentScaleX, componentScaleY, blocksPerScanline;\n    let x, y, i, j, k;\n    let index;\n    let offset = 0;\n    let output;\n    const numComponents = this.components.length;\n    const dataLength = width * height * numComponents;\n    const data = new Uint8ClampedArray(dataLength);\n    const xScaleBlockOffset = new Uint32Array(width);\n    const mask3LSB = 0xfffffff8; // used to clear the 3 LSBs\n    let lastComponentScaleX;\n\n    for (i = 0; i < numComponents; i++) {\n      component = this.components[i];\n      componentScaleX = component.scaleX * scaleX;\n      componentScaleY = component.scaleY * scaleY;\n      offset = i;\n      output = component.output;\n      blocksPerScanline = (component.blocksPerLine + 1) << 3;\n      // Precalculate the `xScaleBlockOffset`. Since it doesn't depend on the\n      // component data, that's only necessary when `componentScaleX` changes.\n      if (componentScaleX !== lastComponentScaleX) {\n        for (x = 0; x < width; x++) {\n          j = 0 | (x * componentScaleX);\n          xScaleBlockOffset[x] = ((j & mask3LSB) << 3) | (j & 7);\n        }\n        lastComponentScaleX = componentScaleX;\n      }\n      // linearize the blocks of the component\n      for (y = 0; y < height; y++) {\n        j = 0 | (y * componentScaleY);\n        index = (blocksPerScanline * (j & mask3LSB)) | ((j & 7) << 3);\n        for (x = 0; x < width; x++) {\n          data[offset] = output[index + xScaleBlockOffset[x]];\n          offset += numComponents;\n        }\n      }\n    }\n\n    // decodeTransform contains pairs of multiplier (-256..256) and additive\n    let transform = this._decodeTransform;\n\n    // In PDF files, JPEG images with CMYK colour spaces are usually inverted\n    // (this can be observed by extracting the raw image data).\n    // Since the conversion algorithms (see below) were written primarily for\n    // the PDF use-cases, attempting to use `JpegImage` to parse standalone\n    // JPEG (CMYK) images may thus result in inverted images (see issue 9513).\n    //\n    // Unfortunately it's not (always) possible to tell, from the image data\n    // alone, if it needs to be inverted. Thus in an attempt to provide better\n    // out-of-box behaviour when `JpegImage` is used standalone, default to\n    // inverting JPEG (CMYK) images if and only if the image data does *not*\n    // come from a PDF file and no `decodeTransform` was passed by the user.\n    if (!isSourcePDF && numComponents === 4 && !transform) {\n      transform = new Int32Array([-256, 255, -256, 255, -256, 255, -256, 255]);\n    }\n\n    if (transform) {\n      for (i = 0; i < dataLength; ) {\n        for (j = 0, k = 0; j < numComponents; j++, i++, k += 2) {\n          data[i] = ((data[i] * transform[k]) >> 8) + transform[k + 1];\n        }\n      }\n    }\n    return data;\n  }\n\n  get _isColorConversionNeeded() {\n    if (this.adobe) {\n      // The adobe transform marker overrides any previous setting.\n      return !!this.adobe.transformCode;\n    }\n    if (this.numComponents === 3) {\n      if (this._colorTransform === 0) {\n        // If the Adobe transform marker is not present and the image\n        // dictionary has a 'ColorTransform' entry, explicitly set to `0`,\n        // then the colours should *not* be transformed.\n        return false;\n      } else if (\n        this.components[0].index === /* \"R\" = */ 0x52 &&\n        this.components[1].index === /* \"G\" = */ 0x47 &&\n        this.components[2].index === /* \"B\" = */ 0x42\n      ) {\n        // If the three components are indexed as RGB in ASCII\n        // then the colours should *not* be transformed.\n        return false;\n      }\n      return true;\n    }\n    // `this.numComponents !== 3`\n    if (this._colorTransform === 1) {\n      // If the Adobe transform marker is not present and the image\n      // dictionary has a 'ColorTransform' entry, explicitly set to `1`,\n      // then the colours should be transformed.\n      return true;\n    }\n    return false;\n  }\n\n  _convertYccToRgb(data) {\n    let Y, Cb, Cr;\n    for (let i = 0, length = data.length; i < length; i += 3) {\n      Y = data[i];\n      Cb = data[i + 1];\n      Cr = data[i + 2];\n      data[i] = Y - 179.456 + 1.402 * Cr;\n      data[i + 1] = Y + 135.459 - 0.344 * Cb - 0.714 * Cr;\n      data[i + 2] = Y - 226.816 + 1.772 * Cb;\n    }\n    return data;\n  }\n\n  _convertYcckToRgb(data) {\n    let Y, Cb, Cr, k;\n    let offset = 0;\n    for (let i = 0, length = data.length; i < length; i += 4) {\n      Y = data[i];\n      Cb = data[i + 1];\n      Cr = data[i + 2];\n      k = data[i + 3];\n\n      data[offset++] =\n        -122.67195406894 +\n        Cb *\n          (-6.60635669420364e-5 * Cb +\n            0.000437130475926232 * Cr -\n            5.4080610064599e-5 * Y +\n            0.00048449797120281 * k -\n            0.154362151871126) +\n        Cr *\n          (-0.000957964378445773 * Cr +\n            0.000817076911346625 * Y -\n            0.00477271405408747 * k +\n            1.53380253221734) +\n        Y *\n          (0.000961250184130688 * Y -\n            0.00266257332283933 * k +\n            0.48357088451265) +\n        k * (-0.000336197177618394 * k + 0.484791561490776);\n\n      data[offset++] =\n        107.268039397724 +\n        Cb *\n          (2.19927104525741e-5 * Cb -\n            0.000640992018297945 * Cr +\n            0.000659397001245577 * Y +\n            0.000426105652938837 * k -\n            0.176491792462875) +\n        Cr *\n          (-0.000778269941513683 * Cr +\n            0.00130872261408275 * Y +\n            0.000770482631801132 * k -\n            0.151051492775562) +\n        Y *\n          (0.00126935368114843 * Y -\n            0.00265090189010898 * k +\n            0.25802910206845) +\n        k * (-0.000318913117588328 * k - 0.213742400323665);\n\n      data[offset++] =\n        -20.810012546947 +\n        Cb *\n          (-0.000570115196973677 * Cb -\n            2.63409051004589e-5 * Cr +\n            0.0020741088115012 * Y -\n            0.00288260236853442 * k +\n            0.814272968359295) +\n        Cr *\n          (-1.53496057440975e-5 * Cr -\n            0.000132689043961446 * Y +\n            0.000560833691242812 * k -\n            0.195152027534049) +\n        Y *\n          (0.00174418132927582 * Y -\n            0.00255243321439347 * k +\n            0.116935020465145) +\n        k * (-0.000343531996510555 * k + 0.24165260232407);\n    }\n    // Ensure that only the converted RGB data is returned.\n    return data.subarray(0, offset);\n  }\n\n  _convertYcckToCmyk(data) {\n    let Y, Cb, Cr;\n    for (let i = 0, length = data.length; i < length; i += 4) {\n      Y = data[i];\n      Cb = data[i + 1];\n      Cr = data[i + 2];\n      data[i] = 434.456 - Y - 1.402 * Cr;\n      data[i + 1] = 119.541 - Y + 0.344 * Cb + 0.714 * Cr;\n      data[i + 2] = 481.816 - Y - 1.772 * Cb;\n      // K in data[i + 3] is unchanged\n    }\n    return data;\n  }\n\n  _convertCmykToRgb(data) {\n    let c, m, y, k;\n    let offset = 0;\n    for (let i = 0, length = data.length; i < length; i += 4) {\n      c = data[i];\n      m = data[i + 1];\n      y = data[i + 2];\n      k = data[i + 3];\n\n      data[offset++] =\n        255 +\n        c *\n          (-0.00006747147073602441 * c +\n            0.0008379262121013727 * m +\n            0.0002894718188643294 * y +\n            0.003264231057537806 * k -\n            1.1185611867203937) +\n        m *\n          (0.000026374107616089405 * m -\n            0.00008626949158638572 * y -\n            0.0002748769067499491 * k -\n            0.02155688794978967) +\n        y *\n          (-0.00003878099212869363 * y -\n            0.0003267808279485286 * k +\n            0.0686742238595345) -\n        k * (0.0003361971776183937 * k + 0.7430659151342254);\n\n      data[offset++] =\n        255 +\n        c *\n          (0.00013596372813588848 * c +\n            0.000924537132573585 * m +\n            0.00010567359618683593 * y +\n            0.0004791864687436512 * k -\n            0.3109689587515875) +\n        m *\n          (-0.00023545346108370344 * m +\n            0.0002702845253534714 * y +\n            0.0020200308977307156 * k -\n            0.7488052167015494) +\n        y *\n          (0.00006834815998235662 * y +\n            0.00015168452363460973 * k -\n            0.09751927774728933) -\n        k * (0.0003189131175883281 * k + 0.7364883807733168);\n\n      data[offset++] =\n        255 +\n        c *\n          (0.000013598650411385307 * c +\n            0.00012423956175490851 * m +\n            0.0004751985097583589 * y -\n            0.0000036729317476630422 * k -\n            0.05562186980264034) +\n        m *\n          (0.00016141380598724676 * m +\n            0.0009692239130725186 * y +\n            0.0007782692450036253 * k -\n            0.44015232367526463) +\n        y *\n          (5.068882914068769e-7 * y +\n            0.0017778369011375071 * k -\n            0.7591454649749609) -\n        k * (0.0003435319965105553 * k + 0.7063770186160144);\n    }\n    // Ensure that only the converted RGB data is returned.\n    return data.subarray(0, offset);\n  }\n\n  getData({ width, height, forceRGB = false, isSourcePDF = false }) {\n    if (\n      typeof PDFJSDev === \"undefined\" ||\n      PDFJSDev.test(\"!PRODUCTION || TESTING\")\n    ) {\n      assert(\n        isSourcePDF === true,\n        'JpegImage.getData: Unexpected \"isSourcePDF\" value for PDF files.'\n      );\n    }\n    if (this.numComponents > 4) {\n      throw new JpegError(\"Unsupported color mode\");\n    }\n    // Type of data: Uint8ClampedArray(width * height * numComponents)\n    const data = this._getLinearizedBlockData(width, height, isSourcePDF);\n\n    if (this.numComponents === 1 && forceRGB) {\n      const dataLength = data.length;\n      const rgbData = new Uint8ClampedArray(dataLength * 3);\n      let offset = 0;\n      for (let i = 0; i < dataLength; i++) {\n        const grayColor = data[i];\n        rgbData[offset++] = grayColor;\n        rgbData[offset++] = grayColor;\n        rgbData[offset++] = grayColor;\n      }\n      return rgbData;\n    } else if (this.numComponents === 3 && this._isColorConversionNeeded) {\n      return this._convertYccToRgb(data);\n    } else if (this.numComponents === 4) {\n      if (this._isColorConversionNeeded) {\n        if (forceRGB) {\n          return this._convertYcckToRgb(data);\n        }\n        return this._convertYcckToCmyk(data);\n      } else if (forceRGB) {\n        return this._convertCmykToRgb(data);\n      }\n    }\n    return data;\n  }\n}\n\nexport { JpegImage };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { BaseException, info, unreachable, warn } from \"../shared/util.js\";\nimport { log2, readUint16, readUint32 } from \"./core_utils.js\";\nimport { ArithmeticDecoder } from \"./arithmetic_decoder.js\";\n\nclass JpxError extends BaseException {\n  constructor(msg) {\n    super(`JPX error: ${msg}`, \"JpxError\");\n  }\n}\n\n// Table E.1\nconst SubbandsGainLog2 = {\n  LL: 0,\n  LH: 1,\n  HL: 1,\n  HH: 2,\n};\n\nclass JpxImage {\n  constructor() {\n    this.failOnCorruptedImage = false;\n  }\n\n  parse(data) {\n    const head = readUint16(data, 0);\n    // No box header, immediate start of codestream (SOC)\n    if (head === 0xff4f) {\n      this.parseCodestream(data, 0, data.length);\n      return;\n    }\n\n    const length = data.length;\n    let position = 0;\n    while (position < length) {\n      let headerSize = 8;\n      let lbox = readUint32(data, position);\n      const tbox = readUint32(data, position + 4);\n      position += headerSize;\n      if (lbox === 1) {\n        // XLBox: read UInt64 according to spec.\n        // JavaScript's int precision of 53 bit should be sufficient here.\n        lbox =\n          readUint32(data, position) * 4294967296 +\n          readUint32(data, position + 4);\n        position += 8;\n        headerSize += 8;\n      }\n      if (lbox === 0) {\n        lbox = length - position + headerSize;\n      }\n      if (lbox < headerSize) {\n        throw new JpxError(\"Invalid box field size\");\n      }\n      const dataLength = lbox - headerSize;\n      let jumpDataLength = true;\n      switch (tbox) {\n        case 0x6a703268: // 'jp2h'\n          jumpDataLength = false; // parsing child boxes\n          break;\n        case 0x636f6c72: // 'colr'\n          // Colorspaces are not used, the CS from the PDF is used.\n          const method = data[position];\n          if (method === 1) {\n            // enumerated colorspace\n            const colorspace = readUint32(data, position + 3);\n            switch (colorspace) {\n              case 16: // this indicates a sRGB colorspace\n              case 17: // this indicates a grayscale colorspace\n              case 18: // this indicates a YUV colorspace\n                break;\n              default:\n                warn(\"Unknown colorspace \" + colorspace);\n                break;\n            }\n          } else if (method === 2) {\n            info(\"ICC profile not supported\");\n          }\n          break;\n        case 0x6a703263: // 'jp2c'\n          this.parseCodestream(data, position, position + dataLength);\n          break;\n        case 0x6a502020: // 'jP\\024\\024'\n          if (readUint32(data, position) !== 0x0d0a870a) {\n            warn(\"Invalid JP2 signature\");\n          }\n          break;\n        // The following header types are valid but currently not used:\n        case 0x6a501a1a: // 'jP\\032\\032'\n        case 0x66747970: // 'ftyp'\n        case 0x72726571: // 'rreq'\n        case 0x72657320: // 'res '\n        case 0x69686472: // 'ihdr'\n          break;\n        default:\n          const headerType = String.fromCharCode(\n            (tbox >> 24) & 0xff,\n            (tbox >> 16) & 0xff,\n            (tbox >> 8) & 0xff,\n            tbox & 0xff\n          );\n          warn(`Unsupported header type ${tbox} (${headerType}).`);\n          break;\n      }\n      if (jumpDataLength) {\n        position += dataLength;\n      }\n    }\n  }\n\n  parseImageProperties(stream) {\n    let newByte = stream.getByte();\n    while (newByte >= 0) {\n      const oldByte = newByte;\n      newByte = stream.getByte();\n      const code = (oldByte << 8) | newByte;\n      // Image and tile size (SIZ)\n      if (code === 0xff51) {\n        stream.skip(4);\n        const Xsiz = stream.getInt32() >>> 0; // Byte 4\n        const Ysiz = stream.getInt32() >>> 0; // Byte 8\n        const XOsiz = stream.getInt32() >>> 0; // Byte 12\n        const YOsiz = stream.getInt32() >>> 0; // Byte 16\n        stream.skip(16);\n        const Csiz = stream.getUint16(); // Byte 36\n        this.width = Xsiz - XOsiz;\n        this.height = Ysiz - YOsiz;\n        this.componentsCount = Csiz;\n        // Results are always returned as `Uint8ClampedArray`s.\n        this.bitsPerComponent = 8;\n        return;\n      }\n    }\n    throw new JpxError(\"No size marker found in JPX stream\");\n  }\n\n  parseCodestream(data, start, end) {\n    const context = {};\n    let doNotRecover = false;\n    try {\n      let position = start;\n      while (position + 1 < end) {\n        const code = readUint16(data, position);\n        position += 2;\n\n        let length = 0,\n          j,\n          sqcd,\n          spqcds,\n          spqcdSize,\n          scalarExpounded,\n          tile;\n        switch (code) {\n          case 0xff4f: // Start of codestream (SOC)\n            context.mainHeader = true;\n            break;\n          case 0xffd9: // End of codestream (EOC)\n            break;\n          case 0xff51: // Image and tile size (SIZ)\n            length = readUint16(data, position);\n            const siz = {};\n            siz.Xsiz = readUint32(data, position + 4);\n            siz.Ysiz = readUint32(data, position + 8);\n            siz.XOsiz = readUint32(data, position + 12);\n            siz.YOsiz = readUint32(data, position + 16);\n            siz.XTsiz = readUint32(data, position + 20);\n            siz.YTsiz = readUint32(data, position + 24);\n            siz.XTOsiz = readUint32(data, position + 28);\n            siz.YTOsiz = readUint32(data, position + 32);\n            const componentsCount = readUint16(data, position + 36);\n            siz.Csiz = componentsCount;\n            const components = [];\n            j = position + 38;\n            for (let i = 0; i < componentsCount; i++) {\n              const component = {\n                precision: (data[j] & 0x7f) + 1,\n                isSigned: !!(data[j] & 0x80),\n                XRsiz: data[j + 1],\n                YRsiz: data[j + 2],\n              };\n              j += 3;\n              calculateComponentDimensions(component, siz);\n              components.push(component);\n            }\n            context.SIZ = siz;\n            context.components = components;\n            calculateTileGrids(context, components);\n            context.QCC = [];\n            context.COC = [];\n            break;\n          case 0xff5c: // Quantization default (QCD)\n            length = readUint16(data, position);\n            const qcd = {};\n            j = position + 2;\n            sqcd = data[j++];\n            switch (sqcd & 0x1f) {\n              case 0:\n                spqcdSize = 8;\n                scalarExpounded = true;\n                break;\n              case 1:\n                spqcdSize = 16;\n                scalarExpounded = false;\n                break;\n              case 2:\n                spqcdSize = 16;\n                scalarExpounded = true;\n                break;\n              default:\n                throw new Error(\"Invalid SQcd value \" + sqcd);\n            }\n            qcd.noQuantization = spqcdSize === 8;\n            qcd.scalarExpounded = scalarExpounded;\n            qcd.guardBits = sqcd >> 5;\n            spqcds = [];\n            while (j < length + position) {\n              const spqcd = {};\n              if (spqcdSize === 8) {\n                spqcd.epsilon = data[j++] >> 3;\n                spqcd.mu = 0;\n              } else {\n                spqcd.epsilon = data[j] >> 3;\n                spqcd.mu = ((data[j] & 0x7) << 8) | data[j + 1];\n                j += 2;\n              }\n              spqcds.push(spqcd);\n            }\n            qcd.SPqcds = spqcds;\n            if (context.mainHeader) {\n              context.QCD = qcd;\n            } else {\n              context.currentTile.QCD = qcd;\n              context.currentTile.QCC = [];\n            }\n            break;\n          case 0xff5d: // Quantization component (QCC)\n            length = readUint16(data, position);\n            const qcc = {};\n            j = position + 2;\n            let cqcc;\n            if (context.SIZ.Csiz < 257) {\n              cqcc = data[j++];\n            } else {\n              cqcc = readUint16(data, j);\n              j += 2;\n            }\n            sqcd = data[j++];\n            switch (sqcd & 0x1f) {\n              case 0:\n                spqcdSize = 8;\n                scalarExpounded = true;\n                break;\n              case 1:\n                spqcdSize = 16;\n                scalarExpounded = false;\n                break;\n              case 2:\n                spqcdSize = 16;\n                scalarExpounded = true;\n                break;\n              default:\n                throw new Error(\"Invalid SQcd value \" + sqcd);\n            }\n            qcc.noQuantization = spqcdSize === 8;\n            qcc.scalarExpounded = scalarExpounded;\n            qcc.guardBits = sqcd >> 5;\n            spqcds = [];\n            while (j < length + position) {\n              const spqcd = {};\n              if (spqcdSize === 8) {\n                spqcd.epsilon = data[j++] >> 3;\n                spqcd.mu = 0;\n              } else {\n                spqcd.epsilon = data[j] >> 3;\n                spqcd.mu = ((data[j] & 0x7) << 8) | data[j + 1];\n                j += 2;\n              }\n              spqcds.push(spqcd);\n            }\n            qcc.SPqcds = spqcds;\n            if (context.mainHeader) {\n              context.QCC[cqcc] = qcc;\n            } else {\n              context.currentTile.QCC[cqcc] = qcc;\n            }\n            break;\n          case 0xff52: // Coding style default (COD)\n            length = readUint16(data, position);\n            const cod = {};\n            j = position + 2;\n            const scod = data[j++];\n            cod.entropyCoderWithCustomPrecincts = !!(scod & 1);\n            cod.sopMarkerUsed = !!(scod & 2);\n            cod.ephMarkerUsed = !!(scod & 4);\n            cod.progressionOrder = data[j++];\n            cod.layersCount = readUint16(data, j);\n            j += 2;\n            cod.multipleComponentTransform = data[j++];\n\n            cod.decompositionLevelsCount = data[j++];\n            cod.xcb = (data[j++] & 0xf) + 2;\n            cod.ycb = (data[j++] & 0xf) + 2;\n            const blockStyle = data[j++];\n            cod.selectiveArithmeticCodingBypass = !!(blockStyle & 1);\n            cod.resetContextProbabilities = !!(blockStyle & 2);\n            cod.terminationOnEachCodingPass = !!(blockStyle & 4);\n            cod.verticallyStripe = !!(blockStyle & 8);\n            cod.predictableTermination = !!(blockStyle & 16);\n            cod.segmentationSymbolUsed = !!(blockStyle & 32);\n            cod.reversibleTransformation = data[j++];\n            if (cod.entropyCoderWithCustomPrecincts) {\n              const precinctsSizes = [];\n              while (j < length + position) {\n                const precinctsSize = data[j++];\n                precinctsSizes.push({\n                  PPx: precinctsSize & 0xf,\n                  PPy: precinctsSize >> 4,\n                });\n              }\n              cod.precinctsSizes = precinctsSizes;\n            }\n            const unsupported = [];\n            if (cod.selectiveArithmeticCodingBypass) {\n              unsupported.push(\"selectiveArithmeticCodingBypass\");\n            }\n            if (cod.terminationOnEachCodingPass) {\n              unsupported.push(\"terminationOnEachCodingPass\");\n            }\n            if (cod.verticallyStripe) {\n              unsupported.push(\"verticallyStripe\");\n            }\n            if (cod.predictableTermination) {\n              unsupported.push(\"predictableTermination\");\n            }\n            if (unsupported.length > 0) {\n              doNotRecover = true;\n              warn(`JPX: Unsupported COD options (${unsupported.join(\", \")}).`);\n            }\n            if (context.mainHeader) {\n              context.COD = cod;\n            } else {\n              context.currentTile.COD = cod;\n              context.currentTile.COC = [];\n            }\n            break;\n          case 0xff90: // Start of tile-part (SOT)\n            length = readUint16(data, position);\n            tile = {};\n            tile.index = readUint16(data, position + 2);\n            tile.length = readUint32(data, position + 4);\n            tile.dataEnd = tile.length + position - 2;\n            tile.partIndex = data[position + 8];\n            tile.partsCount = data[position + 9];\n\n            context.mainHeader = false;\n            if (tile.partIndex === 0) {\n              // reset component specific settings\n              tile.COD = context.COD;\n              tile.COC = context.COC.slice(0); // clone of the global COC\n              tile.QCD = context.QCD;\n              tile.QCC = context.QCC.slice(0); // clone of the global COC\n            }\n            context.currentTile = tile;\n            break;\n          case 0xff93: // Start of data (SOD)\n            tile = context.currentTile;\n            if (tile.partIndex === 0) {\n              initializeTile(context, tile.index);\n              buildPackets(context);\n            }\n\n            // moving to the end of the data\n            length = tile.dataEnd - position;\n            parseTilePackets(context, data, position, length);\n            break;\n          case 0xff53: // Coding style component (COC)\n            warn(\"JPX: Codestream code 0xFF53 (COC) is not implemented.\");\n          /* falls through */\n          case 0xff55: // Tile-part lengths, main header (TLM)\n          case 0xff57: // Packet length, main header (PLM)\n          case 0xff58: // Packet length, tile-part header (PLT)\n          case 0xff64: // Comment (COM)\n            length = readUint16(data, position);\n            // skipping content\n            break;\n          default:\n            throw new Error(\"Unknown codestream code: \" + code.toString(16));\n        }\n        position += length;\n      }\n    } catch (e) {\n      if (doNotRecover || this.failOnCorruptedImage) {\n        throw new JpxError(e.message);\n      } else {\n        warn(`JPX: Trying to recover from: \"${e.message}\".`);\n      }\n    }\n    this.tiles = transformComponents(context);\n    this.width = context.SIZ.Xsiz - context.SIZ.XOsiz;\n    this.height = context.SIZ.Ysiz - context.SIZ.YOsiz;\n    this.componentsCount = context.SIZ.Csiz;\n  }\n}\n\nfunction calculateComponentDimensions(component, siz) {\n  // Section B.2 Component mapping\n  component.x0 = Math.ceil(siz.XOsiz / component.XRsiz);\n  component.x1 = Math.ceil(siz.Xsiz / component.XRsiz);\n  component.y0 = Math.ceil(siz.YOsiz / component.YRsiz);\n  component.y1 = Math.ceil(siz.Ysiz / component.YRsiz);\n  component.width = component.x1 - component.x0;\n  component.height = component.y1 - component.y0;\n}\nfunction calculateTileGrids(context, components) {\n  const siz = context.SIZ;\n  // Section B.3 Division into tile and tile-components\n  const tiles = [];\n  let tile;\n  const numXtiles = Math.ceil((siz.Xsiz - siz.XTOsiz) / siz.XTsiz);\n  const numYtiles = Math.ceil((siz.Ysiz - siz.YTOsiz) / siz.YTsiz);\n  for (let q = 0; q < numYtiles; q++) {\n    for (let p = 0; p < numXtiles; p++) {\n      tile = {};\n      tile.tx0 = Math.max(siz.XTOsiz + p * siz.XTsiz, siz.XOsiz);\n      tile.ty0 = Math.max(siz.YTOsiz + q * siz.YTsiz, siz.YOsiz);\n      tile.tx1 = Math.min(siz.XTOsiz + (p + 1) * siz.XTsiz, siz.Xsiz);\n      tile.ty1 = Math.min(siz.YTOsiz + (q + 1) * siz.YTsiz, siz.Ysiz);\n      tile.width = tile.tx1 - tile.tx0;\n      tile.height = tile.ty1 - tile.ty0;\n      tile.components = [];\n      tiles.push(tile);\n    }\n  }\n  context.tiles = tiles;\n\n  const componentsCount = siz.Csiz;\n  for (let i = 0, ii = componentsCount; i < ii; i++) {\n    const component = components[i];\n    for (let j = 0, jj = tiles.length; j < jj; j++) {\n      const tileComponent = {};\n      tile = tiles[j];\n      tileComponent.tcx0 = Math.ceil(tile.tx0 / component.XRsiz);\n      tileComponent.tcy0 = Math.ceil(tile.ty0 / component.YRsiz);\n      tileComponent.tcx1 = Math.ceil(tile.tx1 / component.XRsiz);\n      tileComponent.tcy1 = Math.ceil(tile.ty1 / component.YRsiz);\n      tileComponent.width = tileComponent.tcx1 - tileComponent.tcx0;\n      tileComponent.height = tileComponent.tcy1 - tileComponent.tcy0;\n      tile.components[i] = tileComponent;\n    }\n  }\n}\nfunction getBlocksDimensions(context, component, r) {\n  const codOrCoc = component.codingStyleParameters;\n  const result = {};\n  if (!codOrCoc.entropyCoderWithCustomPrecincts) {\n    result.PPx = 15;\n    result.PPy = 15;\n  } else {\n    result.PPx = codOrCoc.precinctsSizes[r].PPx;\n    result.PPy = codOrCoc.precinctsSizes[r].PPy;\n  }\n  // calculate codeblock size as described in section B.7\n  result.xcb_ =\n    r > 0\n      ? Math.min(codOrCoc.xcb, result.PPx - 1)\n      : Math.min(codOrCoc.xcb, result.PPx);\n  result.ycb_ =\n    r > 0\n      ? Math.min(codOrCoc.ycb, result.PPy - 1)\n      : Math.min(codOrCoc.ycb, result.PPy);\n  return result;\n}\nfunction buildPrecincts(context, resolution, dimensions) {\n  // Section B.6 Division resolution to precincts\n  const precinctWidth = 1 << dimensions.PPx;\n  const precinctHeight = 1 << dimensions.PPy;\n  // Jasper introduces codeblock groups for mapping each subband codeblocks\n  // to precincts. Precinct partition divides a resolution according to width\n  // and height parameters. The subband that belongs to the resolution level\n  // has a different size than the level, unless it is the zero resolution.\n\n  // From Jasper documentation: jpeg2000.pdf, section K: Tier-2 coding:\n  // The precinct partitioning for a particular subband is derived from a\n  // partitioning of its parent LL band (i.e., the LL band at the next higher\n  // resolution level)... The LL band associated with each resolution level is\n  // divided into precincts... Each of the resulting precinct regions is then\n  // mapped into its child subbands (if any) at the next lower resolution\n  // level. This is accomplished by using the coordinate transformation\n  // (u, v) = (ceil(x/2), ceil(y/2)) where (x, y) and (u, v) are the\n  // coordinates of a point in the LL band and child subband, respectively.\n  const isZeroRes = resolution.resLevel === 0;\n  const precinctWidthInSubband = 1 << (dimensions.PPx + (isZeroRes ? 0 : -1));\n  const precinctHeightInSubband = 1 << (dimensions.PPy + (isZeroRes ? 0 : -1));\n  const numprecinctswide =\n    resolution.trx1 > resolution.trx0\n      ? Math.ceil(resolution.trx1 / precinctWidth) -\n        Math.floor(resolution.trx0 / precinctWidth)\n      : 0;\n  const numprecinctshigh =\n    resolution.try1 > resolution.try0\n      ? Math.ceil(resolution.try1 / precinctHeight) -\n        Math.floor(resolution.try0 / precinctHeight)\n      : 0;\n  const numprecincts = numprecinctswide * numprecinctshigh;\n\n  resolution.precinctParameters = {\n    precinctWidth,\n    precinctHeight,\n    numprecinctswide,\n    numprecinctshigh,\n    numprecincts,\n    precinctWidthInSubband,\n    precinctHeightInSubband,\n  };\n}\nfunction buildCodeblocks(context, subband, dimensions) {\n  // Section B.7 Division sub-band into code-blocks\n  const xcb_ = dimensions.xcb_;\n  const ycb_ = dimensions.ycb_;\n  const codeblockWidth = 1 << xcb_;\n  const codeblockHeight = 1 << ycb_;\n  const cbx0 = subband.tbx0 >> xcb_;\n  const cby0 = subband.tby0 >> ycb_;\n  const cbx1 = (subband.tbx1 + codeblockWidth - 1) >> xcb_;\n  const cby1 = (subband.tby1 + codeblockHeight - 1) >> ycb_;\n  const precinctParameters = subband.resolution.precinctParameters;\n  const codeblocks = [];\n  const precincts = [];\n  let i, j, codeblock, precinctNumber;\n  for (j = cby0; j < cby1; j++) {\n    for (i = cbx0; i < cbx1; i++) {\n      codeblock = {\n        cbx: i,\n        cby: j,\n        tbx0: codeblockWidth * i,\n        tby0: codeblockHeight * j,\n        tbx1: codeblockWidth * (i + 1),\n        tby1: codeblockHeight * (j + 1),\n      };\n\n      codeblock.tbx0_ = Math.max(subband.tbx0, codeblock.tbx0);\n      codeblock.tby0_ = Math.max(subband.tby0, codeblock.tby0);\n      codeblock.tbx1_ = Math.min(subband.tbx1, codeblock.tbx1);\n      codeblock.tby1_ = Math.min(subband.tby1, codeblock.tby1);\n\n      // Calculate precinct number for this codeblock, codeblock position\n      // should be relative to its subband, use actual dimension and position\n      // See comment about codeblock group width and height\n      const pi = Math.floor(\n        (codeblock.tbx0_ - subband.tbx0) /\n          precinctParameters.precinctWidthInSubband\n      );\n      const pj = Math.floor(\n        (codeblock.tby0_ - subband.tby0) /\n          precinctParameters.precinctHeightInSubband\n      );\n      precinctNumber = pi + pj * precinctParameters.numprecinctswide;\n\n      codeblock.precinctNumber = precinctNumber;\n      codeblock.subbandType = subband.type;\n      codeblock.Lblock = 3;\n\n      if (\n        codeblock.tbx1_ <= codeblock.tbx0_ ||\n        codeblock.tby1_ <= codeblock.tby0_\n      ) {\n        continue;\n      }\n      codeblocks.push(codeblock);\n      // building precinct for the sub-band\n      let precinct = precincts[precinctNumber];\n      if (precinct !== undefined) {\n        if (i < precinct.cbxMin) {\n          precinct.cbxMin = i;\n        } else if (i > precinct.cbxMax) {\n          precinct.cbxMax = i;\n        }\n        if (j < precinct.cbyMin) {\n          precinct.cbxMin = j;\n        } else if (j > precinct.cbyMax) {\n          precinct.cbyMax = j;\n        }\n      } else {\n        precincts[precinctNumber] = precinct = {\n          cbxMin: i,\n          cbyMin: j,\n          cbxMax: i,\n          cbyMax: j,\n        };\n      }\n      codeblock.precinct = precinct;\n    }\n  }\n  subband.codeblockParameters = {\n    codeblockWidth: xcb_,\n    codeblockHeight: ycb_,\n    numcodeblockwide: cbx1 - cbx0 + 1,\n    numcodeblockhigh: cby1 - cby0 + 1,\n  };\n  subband.codeblocks = codeblocks;\n  subband.precincts = precincts;\n}\nfunction createPacket(resolution, precinctNumber, layerNumber) {\n  const precinctCodeblocks = [];\n  // Section B.10.8 Order of info in packet\n  const subbands = resolution.subbands;\n  // sub-bands already ordered in 'LL', 'HL', 'LH', and 'HH' sequence\n  for (let i = 0, ii = subbands.length; i < ii; i++) {\n    const subband = subbands[i];\n    const codeblocks = subband.codeblocks;\n    for (let j = 0, jj = codeblocks.length; j < jj; j++) {\n      const codeblock = codeblocks[j];\n      if (codeblock.precinctNumber !== precinctNumber) {\n        continue;\n      }\n      precinctCodeblocks.push(codeblock);\n    }\n  }\n  return {\n    layerNumber,\n    codeblocks: precinctCodeblocks,\n  };\n}\nfunction LayerResolutionComponentPositionIterator(context) {\n  const siz = context.SIZ;\n  const tileIndex = context.currentTile.index;\n  const tile = context.tiles[tileIndex];\n  const layersCount = tile.codingStyleDefaultParameters.layersCount;\n  const componentsCount = siz.Csiz;\n  let maxDecompositionLevelsCount = 0;\n  for (let q = 0; q < componentsCount; q++) {\n    maxDecompositionLevelsCount = Math.max(\n      maxDecompositionLevelsCount,\n      tile.components[q].codingStyleParameters.decompositionLevelsCount\n    );\n  }\n\n  let l = 0,\n    r = 0,\n    i = 0,\n    k = 0;\n\n  this.nextPacket = function JpxImage_nextPacket() {\n    // Section B.12.1.1 Layer-resolution-component-position\n    for (; l < layersCount; l++) {\n      for (; r <= maxDecompositionLevelsCount; r++) {\n        for (; i < componentsCount; i++) {\n          const component = tile.components[i];\n          if (r > component.codingStyleParameters.decompositionLevelsCount) {\n            continue;\n          }\n\n          const resolution = component.resolutions[r];\n          const numprecincts = resolution.precinctParameters.numprecincts;\n          for (; k < numprecincts; ) {\n            const packet = createPacket(resolution, k, l);\n            k++;\n            return packet;\n          }\n          k = 0;\n        }\n        i = 0;\n      }\n      r = 0;\n    }\n    throw new JpxError(\"Out of packets\");\n  };\n}\nfunction ResolutionLayerComponentPositionIterator(context) {\n  const siz = context.SIZ;\n  const tileIndex = context.currentTile.index;\n  const tile = context.tiles[tileIndex];\n  const layersCount = tile.codingStyleDefaultParameters.layersCount;\n  const componentsCount = siz.Csiz;\n  let maxDecompositionLevelsCount = 0;\n  for (let q = 0; q < componentsCount; q++) {\n    maxDecompositionLevelsCount = Math.max(\n      maxDecompositionLevelsCount,\n      tile.components[q].codingStyleParameters.decompositionLevelsCount\n    );\n  }\n\n  let r = 0,\n    l = 0,\n    i = 0,\n    k = 0;\n\n  this.nextPacket = function JpxImage_nextPacket() {\n    // Section B.12.1.2 Resolution-layer-component-position\n    for (; r <= maxDecompositionLevelsCount; r++) {\n      for (; l < layersCount; l++) {\n        for (; i < componentsCount; i++) {\n          const component = tile.components[i];\n          if (r > component.codingStyleParameters.decompositionLevelsCount) {\n            continue;\n          }\n\n          const resolution = component.resolutions[r];\n          const numprecincts = resolution.precinctParameters.numprecincts;\n          for (; k < numprecincts; ) {\n            const packet = createPacket(resolution, k, l);\n            k++;\n            return packet;\n          }\n          k = 0;\n        }\n        i = 0;\n      }\n      l = 0;\n    }\n    throw new JpxError(\"Out of packets\");\n  };\n}\nfunction ResolutionPositionComponentLayerIterator(context) {\n  const siz = context.SIZ;\n  const tileIndex = context.currentTile.index;\n  const tile = context.tiles[tileIndex];\n  const layersCount = tile.codingStyleDefaultParameters.layersCount;\n  const componentsCount = siz.Csiz;\n  let l, r, c, p;\n  let maxDecompositionLevelsCount = 0;\n  for (c = 0; c < componentsCount; c++) {\n    const component = tile.components[c];\n    maxDecompositionLevelsCount = Math.max(\n      maxDecompositionLevelsCount,\n      component.codingStyleParameters.decompositionLevelsCount\n    );\n  }\n  const maxNumPrecinctsInLevel = new Int32Array(\n    maxDecompositionLevelsCount + 1\n  );\n  for (r = 0; r <= maxDecompositionLevelsCount; ++r) {\n    let maxNumPrecincts = 0;\n    for (c = 0; c < componentsCount; ++c) {\n      const resolutions = tile.components[c].resolutions;\n      if (r < resolutions.length) {\n        maxNumPrecincts = Math.max(\n          maxNumPrecincts,\n          resolutions[r].precinctParameters.numprecincts\n        );\n      }\n    }\n    maxNumPrecinctsInLevel[r] = maxNumPrecincts;\n  }\n  l = 0;\n  r = 0;\n  c = 0;\n  p = 0;\n\n  this.nextPacket = function JpxImage_nextPacket() {\n    // Section B.12.1.3 Resolution-position-component-layer\n    for (; r <= maxDecompositionLevelsCount; r++) {\n      for (; p < maxNumPrecinctsInLevel[r]; p++) {\n        for (; c < componentsCount; c++) {\n          const component = tile.components[c];\n          if (r > component.codingStyleParameters.decompositionLevelsCount) {\n            continue;\n          }\n          const resolution = component.resolutions[r];\n          const numprecincts = resolution.precinctParameters.numprecincts;\n          if (p >= numprecincts) {\n            continue;\n          }\n          for (; l < layersCount; ) {\n            const packet = createPacket(resolution, p, l);\n            l++;\n            return packet;\n          }\n          l = 0;\n        }\n        c = 0;\n      }\n      p = 0;\n    }\n    throw new JpxError(\"Out of packets\");\n  };\n}\nfunction PositionComponentResolutionLayerIterator(context) {\n  const siz = context.SIZ;\n  const tileIndex = context.currentTile.index;\n  const tile = context.tiles[tileIndex];\n  const layersCount = tile.codingStyleDefaultParameters.layersCount;\n  const componentsCount = siz.Csiz;\n  const precinctsSizes = getPrecinctSizesInImageScale(tile);\n  const precinctsIterationSizes = precinctsSizes;\n  let l = 0,\n    r = 0,\n    c = 0,\n    px = 0,\n    py = 0;\n\n  this.nextPacket = function JpxImage_nextPacket() {\n    // Section B.12.1.4 Position-component-resolution-layer\n    for (; py < precinctsIterationSizes.maxNumHigh; py++) {\n      for (; px < precinctsIterationSizes.maxNumWide; px++) {\n        for (; c < componentsCount; c++) {\n          const component = tile.components[c];\n          const decompositionLevelsCount =\n            component.codingStyleParameters.decompositionLevelsCount;\n          for (; r <= decompositionLevelsCount; r++) {\n            const resolution = component.resolutions[r];\n            const sizeInImageScale =\n              precinctsSizes.components[c].resolutions[r];\n            const k = getPrecinctIndexIfExist(\n              px,\n              py,\n              sizeInImageScale,\n              precinctsIterationSizes,\n              resolution\n            );\n            if (k === null) {\n              continue;\n            }\n            for (; l < layersCount; ) {\n              const packet = createPacket(resolution, k, l);\n              l++;\n              return packet;\n            }\n            l = 0;\n          }\n          r = 0;\n        }\n        c = 0;\n      }\n      px = 0;\n    }\n    throw new JpxError(\"Out of packets\");\n  };\n}\nfunction ComponentPositionResolutionLayerIterator(context) {\n  const siz = context.SIZ;\n  const tileIndex = context.currentTile.index;\n  const tile = context.tiles[tileIndex];\n  const layersCount = tile.codingStyleDefaultParameters.layersCount;\n  const componentsCount = siz.Csiz;\n  const precinctsSizes = getPrecinctSizesInImageScale(tile);\n  let l = 0,\n    r = 0,\n    c = 0,\n    px = 0,\n    py = 0;\n\n  this.nextPacket = function JpxImage_nextPacket() {\n    // Section B.12.1.5 Component-position-resolution-layer\n    for (; c < componentsCount; ++c) {\n      const component = tile.components[c];\n      const precinctsIterationSizes = precinctsSizes.components[c];\n      const decompositionLevelsCount =\n        component.codingStyleParameters.decompositionLevelsCount;\n      for (; py < precinctsIterationSizes.maxNumHigh; py++) {\n        for (; px < precinctsIterationSizes.maxNumWide; px++) {\n          for (; r <= decompositionLevelsCount; r++) {\n            const resolution = component.resolutions[r];\n            const sizeInImageScale = precinctsIterationSizes.resolutions[r];\n            const k = getPrecinctIndexIfExist(\n              px,\n              py,\n              sizeInImageScale,\n              precinctsIterationSizes,\n              resolution\n            );\n            if (k === null) {\n              continue;\n            }\n            for (; l < layersCount; ) {\n              const packet = createPacket(resolution, k, l);\n              l++;\n              return packet;\n            }\n            l = 0;\n          }\n          r = 0;\n        }\n        px = 0;\n      }\n      py = 0;\n    }\n    throw new JpxError(\"Out of packets\");\n  };\n}\nfunction getPrecinctIndexIfExist(\n  pxIndex,\n  pyIndex,\n  sizeInImageScale,\n  precinctIterationSizes,\n  resolution\n) {\n  const posX = pxIndex * precinctIterationSizes.minWidth;\n  const posY = pyIndex * precinctIterationSizes.minHeight;\n  if (\n    posX % sizeInImageScale.width !== 0 ||\n    posY % sizeInImageScale.height !== 0\n  ) {\n    return null;\n  }\n  const startPrecinctRowIndex =\n    (posY / sizeInImageScale.width) *\n    resolution.precinctParameters.numprecinctswide;\n  return posX / sizeInImageScale.height + startPrecinctRowIndex;\n}\nfunction getPrecinctSizesInImageScale(tile) {\n  const componentsCount = tile.components.length;\n  let minWidth = Number.MAX_VALUE;\n  let minHeight = Number.MAX_VALUE;\n  let maxNumWide = 0;\n  let maxNumHigh = 0;\n  const sizePerComponent = new Array(componentsCount);\n  for (let c = 0; c < componentsCount; c++) {\n    const component = tile.components[c];\n    const decompositionLevelsCount =\n      component.codingStyleParameters.decompositionLevelsCount;\n    const sizePerResolution = new Array(decompositionLevelsCount + 1);\n    let minWidthCurrentComponent = Number.MAX_VALUE;\n    let minHeightCurrentComponent = Number.MAX_VALUE;\n    let maxNumWideCurrentComponent = 0;\n    let maxNumHighCurrentComponent = 0;\n    let scale = 1;\n    for (let r = decompositionLevelsCount; r >= 0; --r) {\n      const resolution = component.resolutions[r];\n      const widthCurrentResolution =\n        scale * resolution.precinctParameters.precinctWidth;\n      const heightCurrentResolution =\n        scale * resolution.precinctParameters.precinctHeight;\n      minWidthCurrentComponent = Math.min(\n        minWidthCurrentComponent,\n        widthCurrentResolution\n      );\n      minHeightCurrentComponent = Math.min(\n        minHeightCurrentComponent,\n        heightCurrentResolution\n      );\n      maxNumWideCurrentComponent = Math.max(\n        maxNumWideCurrentComponent,\n        resolution.precinctParameters.numprecinctswide\n      );\n      maxNumHighCurrentComponent = Math.max(\n        maxNumHighCurrentComponent,\n        resolution.precinctParameters.numprecinctshigh\n      );\n      sizePerResolution[r] = {\n        width: widthCurrentResolution,\n        height: heightCurrentResolution,\n      };\n      scale <<= 1;\n    }\n    minWidth = Math.min(minWidth, minWidthCurrentComponent);\n    minHeight = Math.min(minHeight, minHeightCurrentComponent);\n    maxNumWide = Math.max(maxNumWide, maxNumWideCurrentComponent);\n    maxNumHigh = Math.max(maxNumHigh, maxNumHighCurrentComponent);\n    sizePerComponent[c] = {\n      resolutions: sizePerResolution,\n      minWidth: minWidthCurrentComponent,\n      minHeight: minHeightCurrentComponent,\n      maxNumWide: maxNumWideCurrentComponent,\n      maxNumHigh: maxNumHighCurrentComponent,\n    };\n  }\n  return {\n    components: sizePerComponent,\n    minWidth,\n    minHeight,\n    maxNumWide,\n    maxNumHigh,\n  };\n}\nfunction buildPackets(context) {\n  const siz = context.SIZ;\n  const tileIndex = context.currentTile.index;\n  const tile = context.tiles[tileIndex];\n  const componentsCount = siz.Csiz;\n  // Creating resolutions and sub-bands for each component\n  for (let c = 0; c < componentsCount; c++) {\n    const component = tile.components[c];\n    const decompositionLevelsCount =\n      component.codingStyleParameters.decompositionLevelsCount;\n    // Section B.5 Resolution levels and sub-bands\n    const resolutions = [];\n    const subbands = [];\n    for (let r = 0; r <= decompositionLevelsCount; r++) {\n      const blocksDimensions = getBlocksDimensions(context, component, r);\n      const resolution = {};\n      const scale = 1 << (decompositionLevelsCount - r);\n      resolution.trx0 = Math.ceil(component.tcx0 / scale);\n      resolution.try0 = Math.ceil(component.tcy0 / scale);\n      resolution.trx1 = Math.ceil(component.tcx1 / scale);\n      resolution.try1 = Math.ceil(component.tcy1 / scale);\n      resolution.resLevel = r;\n      buildPrecincts(context, resolution, blocksDimensions);\n      resolutions.push(resolution);\n\n      let subband;\n      if (r === 0) {\n        // one sub-band (LL) with last decomposition\n        subband = {};\n        subband.type = \"LL\";\n        subband.tbx0 = Math.ceil(component.tcx0 / scale);\n        subband.tby0 = Math.ceil(component.tcy0 / scale);\n        subband.tbx1 = Math.ceil(component.tcx1 / scale);\n        subband.tby1 = Math.ceil(component.tcy1 / scale);\n        subband.resolution = resolution;\n        buildCodeblocks(context, subband, blocksDimensions);\n        subbands.push(subband);\n        resolution.subbands = [subband];\n      } else {\n        const bscale = 1 << (decompositionLevelsCount - r + 1);\n        const resolutionSubbands = [];\n        // three sub-bands (HL, LH and HH) with rest of decompositions\n        subband = {};\n        subband.type = \"HL\";\n        subband.tbx0 = Math.ceil(component.tcx0 / bscale - 0.5);\n        subband.tby0 = Math.ceil(component.tcy0 / bscale);\n        subband.tbx1 = Math.ceil(component.tcx1 / bscale - 0.5);\n        subband.tby1 = Math.ceil(component.tcy1 / bscale);\n        subband.resolution = resolution;\n        buildCodeblocks(context, subband, blocksDimensions);\n        subbands.push(subband);\n        resolutionSubbands.push(subband);\n\n        subband = {};\n        subband.type = \"LH\";\n        subband.tbx0 = Math.ceil(component.tcx0 / bscale);\n        subband.tby0 = Math.ceil(component.tcy0 / bscale - 0.5);\n        subband.tbx1 = Math.ceil(component.tcx1 / bscale);\n        subband.tby1 = Math.ceil(component.tcy1 / bscale - 0.5);\n        subband.resolution = resolution;\n        buildCodeblocks(context, subband, blocksDimensions);\n        subbands.push(subband);\n        resolutionSubbands.push(subband);\n\n        subband = {};\n        subband.type = \"HH\";\n        subband.tbx0 = Math.ceil(component.tcx0 / bscale - 0.5);\n        subband.tby0 = Math.ceil(component.tcy0 / bscale - 0.5);\n        subband.tbx1 = Math.ceil(component.tcx1 / bscale - 0.5);\n        subband.tby1 = Math.ceil(component.tcy1 / bscale - 0.5);\n        subband.resolution = resolution;\n        buildCodeblocks(context, subband, blocksDimensions);\n        subbands.push(subband);\n        resolutionSubbands.push(subband);\n\n        resolution.subbands = resolutionSubbands;\n      }\n    }\n    component.resolutions = resolutions;\n    component.subbands = subbands;\n  }\n  // Generate the packets sequence\n  const progressionOrder = tile.codingStyleDefaultParameters.progressionOrder;\n  switch (progressionOrder) {\n    case 0:\n      tile.packetsIterator = new LayerResolutionComponentPositionIterator(\n        context\n      );\n      break;\n    case 1:\n      tile.packetsIterator = new ResolutionLayerComponentPositionIterator(\n        context\n      );\n      break;\n    case 2:\n      tile.packetsIterator = new ResolutionPositionComponentLayerIterator(\n        context\n      );\n      break;\n    case 3:\n      tile.packetsIterator = new PositionComponentResolutionLayerIterator(\n        context\n      );\n      break;\n    case 4:\n      tile.packetsIterator = new ComponentPositionResolutionLayerIterator(\n        context\n      );\n      break;\n    default:\n      throw new JpxError(`Unsupported progression order ${progressionOrder}`);\n  }\n}\nfunction parseTilePackets(context, data, offset, dataLength) {\n  let position = 0;\n  let buffer,\n    bufferSize = 0,\n    skipNextBit = false;\n  function readBits(count) {\n    while (bufferSize < count) {\n      const b = data[offset + position];\n      position++;\n      if (skipNextBit) {\n        buffer = (buffer << 7) | b;\n        bufferSize += 7;\n        skipNextBit = false;\n      } else {\n        buffer = (buffer << 8) | b;\n        bufferSize += 8;\n      }\n      if (b === 0xff) {\n        skipNextBit = true;\n      }\n    }\n    bufferSize -= count;\n    return (buffer >>> bufferSize) & ((1 << count) - 1);\n  }\n  function skipMarkerIfEqual(value) {\n    if (\n      data[offset + position - 1] === 0xff &&\n      data[offset + position] === value\n    ) {\n      skipBytes(1);\n      return true;\n    } else if (\n      data[offset + position] === 0xff &&\n      data[offset + position + 1] === value\n    ) {\n      skipBytes(2);\n      return true;\n    }\n    return false;\n  }\n  function skipBytes(count) {\n    position += count;\n  }\n  function alignToByte() {\n    bufferSize = 0;\n    if (skipNextBit) {\n      position++;\n      skipNextBit = false;\n    }\n  }\n  function readCodingpasses() {\n    if (readBits(1) === 0) {\n      return 1;\n    }\n    if (readBits(1) === 0) {\n      return 2;\n    }\n    let value = readBits(2);\n    if (value < 3) {\n      return value + 3;\n    }\n    value = readBits(5);\n    if (value < 31) {\n      return value + 6;\n    }\n    value = readBits(7);\n    return value + 37;\n  }\n  const tileIndex = context.currentTile.index;\n  const tile = context.tiles[tileIndex];\n  const sopMarkerUsed = context.COD.sopMarkerUsed;\n  const ephMarkerUsed = context.COD.ephMarkerUsed;\n  const packetsIterator = tile.packetsIterator;\n  while (position < dataLength) {\n    alignToByte();\n    if (sopMarkerUsed && skipMarkerIfEqual(0x91)) {\n      // Skip also marker segment length and packet sequence ID\n      skipBytes(4);\n    }\n    const packet = packetsIterator.nextPacket();\n    if (!readBits(1)) {\n      continue;\n    }\n    const layerNumber = packet.layerNumber,\n      queue = [];\n    let codeblock;\n    for (let i = 0, ii = packet.codeblocks.length; i < ii; i++) {\n      codeblock = packet.codeblocks[i];\n      let precinct = codeblock.precinct;\n      const codeblockColumn = codeblock.cbx - precinct.cbxMin;\n      const codeblockRow = codeblock.cby - precinct.cbyMin;\n      let codeblockIncluded = false;\n      let firstTimeInclusion = false;\n      let valueReady, zeroBitPlanesTree;\n      if (codeblock.included !== undefined) {\n        codeblockIncluded = !!readBits(1);\n      } else {\n        // reading inclusion tree\n        precinct = codeblock.precinct;\n        let inclusionTree;\n        if (precinct.inclusionTree !== undefined) {\n          inclusionTree = precinct.inclusionTree;\n        } else {\n          // building inclusion and zero bit-planes trees\n          const width = precinct.cbxMax - precinct.cbxMin + 1;\n          const height = precinct.cbyMax - precinct.cbyMin + 1;\n          inclusionTree = new InclusionTree(width, height, layerNumber);\n          zeroBitPlanesTree = new TagTree(width, height);\n          precinct.inclusionTree = inclusionTree;\n          precinct.zeroBitPlanesTree = zeroBitPlanesTree;\n          for (let l = 0; l < layerNumber; l++) {\n            if (readBits(1) !== 0) {\n              throw new JpxError(\"Invalid tag tree\");\n            }\n          }\n        }\n\n        if (inclusionTree.reset(codeblockColumn, codeblockRow, layerNumber)) {\n          while (true) {\n            if (readBits(1)) {\n              valueReady = !inclusionTree.nextLevel();\n              if (valueReady) {\n                codeblock.included = true;\n                codeblockIncluded = firstTimeInclusion = true;\n                break;\n              }\n            } else {\n              inclusionTree.incrementValue(layerNumber);\n              break;\n            }\n          }\n        }\n      }\n      if (!codeblockIncluded) {\n        continue;\n      }\n      if (firstTimeInclusion) {\n        zeroBitPlanesTree = precinct.zeroBitPlanesTree;\n        zeroBitPlanesTree.reset(codeblockColumn, codeblockRow);\n        while (true) {\n          if (readBits(1)) {\n            valueReady = !zeroBitPlanesTree.nextLevel();\n            if (valueReady) {\n              break;\n            }\n          } else {\n            zeroBitPlanesTree.incrementValue();\n          }\n        }\n        codeblock.zeroBitPlanes = zeroBitPlanesTree.value;\n      }\n      const codingpasses = readCodingpasses();\n      while (readBits(1)) {\n        codeblock.Lblock++;\n      }\n      const codingpassesLog2 = log2(codingpasses);\n      // rounding down log2\n      const bits =\n        (codingpasses < 1 << codingpassesLog2\n          ? codingpassesLog2 - 1\n          : codingpassesLog2) + codeblock.Lblock;\n      const codedDataLength = readBits(bits);\n      queue.push({\n        codeblock,\n        codingpasses,\n        dataLength: codedDataLength,\n      });\n    }\n    alignToByte();\n    if (ephMarkerUsed) {\n      skipMarkerIfEqual(0x92);\n    }\n    while (queue.length > 0) {\n      const packetItem = queue.shift();\n      codeblock = packetItem.codeblock;\n      if (codeblock.data === undefined) {\n        codeblock.data = [];\n      }\n      codeblock.data.push({\n        data,\n        start: offset + position,\n        end: offset + position + packetItem.dataLength,\n        codingpasses: packetItem.codingpasses,\n      });\n      position += packetItem.dataLength;\n    }\n  }\n  return position;\n}\nfunction copyCoefficients(\n  coefficients,\n  levelWidth,\n  levelHeight,\n  subband,\n  delta,\n  mb,\n  reversible,\n  segmentationSymbolUsed,\n  resetContextProbabilities\n) {\n  const x0 = subband.tbx0;\n  const y0 = subband.tby0;\n  const width = subband.tbx1 - subband.tbx0;\n  const codeblocks = subband.codeblocks;\n  const right = subband.type.charAt(0) === \"H\" ? 1 : 0;\n  const bottom = subband.type.charAt(1) === \"H\" ? levelWidth : 0;\n\n  for (let i = 0, ii = codeblocks.length; i < ii; ++i) {\n    const codeblock = codeblocks[i];\n    const blockWidth = codeblock.tbx1_ - codeblock.tbx0_;\n    const blockHeight = codeblock.tby1_ - codeblock.tby0_;\n    if (blockWidth === 0 || blockHeight === 0) {\n      continue;\n    }\n    if (codeblock.data === undefined) {\n      continue;\n    }\n\n    const bitModel = new BitModel(\n      blockWidth,\n      blockHeight,\n      codeblock.subbandType,\n      codeblock.zeroBitPlanes,\n      mb\n    );\n    let currentCodingpassType = 2; // first bit plane starts from cleanup\n\n    // collect data\n    const data = codeblock.data;\n    let totalLength = 0,\n      codingpasses = 0;\n    let j, jj, dataItem;\n    for (j = 0, jj = data.length; j < jj; j++) {\n      dataItem = data[j];\n      totalLength += dataItem.end - dataItem.start;\n      codingpasses += dataItem.codingpasses;\n    }\n    const encodedData = new Uint8Array(totalLength);\n    let position = 0;\n    for (j = 0, jj = data.length; j < jj; j++) {\n      dataItem = data[j];\n      const chunk = dataItem.data.subarray(dataItem.start, dataItem.end);\n      encodedData.set(chunk, position);\n      position += chunk.length;\n    }\n    // decoding the item\n    const decoder = new ArithmeticDecoder(encodedData, 0, totalLength);\n    bitModel.setDecoder(decoder);\n\n    for (j = 0; j < codingpasses; j++) {\n      switch (currentCodingpassType) {\n        case 0:\n          bitModel.runSignificancePropagationPass();\n          break;\n        case 1:\n          bitModel.runMagnitudeRefinementPass();\n          break;\n        case 2:\n          bitModel.runCleanupPass();\n          if (segmentationSymbolUsed) {\n            bitModel.checkSegmentationSymbol();\n          }\n          break;\n      }\n\n      if (resetContextProbabilities) {\n        bitModel.reset();\n      }\n\n      currentCodingpassType = (currentCodingpassType + 1) % 3;\n    }\n\n    let offset = codeblock.tbx0_ - x0 + (codeblock.tby0_ - y0) * width;\n    const sign = bitModel.coefficentsSign;\n    const magnitude = bitModel.coefficentsMagnitude;\n    const bitsDecoded = bitModel.bitsDecoded;\n    const magnitudeCorrection = reversible ? 0 : 0.5;\n    let k, n, nb;\n    position = 0;\n    // Do the interleaving of Section F.3.3 here, so we do not need\n    // to copy later. LL level is not interleaved, just copied.\n    const interleave = subband.type !== \"LL\";\n    for (j = 0; j < blockHeight; j++) {\n      const row = (offset / width) | 0; // row in the non-interleaved subband\n      const levelOffset = 2 * row * (levelWidth - width) + right + bottom;\n      for (k = 0; k < blockWidth; k++) {\n        n = magnitude[position];\n        if (n !== 0) {\n          n = (n + magnitudeCorrection) * delta;\n          if (sign[position] !== 0) {\n            n = -n;\n          }\n          nb = bitsDecoded[position];\n          const pos = interleave ? levelOffset + (offset << 1) : offset;\n          if (reversible && nb >= mb) {\n            coefficients[pos] = n;\n          } else {\n            coefficients[pos] = n * (1 << (mb - nb));\n          }\n        }\n        offset++;\n        position++;\n      }\n      offset += width - blockWidth;\n    }\n  }\n}\nfunction transformTile(context, tile, c) {\n  const component = tile.components[c];\n  const codingStyleParameters = component.codingStyleParameters;\n  const quantizationParameters = component.quantizationParameters;\n  const decompositionLevelsCount =\n    codingStyleParameters.decompositionLevelsCount;\n  const spqcds = quantizationParameters.SPqcds;\n  const scalarExpounded = quantizationParameters.scalarExpounded;\n  const guardBits = quantizationParameters.guardBits;\n  const segmentationSymbolUsed = codingStyleParameters.segmentationSymbolUsed;\n  const resetContextProbabilities =\n    codingStyleParameters.resetContextProbabilities;\n  const precision = context.components[c].precision;\n\n  const reversible = codingStyleParameters.reversibleTransformation;\n  const transform = reversible\n    ? new ReversibleTransform()\n    : new IrreversibleTransform();\n\n  const subbandCoefficients = [];\n  let b = 0;\n  for (let i = 0; i <= decompositionLevelsCount; i++) {\n    const resolution = component.resolutions[i];\n\n    const width = resolution.trx1 - resolution.trx0;\n    const height = resolution.try1 - resolution.try0;\n    // Allocate space for the whole sublevel.\n    const coefficients = new Float32Array(width * height);\n\n    for (let j = 0, jj = resolution.subbands.length; j < jj; j++) {\n      let mu, epsilon;\n      if (!scalarExpounded) {\n        // formula E-5\n        mu = spqcds[0].mu;\n        epsilon = spqcds[0].epsilon + (i > 0 ? 1 - i : 0);\n      } else {\n        mu = spqcds[b].mu;\n        epsilon = spqcds[b].epsilon;\n        b++;\n      }\n\n      const subband = resolution.subbands[j];\n      const gainLog2 = SubbandsGainLog2[subband.type];\n\n      // calculate quantization coefficient (Section E.1.1.1)\n      const delta = reversible\n        ? 1\n        : 2 ** (precision + gainLog2 - epsilon) * (1 + mu / 2048);\n      const mb = guardBits + epsilon - 1;\n\n      // In the first resolution level, copyCoefficients will fill the\n      // whole array with coefficients. In the succeeding passes,\n      // copyCoefficients will consecutively fill in the values that belong\n      // to the interleaved positions of the HL, LH, and HH coefficients.\n      // The LL coefficients will then be interleaved in Transform.iterate().\n      copyCoefficients(\n        coefficients,\n        width,\n        height,\n        subband,\n        delta,\n        mb,\n        reversible,\n        segmentationSymbolUsed,\n        resetContextProbabilities\n      );\n    }\n    subbandCoefficients.push({\n      width,\n      height,\n      items: coefficients,\n    });\n  }\n\n  const result = transform.calculate(\n    subbandCoefficients,\n    component.tcx0,\n    component.tcy0\n  );\n  return {\n    left: component.tcx0,\n    top: component.tcy0,\n    width: result.width,\n    height: result.height,\n    items: result.items,\n  };\n}\nfunction transformComponents(context) {\n  const siz = context.SIZ;\n  const components = context.components;\n  const componentsCount = siz.Csiz;\n  const resultImages = [];\n  for (let i = 0, ii = context.tiles.length; i < ii; i++) {\n    const tile = context.tiles[i];\n    const transformedTiles = [];\n    for (let c = 0; c < componentsCount; c++) {\n      transformedTiles[c] = transformTile(context, tile, c);\n    }\n    const tile0 = transformedTiles[0];\n    const out = new Uint8ClampedArray(tile0.items.length * componentsCount);\n    const result = {\n      left: tile0.left,\n      top: tile0.top,\n      width: tile0.width,\n      height: tile0.height,\n      items: out,\n    };\n\n    // Section G.2.2 Inverse multi component transform\n    let shift, offset;\n    let pos = 0,\n      j,\n      jj,\n      y0,\n      y1,\n      y2;\n    if (tile.codingStyleDefaultParameters.multipleComponentTransform) {\n      const fourComponents = componentsCount === 4;\n      const y0items = transformedTiles[0].items;\n      const y1items = transformedTiles[1].items;\n      const y2items = transformedTiles[2].items;\n      const y3items = fourComponents ? transformedTiles[3].items : null;\n\n      // HACK: The multiple component transform formulas below assume that\n      // all components have the same precision. With this in mind, we\n      // compute shift and offset only once.\n      shift = components[0].precision - 8;\n      offset = (128 << shift) + 0.5;\n\n      const component0 = tile.components[0];\n      const alpha01 = componentsCount - 3;\n      jj = y0items.length;\n      if (!component0.codingStyleParameters.reversibleTransformation) {\n        // inverse irreversible multiple component transform\n        for (j = 0; j < jj; j++, pos += alpha01) {\n          y0 = y0items[j] + offset;\n          y1 = y1items[j];\n          y2 = y2items[j];\n          out[pos++] = (y0 + 1.402 * y2) >> shift;\n          out[pos++] = (y0 - 0.34413 * y1 - 0.71414 * y2) >> shift;\n          out[pos++] = (y0 + 1.772 * y1) >> shift;\n        }\n      } else {\n        // inverse reversible multiple component transform\n        for (j = 0; j < jj; j++, pos += alpha01) {\n          y0 = y0items[j] + offset;\n          y1 = y1items[j];\n          y2 = y2items[j];\n          const g = y0 - ((y2 + y1) >> 2);\n\n          out[pos++] = (g + y2) >> shift;\n          out[pos++] = g >> shift;\n          out[pos++] = (g + y1) >> shift;\n        }\n      }\n      if (fourComponents) {\n        for (j = 0, pos = 3; j < jj; j++, pos += 4) {\n          out[pos] = (y3items[j] + offset) >> shift;\n        }\n      }\n    } else {\n      // no multi-component transform\n      for (let c = 0; c < componentsCount; c++) {\n        const items = transformedTiles[c].items;\n        shift = components[c].precision - 8;\n        offset = (128 << shift) + 0.5;\n        for (pos = c, j = 0, jj = items.length; j < jj; j++) {\n          out[pos] = (items[j] + offset) >> shift;\n          pos += componentsCount;\n        }\n      }\n    }\n    resultImages.push(result);\n  }\n  return resultImages;\n}\nfunction initializeTile(context, tileIndex) {\n  const siz = context.SIZ;\n  const componentsCount = siz.Csiz;\n  const tile = context.tiles[tileIndex];\n  for (let c = 0; c < componentsCount; c++) {\n    const component = tile.components[c];\n    const qcdOrQcc =\n      context.currentTile.QCC[c] !== undefined\n        ? context.currentTile.QCC[c]\n        : context.currentTile.QCD;\n    component.quantizationParameters = qcdOrQcc;\n    const codOrCoc =\n      context.currentTile.COC[c] !== undefined\n        ? context.currentTile.COC[c]\n        : context.currentTile.COD;\n    component.codingStyleParameters = codOrCoc;\n  }\n  tile.codingStyleDefaultParameters = context.currentTile.COD;\n}\n\n// Section B.10.2 Tag trees\nclass TagTree {\n  constructor(width, height) {\n    const levelsLength = log2(Math.max(width, height)) + 1;\n    this.levels = [];\n    for (let i = 0; i < levelsLength; i++) {\n      const level = {\n        width,\n        height,\n        items: [],\n      };\n      this.levels.push(level);\n      width = Math.ceil(width / 2);\n      height = Math.ceil(height / 2);\n    }\n  }\n\n  reset(i, j) {\n    let currentLevel = 0,\n      value = 0,\n      level;\n    while (currentLevel < this.levels.length) {\n      level = this.levels[currentLevel];\n      const index = i + j * level.width;\n      if (level.items[index] !== undefined) {\n        value = level.items[index];\n        break;\n      }\n      level.index = index;\n      i >>= 1;\n      j >>= 1;\n      currentLevel++;\n    }\n    currentLevel--;\n    level = this.levels[currentLevel];\n    level.items[level.index] = value;\n    this.currentLevel = currentLevel;\n    delete this.value;\n  }\n\n  incrementValue() {\n    const level = this.levels[this.currentLevel];\n    level.items[level.index]++;\n  }\n\n  nextLevel() {\n    let currentLevel = this.currentLevel;\n    let level = this.levels[currentLevel];\n    const value = level.items[level.index];\n    currentLevel--;\n    if (currentLevel < 0) {\n      this.value = value;\n      return false;\n    }\n\n    this.currentLevel = currentLevel;\n    level = this.levels[currentLevel];\n    level.items[level.index] = value;\n    return true;\n  }\n}\n\nclass InclusionTree {\n  constructor(width, height, defaultValue) {\n    const levelsLength = log2(Math.max(width, height)) + 1;\n    this.levels = [];\n    for (let i = 0; i < levelsLength; i++) {\n      const items = new Uint8Array(width * height);\n      for (let j = 0, jj = items.length; j < jj; j++) {\n        items[j] = defaultValue;\n      }\n\n      const level = {\n        width,\n        height,\n        items,\n      };\n      this.levels.push(level);\n\n      width = Math.ceil(width / 2);\n      height = Math.ceil(height / 2);\n    }\n  }\n\n  reset(i, j, stopValue) {\n    let currentLevel = 0;\n    while (currentLevel < this.levels.length) {\n      const level = this.levels[currentLevel];\n      const index = i + j * level.width;\n      level.index = index;\n      const value = level.items[index];\n\n      if (value === 0xff) {\n        break;\n      }\n\n      if (value > stopValue) {\n        this.currentLevel = currentLevel;\n        // already know about this one, propagating the value to top levels\n        this.propagateValues();\n        return false;\n      }\n\n      i >>= 1;\n      j >>= 1;\n      currentLevel++;\n    }\n    this.currentLevel = currentLevel - 1;\n    return true;\n  }\n\n  incrementValue(stopValue) {\n    const level = this.levels[this.currentLevel];\n    level.items[level.index] = stopValue + 1;\n    this.propagateValues();\n  }\n\n  propagateValues() {\n    let levelIndex = this.currentLevel;\n    let level = this.levels[levelIndex];\n    const currentValue = level.items[level.index];\n    while (--levelIndex >= 0) {\n      level = this.levels[levelIndex];\n      level.items[level.index] = currentValue;\n    }\n  }\n\n  nextLevel() {\n    let currentLevel = this.currentLevel;\n    let level = this.levels[currentLevel];\n    const value = level.items[level.index];\n    level.items[level.index] = 0xff;\n    currentLevel--;\n    if (currentLevel < 0) {\n      return false;\n    }\n\n    this.currentLevel = currentLevel;\n    level = this.levels[currentLevel];\n    level.items[level.index] = value;\n    return true;\n  }\n}\n\n// Section D. Coefficient bit modeling\nconst BitModel = (function BitModelClosure() {\n  const UNIFORM_CONTEXT = 17;\n  const RUNLENGTH_CONTEXT = 18;\n  // Table D-1\n  // The index is binary presentation: 0dddvvhh, ddd - sum of Di (0..4),\n  // vv - sum of Vi (0..2), and hh - sum of Hi (0..2)\n  const LLAndLHContextsLabel = new Uint8Array([\n    0, 5, 8, 0, 3, 7, 8, 0, 4, 7, 8, 0, 0, 0, 0, 0, 1, 6, 8, 0, 3, 7, 8, 0, 4,\n    7, 8, 0, 0, 0, 0, 0, 2, 6, 8, 0, 3, 7, 8, 0, 4, 7, 8, 0, 0, 0, 0, 0, 2, 6,\n    8, 0, 3, 7, 8, 0, 4, 7, 8, 0, 0, 0, 0, 0, 2, 6, 8, 0, 3, 7, 8, 0, 4, 7, 8,\n  ]);\n  const HLContextLabel = new Uint8Array([\n    0, 3, 4, 0, 5, 7, 7, 0, 8, 8, 8, 0, 0, 0, 0, 0, 1, 3, 4, 0, 6, 7, 7, 0, 8,\n    8, 8, 0, 0, 0, 0, 0, 2, 3, 4, 0, 6, 7, 7, 0, 8, 8, 8, 0, 0, 0, 0, 0, 2, 3,\n    4, 0, 6, 7, 7, 0, 8, 8, 8, 0, 0, 0, 0, 0, 2, 3, 4, 0, 6, 7, 7, 0, 8, 8, 8,\n  ]);\n  const HHContextLabel = new Uint8Array([\n    0, 1, 2, 0, 1, 2, 2, 0, 2, 2, 2, 0, 0, 0, 0, 0, 3, 4, 5, 0, 4, 5, 5, 0, 5,\n    5, 5, 0, 0, 0, 0, 0, 6, 7, 7, 0, 7, 7, 7, 0, 7, 7, 7, 0, 0, 0, 0, 0, 8, 8,\n    8, 0, 8, 8, 8, 0, 8, 8, 8, 0, 0, 0, 0, 0, 8, 8, 8, 0, 8, 8, 8, 0, 8, 8, 8,\n  ]);\n\n  // eslint-disable-next-line no-shadow\n  class BitModel {\n    constructor(width, height, subband, zeroBitPlanes, mb) {\n      this.width = width;\n      this.height = height;\n\n      let contextLabelTable;\n      if (subband === \"HH\") {\n        contextLabelTable = HHContextLabel;\n      } else if (subband === \"HL\") {\n        contextLabelTable = HLContextLabel;\n      } else {\n        contextLabelTable = LLAndLHContextsLabel;\n      }\n      this.contextLabelTable = contextLabelTable;\n\n      const coefficientCount = width * height;\n\n      // coefficients outside the encoding region treated as insignificant\n      // add border state cells for significanceState\n      this.neighborsSignificance = new Uint8Array(coefficientCount);\n      this.coefficentsSign = new Uint8Array(coefficientCount);\n      let coefficentsMagnitude;\n      if (mb > 14) {\n        coefficentsMagnitude = new Uint32Array(coefficientCount);\n      } else if (mb > 6) {\n        coefficentsMagnitude = new Uint16Array(coefficientCount);\n      } else {\n        coefficentsMagnitude = new Uint8Array(coefficientCount);\n      }\n      this.coefficentsMagnitude = coefficentsMagnitude;\n      this.processingFlags = new Uint8Array(coefficientCount);\n\n      const bitsDecoded = new Uint8Array(coefficientCount);\n      if (zeroBitPlanes !== 0) {\n        for (let i = 0; i < coefficientCount; i++) {\n          bitsDecoded[i] = zeroBitPlanes;\n        }\n      }\n      this.bitsDecoded = bitsDecoded;\n\n      this.reset();\n    }\n\n    setDecoder(decoder) {\n      this.decoder = decoder;\n    }\n\n    reset() {\n      // We have 17 contexts that are accessed via context labels,\n      // plus the uniform and runlength context.\n      this.contexts = new Int8Array(19);\n\n      // Contexts are packed into 1 byte:\n      // highest 7 bits carry the index, lowest bit carries mps\n      this.contexts[0] = (4 << 1) | 0;\n      this.contexts[UNIFORM_CONTEXT] = (46 << 1) | 0;\n      this.contexts[RUNLENGTH_CONTEXT] = (3 << 1) | 0;\n    }\n\n    setNeighborsSignificance(row, column, index) {\n      const neighborsSignificance = this.neighborsSignificance;\n      const width = this.width,\n        height = this.height;\n      const left = column > 0;\n      const right = column + 1 < width;\n      let i;\n\n      if (row > 0) {\n        i = index - width;\n        if (left) {\n          neighborsSignificance[i - 1] += 0x10;\n        }\n        if (right) {\n          neighborsSignificance[i + 1] += 0x10;\n        }\n        neighborsSignificance[i] += 0x04;\n      }\n\n      if (row + 1 < height) {\n        i = index + width;\n        if (left) {\n          neighborsSignificance[i - 1] += 0x10;\n        }\n        if (right) {\n          neighborsSignificance[i + 1] += 0x10;\n        }\n        neighborsSignificance[i] += 0x04;\n      }\n\n      if (left) {\n        neighborsSignificance[index - 1] += 0x01;\n      }\n      if (right) {\n        neighborsSignificance[index + 1] += 0x01;\n      }\n      neighborsSignificance[index] |= 0x80;\n    }\n\n    runSignificancePropagationPass() {\n      const decoder = this.decoder;\n      const width = this.width,\n        height = this.height;\n      const coefficentsMagnitude = this.coefficentsMagnitude;\n      const coefficentsSign = this.coefficentsSign;\n      const neighborsSignificance = this.neighborsSignificance;\n      const processingFlags = this.processingFlags;\n      const contexts = this.contexts;\n      const labels = this.contextLabelTable;\n      const bitsDecoded = this.bitsDecoded;\n      const processedInverseMask = ~1;\n      const processedMask = 1;\n      const firstMagnitudeBitMask = 2;\n\n      for (let i0 = 0; i0 < height; i0 += 4) {\n        for (let j = 0; j < width; j++) {\n          let index = i0 * width + j;\n          for (let i1 = 0; i1 < 4; i1++, index += width) {\n            const i = i0 + i1;\n            if (i >= height) {\n              break;\n            }\n            // clear processed flag first\n            processingFlags[index] &= processedInverseMask;\n\n            if (coefficentsMagnitude[index] || !neighborsSignificance[index]) {\n              continue;\n            }\n\n            const contextLabel = labels[neighborsSignificance[index]];\n            const decision = decoder.readBit(contexts, contextLabel);\n            if (decision) {\n              const sign = this.decodeSignBit(i, j, index);\n              coefficentsSign[index] = sign;\n              coefficentsMagnitude[index] = 1;\n              this.setNeighborsSignificance(i, j, index);\n              processingFlags[index] |= firstMagnitudeBitMask;\n            }\n            bitsDecoded[index]++;\n            processingFlags[index] |= processedMask;\n          }\n        }\n      }\n    }\n\n    decodeSignBit(row, column, index) {\n      const width = this.width,\n        height = this.height;\n      const coefficentsMagnitude = this.coefficentsMagnitude;\n      const coefficentsSign = this.coefficentsSign;\n      let contribution, sign0, sign1, significance1;\n      let contextLabel, decoded;\n\n      // calculate horizontal contribution\n      significance1 = column > 0 && coefficentsMagnitude[index - 1] !== 0;\n      if (column + 1 < width && coefficentsMagnitude[index + 1] !== 0) {\n        sign1 = coefficentsSign[index + 1];\n        if (significance1) {\n          sign0 = coefficentsSign[index - 1];\n          contribution = 1 - sign1 - sign0;\n        } else {\n          contribution = 1 - sign1 - sign1;\n        }\n      } else if (significance1) {\n        sign0 = coefficentsSign[index - 1];\n        contribution = 1 - sign0 - sign0;\n      } else {\n        contribution = 0;\n      }\n      const horizontalContribution = 3 * contribution;\n\n      // calculate vertical contribution and combine with the horizontal\n      significance1 = row > 0 && coefficentsMagnitude[index - width] !== 0;\n      if (row + 1 < height && coefficentsMagnitude[index + width] !== 0) {\n        sign1 = coefficentsSign[index + width];\n        if (significance1) {\n          sign0 = coefficentsSign[index - width];\n          contribution = 1 - sign1 - sign0 + horizontalContribution;\n        } else {\n          contribution = 1 - sign1 - sign1 + horizontalContribution;\n        }\n      } else if (significance1) {\n        sign0 = coefficentsSign[index - width];\n        contribution = 1 - sign0 - sign0 + horizontalContribution;\n      } else {\n        contribution = horizontalContribution;\n      }\n\n      if (contribution >= 0) {\n        contextLabel = 9 + contribution;\n        decoded = this.decoder.readBit(this.contexts, contextLabel);\n      } else {\n        contextLabel = 9 - contribution;\n        decoded = this.decoder.readBit(this.contexts, contextLabel) ^ 1;\n      }\n      return decoded;\n    }\n\n    runMagnitudeRefinementPass() {\n      const decoder = this.decoder;\n      const width = this.width,\n        height = this.height;\n      const coefficentsMagnitude = this.coefficentsMagnitude;\n      const neighborsSignificance = this.neighborsSignificance;\n      const contexts = this.contexts;\n      const bitsDecoded = this.bitsDecoded;\n      const processingFlags = this.processingFlags;\n      const processedMask = 1;\n      const firstMagnitudeBitMask = 2;\n      const length = width * height;\n      const width4 = width * 4;\n\n      for (let index0 = 0, indexNext; index0 < length; index0 = indexNext) {\n        indexNext = Math.min(length, index0 + width4);\n        for (let j = 0; j < width; j++) {\n          for (let index = index0 + j; index < indexNext; index += width) {\n            // significant but not those that have just become\n            if (\n              !coefficentsMagnitude[index] ||\n              (processingFlags[index] & processedMask) !== 0\n            ) {\n              continue;\n            }\n\n            let contextLabel = 16;\n            if ((processingFlags[index] & firstMagnitudeBitMask) !== 0) {\n              processingFlags[index] ^= firstMagnitudeBitMask;\n              // first refinement\n              const significance = neighborsSignificance[index] & 127;\n              contextLabel = significance === 0 ? 15 : 14;\n            }\n\n            const bit = decoder.readBit(contexts, contextLabel);\n            coefficentsMagnitude[index] =\n              (coefficentsMagnitude[index] << 1) | bit;\n            bitsDecoded[index]++;\n            processingFlags[index] |= processedMask;\n          }\n        }\n      }\n    }\n\n    runCleanupPass() {\n      const decoder = this.decoder;\n      const width = this.width,\n        height = this.height;\n      const neighborsSignificance = this.neighborsSignificance;\n      const coefficentsMagnitude = this.coefficentsMagnitude;\n      const coefficentsSign = this.coefficentsSign;\n      const contexts = this.contexts;\n      const labels = this.contextLabelTable;\n      const bitsDecoded = this.bitsDecoded;\n      const processingFlags = this.processingFlags;\n      const processedMask = 1;\n      const firstMagnitudeBitMask = 2;\n      const oneRowDown = width;\n      const twoRowsDown = width * 2;\n      const threeRowsDown = width * 3;\n      let iNext;\n      for (let i0 = 0; i0 < height; i0 = iNext) {\n        iNext = Math.min(i0 + 4, height);\n        const indexBase = i0 * width;\n        const checkAllEmpty = i0 + 3 < height;\n        for (let j = 0; j < width; j++) {\n          const index0 = indexBase + j;\n          // using the property: labels[neighborsSignificance[index]] === 0\n          // when neighborsSignificance[index] === 0\n          const allEmpty =\n            checkAllEmpty &&\n            processingFlags[index0] === 0 &&\n            processingFlags[index0 + oneRowDown] === 0 &&\n            processingFlags[index0 + twoRowsDown] === 0 &&\n            processingFlags[index0 + threeRowsDown] === 0 &&\n            neighborsSignificance[index0] === 0 &&\n            neighborsSignificance[index0 + oneRowDown] === 0 &&\n            neighborsSignificance[index0 + twoRowsDown] === 0 &&\n            neighborsSignificance[index0 + threeRowsDown] === 0;\n          let i1 = 0,\n            index = index0;\n          let i = i0,\n            sign;\n          if (allEmpty) {\n            const hasSignificantCoefficent = decoder.readBit(\n              contexts,\n              RUNLENGTH_CONTEXT\n            );\n            if (!hasSignificantCoefficent) {\n              bitsDecoded[index0]++;\n              bitsDecoded[index0 + oneRowDown]++;\n              bitsDecoded[index0 + twoRowsDown]++;\n              bitsDecoded[index0 + threeRowsDown]++;\n              continue; // next column\n            }\n            i1 =\n              (decoder.readBit(contexts, UNIFORM_CONTEXT) << 1) |\n              decoder.readBit(contexts, UNIFORM_CONTEXT);\n            if (i1 !== 0) {\n              i = i0 + i1;\n              index += i1 * width;\n            }\n\n            sign = this.decodeSignBit(i, j, index);\n            coefficentsSign[index] = sign;\n            coefficentsMagnitude[index] = 1;\n            this.setNeighborsSignificance(i, j, index);\n            processingFlags[index] |= firstMagnitudeBitMask;\n\n            index = index0;\n            for (let i2 = i0; i2 <= i; i2++, index += width) {\n              bitsDecoded[index]++;\n            }\n\n            i1++;\n          }\n          for (i = i0 + i1; i < iNext; i++, index += width) {\n            if (\n              coefficentsMagnitude[index] ||\n              (processingFlags[index] & processedMask) !== 0\n            ) {\n              continue;\n            }\n\n            const contextLabel = labels[neighborsSignificance[index]];\n            const decision = decoder.readBit(contexts, contextLabel);\n            if (decision === 1) {\n              sign = this.decodeSignBit(i, j, index);\n              coefficentsSign[index] = sign;\n              coefficentsMagnitude[index] = 1;\n              this.setNeighborsSignificance(i, j, index);\n              processingFlags[index] |= firstMagnitudeBitMask;\n            }\n            bitsDecoded[index]++;\n          }\n        }\n      }\n    }\n\n    checkSegmentationSymbol() {\n      const decoder = this.decoder;\n      const contexts = this.contexts;\n      const symbol =\n        (decoder.readBit(contexts, UNIFORM_CONTEXT) << 3) |\n        (decoder.readBit(contexts, UNIFORM_CONTEXT) << 2) |\n        (decoder.readBit(contexts, UNIFORM_CONTEXT) << 1) |\n        decoder.readBit(contexts, UNIFORM_CONTEXT);\n      if (symbol !== 0xa) {\n        throw new JpxError(\"Invalid segmentation symbol\");\n      }\n    }\n  }\n\n  return BitModel;\n})();\n\n// Section F, Discrete wavelet transformation\nclass Transform {\n  constructor() {\n    if (this.constructor === Transform) {\n      unreachable(\"Cannot initialize Transform.\");\n    }\n  }\n\n  calculate(subbands, u0, v0) {\n    let ll = subbands[0];\n    for (let i = 1, ii = subbands.length; i < ii; i++) {\n      ll = this.iterate(ll, subbands[i], u0, v0);\n    }\n    return ll;\n  }\n\n  extend(buffer, offset, size) {\n    // Section F.3.7 extending... using max extension of 4\n    let i1 = offset - 1,\n      j1 = offset + 1;\n    let i2 = offset + size - 2,\n      j2 = offset + size;\n    buffer[i1--] = buffer[j1++];\n    buffer[j2++] = buffer[i2--];\n    buffer[i1--] = buffer[j1++];\n    buffer[j2++] = buffer[i2--];\n    buffer[i1--] = buffer[j1++];\n    buffer[j2++] = buffer[i2--];\n    buffer[i1] = buffer[j1];\n    buffer[j2] = buffer[i2];\n  }\n\n  filter(x, offset, length) {\n    unreachable(\"Abstract method `filter` called\");\n  }\n\n  iterate(ll, hl_lh_hh, u0, v0) {\n    const llWidth = ll.width,\n      llHeight = ll.height;\n    let llItems = ll.items;\n    const width = hl_lh_hh.width;\n    const height = hl_lh_hh.height;\n    const items = hl_lh_hh.items;\n    let i, j, k, l, u, v;\n\n    // Interleave LL according to Section F.3.3\n    for (k = 0, i = 0; i < llHeight; i++) {\n      l = i * 2 * width;\n      for (j = 0; j < llWidth; j++, k++, l += 2) {\n        items[l] = llItems[k];\n      }\n    }\n    // The LL band is not needed anymore.\n    llItems = ll.items = null;\n\n    const bufferPadding = 4;\n    const rowBuffer = new Float32Array(width + 2 * bufferPadding);\n\n    // Section F.3.4 HOR_SR\n    if (width === 1) {\n      // if width = 1, when u0 even keep items as is, when odd divide by 2\n      if ((u0 & 1) !== 0) {\n        for (v = 0, k = 0; v < height; v++, k += width) {\n          items[k] *= 0.5;\n        }\n      }\n    } else {\n      for (v = 0, k = 0; v < height; v++, k += width) {\n        rowBuffer.set(items.subarray(k, k + width), bufferPadding);\n\n        this.extend(rowBuffer, bufferPadding, width);\n        this.filter(rowBuffer, bufferPadding, width);\n\n        items.set(rowBuffer.subarray(bufferPadding, bufferPadding + width), k);\n      }\n    }\n\n    // Accesses to the items array can take long, because it may not fit into\n    // CPU cache and has to be fetched from main memory. Since subsequent\n    // accesses to the items array are not local when reading columns, we\n    // have a cache miss every time. To reduce cache misses, get up to\n    // 'numBuffers' items at a time and store them into the individual\n    // buffers. The colBuffers should be small enough to fit into CPU cache.\n    let numBuffers = 16;\n    const colBuffers = [];\n    for (i = 0; i < numBuffers; i++) {\n      colBuffers.push(new Float32Array(height + 2 * bufferPadding));\n    }\n    let b,\n      currentBuffer = 0;\n    ll = bufferPadding + height;\n\n    // Section F.3.5 VER_SR\n    if (height === 1) {\n      // if height = 1, when v0 even keep items as is, when odd divide by 2\n      if ((v0 & 1) !== 0) {\n        for (u = 0; u < width; u++) {\n          items[u] *= 0.5;\n        }\n      }\n    } else {\n      for (u = 0; u < width; u++) {\n        // if we ran out of buffers, copy several image columns at once\n        if (currentBuffer === 0) {\n          numBuffers = Math.min(width - u, numBuffers);\n          for (k = u, l = bufferPadding; l < ll; k += width, l++) {\n            for (b = 0; b < numBuffers; b++) {\n              colBuffers[b][l] = items[k + b];\n            }\n          }\n          currentBuffer = numBuffers;\n        }\n\n        currentBuffer--;\n        const buffer = colBuffers[currentBuffer];\n        this.extend(buffer, bufferPadding, height);\n        this.filter(buffer, bufferPadding, height);\n\n        // If this is last buffer in this group of buffers, flush all buffers.\n        if (currentBuffer === 0) {\n          k = u - numBuffers + 1;\n          for (l = bufferPadding; l < ll; k += width, l++) {\n            for (b = 0; b < numBuffers; b++) {\n              items[k + b] = colBuffers[b][l];\n            }\n          }\n        }\n      }\n    }\n\n    return { width, height, items };\n  }\n}\n\n// Section 3.8.2 Irreversible 9-7 filter\nclass IrreversibleTransform extends Transform {\n  filter(x, offset, length) {\n    const len = length >> 1;\n    offset |= 0;\n    let j, n, current, next;\n\n    const alpha = -1.586134342059924;\n    const beta = -0.052980118572961;\n    const gamma = 0.882911075530934;\n    const delta = 0.443506852043971;\n    const K = 1.230174104914001;\n    const K_ = 1 / K;\n\n    // step 1 is combined with step 3\n\n    // step 2\n    j = offset - 3;\n    for (n = len + 4; n--; j += 2) {\n      x[j] *= K_;\n    }\n\n    // step 1 & 3\n    j = offset - 2;\n    current = delta * x[j - 1];\n    for (n = len + 3; n--; j += 2) {\n      next = delta * x[j + 1];\n      x[j] = K * x[j] - current - next;\n      if (n--) {\n        j += 2;\n        current = delta * x[j + 1];\n        x[j] = K * x[j] - current - next;\n      } else {\n        break;\n      }\n    }\n\n    // step 4\n    j = offset - 1;\n    current = gamma * x[j - 1];\n    for (n = len + 2; n--; j += 2) {\n      next = gamma * x[j + 1];\n      x[j] -= current + next;\n      if (n--) {\n        j += 2;\n        current = gamma * x[j + 1];\n        x[j] -= current + next;\n      } else {\n        break;\n      }\n    }\n\n    // step 5\n    j = offset;\n    current = beta * x[j - 1];\n    for (n = len + 1; n--; j += 2) {\n      next = beta * x[j + 1];\n      x[j] -= current + next;\n      if (n--) {\n        j += 2;\n        current = beta * x[j + 1];\n        x[j] -= current + next;\n      } else {\n        break;\n      }\n    }\n\n    // step 6\n    if (len !== 0) {\n      j = offset + 1;\n      current = alpha * x[j - 1];\n      for (n = len; n--; j += 2) {\n        next = alpha * x[j + 1];\n        x[j] -= current + next;\n        if (n--) {\n          j += 2;\n          current = alpha * x[j + 1];\n          x[j] -= current + next;\n        } else {\n          break;\n        }\n      }\n    }\n  }\n}\n\n// Section 3.8.1 Reversible 5-3 filter\nclass ReversibleTransform extends Transform {\n  filter(x, offset, length) {\n    const len = length >> 1;\n    offset |= 0;\n    let j, n;\n\n    for (j = offset, n = len + 1; n--; j += 2) {\n      x[j] -= (x[j - 1] + x[j + 1] + 2) >> 2;\n    }\n\n    for (j = offset + 1, n = len; n--; j += 2) {\n      x[j] += (x[j - 1] + x[j + 1]) >> 1;\n    }\n  }\n}\n\nexport { JpxImage };\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __w_pdfjs_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __w_pdfjs_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__w_pdfjs_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","/* Copyright 2018 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { getVerbosityLevel, setVerbosityLevel } from \"./shared/util.js\";\nimport { Jbig2Image } from \"./core/jbig2.js\";\nimport { JpegImage } from \"./core/jpg.js\";\nimport { JpxImage } from \"./core/jpx.js\";\n\n// To ensure that the standalone PDF.js image decoders have the same\n// browser/environment compatibility as the regular PDF.js library,\n// the standard set of polyfills are thus included in this build as well.\n//\n// Given that the (current) image decoders don't use all of the features\n// of the complete PDF.js library, e.g. they are completely synchronous,\n// some of the larger polyfills are thus unnecessary.\n//\n// In an attempt to reduce the size of the standalone PDF.js image decoders,\n// the following polyfills are currently being excluded:\n//  - ReadableStream\n//  - Promise\n//  - URL\n\n// eslint-disable-next-line no-unused-vars\nconst pdfjsVersion = PDFJSDev.eval(\"BUNDLE_VERSION\");\n// eslint-disable-next-line no-unused-vars\nconst pdfjsBuild = PDFJSDev.eval(\"BUNDLE_BUILD\");\n\nexport {\n  getVerbosityLevel,\n  Jbig2Image,\n  JpegImage,\n  JpxImage,\n  setVerbosityLevel,\n};\n"],"names":["IDENTITY_MATRIX","FONT_IDENTITY_MATRIX","RenderingIntentFlag","ANY","DISPLAY","PRINT","ANNOTATIONS_FORMS","ANNOTATIONS_STORAGE","ANNOTATIONS_DISABLE","OPLIST","AnnotationMode","DISABLE","ENABLE","ENABLE_FORMS","ENABLE_STORAGE","PermissionFlag","MODIFY_CONTENTS","COPY","MODIFY_ANNOTATIONS","FILL_INTERACTIVE_FORMS","COPY_FOR_ACCESSIBILITY","ASSEMBLE","PRINT_HIGH_QUALITY","TextRenderingMode","FILL","STROKE","FILL_STROKE","INVISIBLE","FILL_ADD_TO_PATH","STROKE_ADD_TO_PATH","FILL_STROKE_ADD_TO_PATH","ADD_TO_PATH","FILL_STROKE_MASK","ADD_TO_PATH_FLAG","ImageKind","GRAYSCALE_1BPP","RGB_24BPP","RGBA_32BPP","AnnotationType","TEXT","LINK","FREETEXT","LINE","SQUARE","CIRCLE","POLYGON","POLYLINE","HIGHLIGHT","UNDERLINE","SQUIGGLY","STRIKEOUT","STAMP","CARET","INK","POPUP","FILEATTACHMENT","SOUND","MOVIE","WIDGET","SCREEN","PRINTERMARK","TRAPNET","WATERMARK","THREED","REDACT","AnnotationStateModelType","MARKED","REVIEW","AnnotationMarkedState","UNMARKED","AnnotationReviewState","ACCEPTED","REJECTED","CANCELLED","COMPLETED","NONE","AnnotationReplyType","GROUP","REPLY","AnnotationFlag","HIDDEN","NOZOOM","NOROTATE","NOVIEW","READONLY","LOCKED","TOGGLENOVIEW","LOCKEDCONTENTS","AnnotationFieldFlag","REQUIRED","NOEXPORT","MULTILINE","PASSWORD","NOTOGGLETOOFF","RADIO","PUSHBUTTON","COMBO","EDIT","SORT","FILESELECT","MULTISELECT","DONOTSPELLCHECK","DONOTSCROLL","COMB","RICHTEXT","RADIOSINUNISON","COMMITONSELCHANGE","AnnotationBorderStyleType","SOLID","DASHED","BEVELED","INSET","AnnotationActionEventType","E","X","D","U","Fo","Bl","PO","PC","PV","PI","K","F","V","C","DocumentActionEventType","WC","WS","DS","WP","DP","PageActionEventType","O","StreamType","UNKNOWN","FLATE","LZW","DCT","JPX","JBIG","A85","AHX","CCF","RLX","FontType","TYPE1","TYPE1STANDARD","TYPE1C","CIDFONTTYPE0","CIDFONTTYPE0C","TRUETYPE","CIDFONTTYPE2","TYPE3","OPENTYPE","TYPE0","MMTYPE1","VerbosityLevel","ERRORS","WARNINGS","INFOS","CMapCompressionType","BINARY","STREAM","OPS","dependency","setLineWidth","setLineCap","setLineJoin","setMiterLimit","setDash","setRenderingIntent","setFlatness","setGState","save","restore","transform","moveTo","lineTo","curveTo","curveTo2","curveTo3","closePath","rectangle","stroke","closeStroke","fill","eoFill","fillStroke","eoFillStroke","closeFillStroke","closeEOFillStroke","endPath","clip","eoClip","beginText","endText","setCharSpacing","setWordSpacing","setHScale","setLeading","setFont","setTextRenderingMode","setTextRise","moveText","setLeadingMoveText","setTextMatrix","nextLine","showText","showSpacedText","nextLineShowText","nextLineSetSpacingShowText","setCharWidth","setCharWidthAndBounds","setStrokeColorSpace","setFillColorSpace","setStrokeColor","setStrokeColorN","setFillColor","setFillColorN","setStrokeGray","setFillGray","setStrokeRGBColor","setFillRGBColor","setStrokeCMYKColor","setFillCMYKColor","shadingFill","beginInlineImage","beginImageData","endInlineImage","paintXObject","markPoint","markPointProps","beginMarkedContent","beginMarkedContentProps","endMarkedContent","beginCompat","endCompat","paintFormXObjectBegin","paintFormXObjectEnd","beginGroup","endGroup","beginAnnotations","endAnnotations","beginAnnotation","endAnnotation","paintJpegXObject","paintImageMaskXObject","paintImageMaskXObjectGroup","paintImageXObject","paintInlineImageXObject","paintInlineImageXObjectGroup","paintImageXObjectRepeat","paintImageMaskXObjectRepeat","paintSolidColorImageMask","constructPath","UNSUPPORTED_FEATURES","unknown","forms","javaScript","signatures","smask","shadingPattern","font","errorTilingPattern","errorExtGState","errorXObject","errorFontLoadType3","errorFontState","errorFontMissing","errorFontTranslate","errorColorSpace","errorOperatorList","errorFontToUnicode","errorFontLoadNative","errorFontBuildPath","errorFontGetPath","errorMarkedContent","errorContentSubStream","PasswordResponses","NEED_PASSWORD","INCORRECT_PASSWORD","verbosity","setVerbosityLevel","level","Number","isInteger","getVerbosityLevel","info","msg","console","log","warn","unreachable","Error","assert","cond","isSameOrigin","baseUrl","otherUrl","base","URL","origin","e","other","_isValidProtocol","url","protocol","createValidAbsoluteUrl","options","addDefaultProtocol","startsWith","dots","match","length","tryConvertEncoding","stringToUTF8String","ex","absoluteUrl","shadow","obj","prop","value","Object","defineProperty","enumerable","configurable","writable","BaseException","BaseExceptionClosure","message","name","constructor","prototype","PasswordException","code","UnknownErrorException","details","InvalidPDFException","MissingPDFException","UnexpectedResponseException","status","FormatError","AbortException","bytesToString","bytes","undefined","MAX_ARGUMENT_COUNT","String","fromCharCode","apply","strBuf","i","chunkEnd","Math","min","chunk","subarray","push","join","stringToBytes","str","Uint8Array","charCodeAt","arrayByteLength","arr","byteLength","arraysToBytes","resultLength","pos","data","item","itemLength","set","string32","objectSize","keys","objectFromMap","map","create","key","isLittleEndian","buffer8","view32","Uint32Array","buffer","IsLittleEndianCached","isEvalSupported","Function","IsEvalSupportedCached","hexNumbers","Array","n","toString","padStart","Util","r","g","b","m1","m2","p","m","xt","yt","d","p1","applyTransform","p2","slice","p3","p4","max","v","transpose","a","c","first","second","sqrt","sx","sy","rect","rect1","rect2","compare","orderedX","sort","orderedY","result","normalizeRect","x0","y0","x1","y1","x2","y2","x3","y3","tvalues","bounds","t","t1","t2","b2ac","sqrtb2ac","abs","j","mt","jlen","PDFStringTranslateTable","stringToPDFString","encoding","decoder","TextDecoder","fatal","decode","ii","charAt","escapeString","replace","isAscii","test","stringToUTF16BEString","buf","char","decodeURIComponent","escape","utf8StringToString","unescape","encodeURIComponent","isArrayBuffer","isArrayEqual","arr1","arr2","getModificationDate","date","Date","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","createPromiseCapability","capability","isSettled","get","promise","Promise","resolve","reject","reason","globalThis","_pdfjsCompatibilityChecked","checkNodeBtoa","btoa","isNodeJS","chars","Buffer","from","checkNodeAtob","atob","input","checkDOMMatrix","DOMMatrix","require","checkPromise","checkReadableStream","ReadableStream","__non_webpack_require__","checkStructuredClone","process","versions","nw","electron","type","global","factory","exports","module","define","amd","self","CSSMatrix","fromArray","array","every","isNaN","TypeError","m11","m12","m13","m14","m21","m22","m23","m24","m31","m32","m33","m34","m41","m42","m43","m44","f","M11","M12","M21","M22","M41","M42","fromMatrix","k","fromString","source","invalidStringError","split","filter","forEach","tf","ref","components","includes","parseFloat","x","y","z","xyz","xyza","values","multiply","translate","rotateAxisAngle","rotate","some","scale","nosy","skewX","skewY","fn","axis","idx","indexOf","axeValues","Translate","Rotate","rx","ry","rz","degToRad","radX","radY","radZ","cosx","cos","sinx","sin","cosy","siny","cosz","sinz","RotateAxisAngle","alpha","angle","sinA","cosA","sinA2","Y","Z","z2","Scale","SkewX","radA","tan","SkewY","Multiply","args","len","arguments","ARGS","l","setMatrixValue","prototypeAccessors","isIdentity","is2D","Float64Array","Float32Array","toArray","pow","toJSON","assign","RX","RY","RZ","transformPoint","M","w","defineProperties","version","Version","Jbig2Error","ContextCache","getContexts","id","Int8Array","DecodingContext","start","end","ArithmeticDecoder","cache","decodeInteger","contextCache","procedure","contexts","prev","readBits","bit","readBit","sign","decodeIAID","codeLength","SegmentTypes","CodingTemplates","RefinementTemplates","coding","reference","ReusedContexts","RefinementReusedContexts","decodeBitmapTemplate0","width","height","decodingContext","bitmap","contextLabel","pixel","row","row1","row2","OLD_PIXEL_MASK","decodeBitmap","mmr","templateIndex","prediction","skip","at","Reader","decodeMMRBitmap","useskip","template","concat","templateLength","templateX","templateY","changingTemplateEntries","reuseMask","minX","maxX","minY","changingEntriesLength","changingTemplateX","changingTemplateY","changingTemplateBit","Uint16Array","sbb_left","sbb_top","sbb_right","pseudoPixelContext","ltp","i0","j0","shift","sltp","decodeRefinement","referenceBitmap","offsetX","offsetY","codingTemplate","codingTemplateLength","codingTemplateX","Int32Array","codingTemplateY","referenceTemplate","referenceTemplateLength","referenceTemplateX","referenceTemplateY","referenceWidth","referenceHeight","decodeSymbolDictionary","huffman","refinement","symbols","numberOfNewSymbols","numberOfExportedSymbols","huffmanTables","refinementTemplateIndex","refinementAt","huffmanInput","newSymbols","currentHeight","symbolCodeLength","log2","tableB1","symbolWidths","getStandardTable","deltaHeight","tableDeltaHeight","currentWidth","totalWidth","firstSymbol","deltaWidth","tableDeltaWidth","numberOfInstances","decodeTextRegion","symbolId","rdx","rdy","symbol","bitmapSize","tableBitmapSize","byteAlign","collectiveBitmap","readUncompressedBitmap","originalEnd","bitmapEnd","position","numberOfSymbolsDecoded","xMin","xMax","bitmapWidth","symbolBitmap","exportedSymbols","flags","currentFlag","totalSymbolsLength","runLength","defaultPixelValue","numberOfSymbolInstances","stripSize","inputSymbols","transposed","dsOffset","referenceCorner","combinationOperator","logStripSize","stripT","tableDeltaT","firstS","deltaT","deltaFirstS","tableFirstS","currentS","currentT","symbolIDTable","applyRefinement","symbolWidth","symbolHeight","rdw","rdh","offsetT","offsetS","s2","symbolRow","maxWidth","deltaS","tableDeltaS","decodePatternDictionary","patternWidth","patternHeight","maxPatternIndex","collectiveWidth","patterns","patternBitmap","decodeHalftoneRegion","regionWidth","regionHeight","enableSkip","gridWidth","gridHeight","gridOffsetX","gridOffsetY","gridVectorX","gridVectorY","regionBitmap","numberOfPatterns","pattern0","bitsPerValue","grayScaleBitPlanes","mmrInput","mg","ng","patternIndex","patternRow","regionRow","regionX","regionY","readSegmentHeader","segmentHeader","number","readUint32","segmentType","typeName","deferredNonRetain","pageAssociationFieldSize","referredFlags","referredToCount","retainBits","referredToSegmentNumberSize","referredTo","readUint16","pageAssociation","genericRegionInfo","readRegionSegmentInformation","genericRegionSegmentFlags","RegionSegmentInformationFieldLength","genericRegionMmr","searchPatternLength","searchPattern","headerEnd","readSegments","header","segments","segment","randomAccess","processSegment","visitor","atLength","dictionary","dictionaryFlags","huffmanDHSelector","huffmanDWSelector","bitmapSizeSelector","aggregationInstancesSelector","bitmapCodingContextUsed","bitmapCodingContextRetained","refinementTemplate","readInt8","textRegion","textRegionSegmentFlags","textRegionHuffmanFlags","huffmanFS","huffmanDS","huffmanDT","huffmanRefinementDW","huffmanRefinementDH","huffmanRefinementDX","huffmanRefinementDY","huffmanRefinementSizeSelector","patternDictionary","patternDictionaryFlags","halftoneRegion","halftoneRegionFlags","genericRegion","pageInfo","resolutionX","resolutionY","pageSegmentFlags","lossless","requiresBuffer","combinationOperatorOverride","callbackName","processSegments","parseJbig2Chunks","chunks","SimpleSegmentVisitor","parseJbig2","numberOfPages","currentPageInfo","bitPacked","imgData","Uint8ClampedArray","q","mask","onPageInformation","rowSize","drawBitmap","regionInfo","mask0","offset0","offset","onImmediateGenericRegion","region","onImmediateLosslessGenericRegion","onSymbolDictionary","currentSegment","referredSegments","getSymbolDictionaryHuffmanTables","customTables","referredSymbols","onImmediateTextRegion","getTextRegionHuffmanTables","onImmediateLosslessTextRegion","onPatternDictionary","onImmediateHalftoneRegion","onImmediateLosslessHalftoneRegion","onTables","decodeTablesSegment","HuffmanLine","lineData","isOOB","rangeLow","prefixLength","rangeLength","prefixCode","isLowerRange","HuffmanTreeNode","line","children","isLeaf","buildTree","node","decodeNode","reader","htOffset","HuffmanTable","lines","prefixCodesDone","assignPrefixCodes","rootNode","linesLength","prefixLengthMax","histogram","currentLength","firstCode","currentCode","currentTemp","lowestValue","highestValue","prefixSizeBits","rangeSizeBits","currentRangeLow","standardTablesCache","table","currentByte","numBits","next","getCustomHuffmanTable","index","currentIndex","numberOfSymbols","codes","runCodesTable","repeatedLength","numberOfRepeats","customIndex","tableAggregateInstances","endOfBlock","params","Columns","Rows","BlackIs1","EndOfBlock","CCITTFaxDecoder","eof","readNextChar","lookForEOFLimit","Jbig2Image","parseChunks","parse","getLookupTableFactory","initializer","lookup","getArrayLookupTableFactory","MissingDataException","begin","ParserEOFException","XRefEntryException","XRefParseException","DocStats","handler","_handler","_streamTypes","Set","_fontTypes","_send","streamTypes","fontTypes","send","addStreamType","has","add","addFontType","getInheritableProperty","dict","getArray","stopWhenFound","visited","RefSet","Dict","objId","put","ROMAN_NUMBER_MAP","toRomanNumerals","lowerCase","romanBuf","romanStr","toLowerCase","ceil","isWhiteSpace","ch","parseXFAPath","path","positionPattern","component","parseInt","escapePDFName","substring","_collectJS","entry","xref","list","parents","parent","Ref","fetch","isArray","element","isName","js","BaseStream","getString","getRaw","remove","collectActions","eventType","actions","additionalActionsDicts","additionalActions","getKeys","action","actionDict","Action","XMLEntities","encodeToXmlString","codePointAt","entity","toUpperCase","validateCSSFont","cssFontInfo","DEFAULT_CSS_FONT_OBLIQUE","DEFAULT_CSS_FONT_WEIGHT","CSS_FONT_WEIGHT_VALUES","fontFamily","fontWeight","italicAngle","ident","weight","recoverJsURL","URL_OPEN_METHODS","regex","RegExp","jsUrl","exec","newWindow","CIRCULAR_REF","Symbol","EOF","Name","NameClosure","nameCache","nameValue","Cmd","CmdClosure","cmdCache","cmd","cmdValue","nonSerializable","nonSerializableClosure","_map","suppressEncryption","__nonSerializable__","assignXref","newXref","key1","key2","key3","fetchAsync","getRawValues","callback","emptyDict","dictArray","mergeSubDicts","mergedDict","properties","Map","entries","property","subDict","size","clear","empty","RefClosure","refCache","num","gen","refValue","_set","RefSetCache","putAlias","aliasRef","isCmd","isDict","isRefsEqual","v1","v2","clearPrimitiveCaches","_clearCache","runtime","Op","hasOwn","hasOwnProperty","$Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","err","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","makeInvokeMethod","tryCatch","arg","call","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","Gp","displayName","defineIteratorMethods","method","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","__proto__","awrap","__await","AsyncIterator","PromiseImpl","invoke","record","then","unwrapped","error","previousPromise","enqueue","callInvokeWithMethodAndArg","async","iter","done","state","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","object","reverse","pop","iterable","iteratorMethod","skipTempReset","stop","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","getByte","getBytes","forceClamped","peekByte","peekedByte","peekBytes","getUint16","b0","b1","getInt32","b2","b3","getByteRange","moveStart","makeSubStream","getBaseStreams","QeTable","qe","nmps","nlps","switchFlag","bp","dataEnd","chigh","clow","byteIn","ct","cx_index","cx_mps","qeTableIcx","qeIcx","ccittEOL","ccittEOF","twoDimPass","twoDimHoriz","twoDimVert0","twoDimVertR1","twoDimVertL1","twoDimVertR2","twoDimVertL2","twoDimVertR3","twoDimVertL3","twoDimTable","whiteTable1","whiteTable2","blackTable1","blackTable2","blackTable3","eoline","EndOfLine","EncodedByteAlign","columns","rows","eoblock","black","codingLine","refLine","codingPos","nextLine2D","inputBits","inputBuf","outputBits","rowsDone","code1","_lookBits","_eatBits","refPos","blackPixels","bits","code2","code3","_getTwoDimCode","_addPixels","_getBlackCode","_getWhiteCode","_addPixelsNeg","gotEOL","a1","_findTableCode","limit","limitValue","JpegError","DNLMarkerError","scanLines","EOIMarkerError","dctZigZag","dctCos1","dctSin1","dctCos3","dctSin3","dctCos6","dctSin6","dctSqrt2","dctSqrt1d2","buildHuffmanTable","codeLengths","getBlockBufferOffset","col","blocksPerLine","decodeScan","frame","resetInterval","spectralStart","spectralEnd","successivePrev","successive","parseDNLMarker","mcusPerLine","progressive","startOffset","bitsData","bitsCount","nextByte","maybeScanLines","blockRow","precision","round","decodeHuffman","tree","receive","receiveAndExtend","decodeBaseline","blockOffset","huffmanTableDC","diff","blockData","pred","rs","huffmanTableAC","s","decodeDCFirst","decodeDCSuccessive","eobrun","decodeACFirst","successiveACState","successiveACNextValue","decodeACSuccessive","offsetZ","decodeMcu","mcu","mcuRow","mcuCol","blockCol","h","decodeBlock","componentsLength","decodeFn","fileMarker","mcuExpected","blocksPerColumn","mcusPerColumn","mcuToRead","findNextFileMarker","invalid","partialMsg","marker","quantizeAndInverse","blockBufferOffset","qt","quantizationTable","v0","v3","v4","v5","v6","v7","p0","p5","p6","p7","buildComponentData","computationBuffer","Int16Array","currentPos","startPos","maxPos","newPos","currentMarker","newMarker","JpegImage","decodeTransform","colorTransform","_decodeTransform","_colorTransform","dnlScanLines","readDataBlock","endOffset","prepareComponents","samplesPerLine","maxH","maxV","blocksPerLineForMcu","blocksPerColumnForMcu","blocksBufferSize","jfif","adobe","numSOSMarkers","quantizationTables","huffmanTablesAC","huffmanTablesDC","markerLoop","appData","major","minor","densityUnits","xDensity","yDensity","thumbWidth","thumbHeight","thumbData","flags0","flags1","transformCode","quantizationTablesLength","quantizationTablesEnd","quantizationTableSpec","tableData","extended","sofScanLines","componentIds","componentsCount","componentId","qId","quantizationId","huffmanLength","huffmanTableSpec","codeLengthSum","huffmanValues","selectorsCount","componentIndex","tableSpec","successiveApproximation","processed","nextFileMarker","output","scaleX","scaleY","numComponents","_getLinearizedBlockData","isSourcePDF","componentScaleX","componentScaleY","blocksPerScanline","dataLength","xScaleBlockOffset","mask3LSB","lastComponentScaleX","_convertYccToRgb","Cb","Cr","_convertYcckToRgb","_convertYcckToCmyk","_convertCmykToRgb","getData","forceRGB","rgbData","grayColor","_isColorConversionNeeded","JpxError","SubbandsGainLog2","LL","LH","HL","HH","JpxImage","failOnCorruptedImage","head","parseCodestream","headerSize","lbox","tbox","jumpDataLength","colorspace","headerType","parseImageProperties","stream","newByte","oldByte","Xsiz","Ysiz","XOsiz","YOsiz","Csiz","bitsPerComponent","doNotRecover","sqcd","spqcds","spqcdSize","scalarExpounded","tile","mainHeader","siz","XTsiz","YTsiz","XTOsiz","YTOsiz","isSigned","XRsiz","YRsiz","calculateComponentDimensions","SIZ","calculateTileGrids","QCC","COC","qcd","noQuantization","guardBits","spqcd","epsilon","mu","SPqcds","QCD","currentTile","qcc","cqcc","cod","scod","entropyCoderWithCustomPrecincts","sopMarkerUsed","ephMarkerUsed","progressionOrder","layersCount","multipleComponentTransform","decompositionLevelsCount","xcb","ycb","blockStyle","selectiveArithmeticCodingBypass","resetContextProbabilities","terminationOnEachCodingPass","verticallyStripe","predictableTermination","segmentationSymbolUsed","reversibleTransformation","precinctsSizes","precinctsSize","PPx","PPy","unsupported","COD","partIndex","partsCount","initializeTile","buildPackets","parseTilePackets","tiles","transformComponents","numXtiles","numYtiles","tx0","ty0","tx1","ty1","jj","tileComponent","tcx0","tcy0","tcx1","tcy1","getBlocksDimensions","codOrCoc","codingStyleParameters","xcb_","ycb_","buildPrecincts","resolution","dimensions","precinctWidth","precinctHeight","isZeroRes","resLevel","precinctWidthInSubband","precinctHeightInSubband","numprecinctswide","trx1","trx0","floor","numprecinctshigh","try1","try0","numprecincts","precinctParameters","buildCodeblocks","subband","codeblockWidth","codeblockHeight","cbx0","tbx0","cby0","tby0","cbx1","tbx1","cby1","tby1","codeblocks","precincts","codeblock","precinctNumber","cbx","cby","tbx0_","tby0_","tbx1_","tby1_","pi","pj","subbandType","Lblock","precinct","cbxMin","cbxMax","cbyMin","cbyMax","codeblockParameters","numcodeblockwide","numcodeblockhigh","createPacket","layerNumber","precinctCodeblocks","subbands","LayerResolutionComponentPositionIterator","tileIndex","codingStyleDefaultParameters","maxDecompositionLevelsCount","nextPacket","JpxImage_nextPacket","resolutions","packet","ResolutionLayerComponentPositionIterator","ResolutionPositionComponentLayerIterator","maxNumPrecinctsInLevel","maxNumPrecincts","PositionComponentResolutionLayerIterator","getPrecinctSizesInImageScale","precinctsIterationSizes","px","py","maxNumHigh","maxNumWide","sizeInImageScale","getPrecinctIndexIfExist","ComponentPositionResolutionLayerIterator","pxIndex","pyIndex","precinctIterationSizes","posX","minWidth","posY","minHeight","startPrecinctRowIndex","MAX_VALUE","sizePerComponent","sizePerResolution","minWidthCurrentComponent","minHeightCurrentComponent","maxNumWideCurrentComponent","maxNumHighCurrentComponent","widthCurrentResolution","heightCurrentResolution","blocksDimensions","bscale","resolutionSubbands","packetsIterator","bufferSize","skipNextBit","count","skipMarkerIfEqual","skipBytes","alignToByte","readCodingpasses","queue","codeblockColumn","codeblockRow","codeblockIncluded","firstTimeInclusion","valueReady","zeroBitPlanesTree","included","inclusionTree","InclusionTree","TagTree","nextLevel","incrementValue","zeroBitPlanes","codingpasses","codingpassesLog2","codedDataLength","packetItem","copyCoefficients","coefficients","levelWidth","levelHeight","delta","mb","reversible","right","bottom","blockWidth","blockHeight","bitModel","BitModel","currentCodingpassType","totalLength","dataItem","encodedData","setDecoder","runSignificancePropagationPass","runMagnitudeRefinementPass","runCleanupPass","checkSegmentationSymbol","coefficentsSign","magnitude","coefficentsMagnitude","bitsDecoded","magnitudeCorrection","nb","interleave","levelOffset","transformTile","quantizationParameters","ReversibleTransform","IrreversibleTransform","subbandCoefficients","gainLog2","items","calculate","left","top","resultImages","transformedTiles","tile0","out","fourComponents","y0items","y1items","y2items","y3items","component0","alpha01","qcdOrQcc","levelsLength","levels","currentLevel","defaultValue","stopValue","propagateValues","levelIndex","currentValue","BitModelClosure","UNIFORM_CONTEXT","RUNLENGTH_CONTEXT","LLAndLHContextsLabel","HLContextLabel","HHContextLabel","contextLabelTable","coefficientCount","neighborsSignificance","processingFlags","setNeighborsSignificance","column","labels","processedInverseMask","processedMask","firstMagnitudeBitMask","i1","decision","decodeSignBit","contribution","sign0","sign1","significance1","decoded","horizontalContribution","width4","index0","indexNext","significance","oneRowDown","twoRowsDown","threeRowsDown","iNext","indexBase","checkAllEmpty","allEmpty","hasSignificantCoefficent","i2","Transform","u0","ll","iterate","extend","j1","j2","hl_lh_hh","llWidth","llHeight","llItems","u","bufferPadding","rowBuffer","numBuffers","colBuffers","currentBuffer","current","beta","gamma","K_","pdfjsVersion","pdfjsBuild"],"sourceRoot":""}